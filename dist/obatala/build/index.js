(()=>{var e,t={907:(e,t,n)=>{"use strict";var r=n(338),o=n(609),i=n.n(o);const a=window.wp.components,s=window.wp.apiFetch;var l=n.n(s);const c=window.ReactJSXRuntime,u=({processTypes:e,onProcessSaved:t,editingProcess:n,onCancel:r})=>{const[i,s]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[p,f]=(0,o.useState)("public"),[h,g]=(0,o.useState)(null);(0,o.useEffect)((()=>{n&&(console.log(n),f(n.meta.access_level),s(n.title.rendered),d(n.meta.process_type))}),[n]);const m=async r=>{if(r.preventDefault(),!i||!u)return void g({status:"error",message:"Please provide a title and select a process type."});const o=e.find((e=>e.id===parseInt(u)));if(!o)return void g({status:"error",message:"Invalid process type selected."});const a={title:i,status:"publish",type:"process_obatala"};try{let e;e=n?await l()({path:`/obatala/v1/process_obatala/${n.id}`,method:"POST",data:{...a}}):await l()({path:"/obatala/v1/process_obatala",method:"POST",data:a}),console.log(e);const r=o.meta.step_order||[],i=r.map((e=>l()({path:`/obatala/v1/process_step/${e}/meta`}))),c=await Promise.all(i),u=r.map(((e,t)=>({step_id:e,meta_fields:c[t]}))),h={step_order:u,process_type:o.id,current_stage:0,access_level:p};await l()({path:`/obatala/v1/process_obatala/${e.id}/meta`,method:"POST",data:h}),await l()({path:`/obatala/v1/process_obatala/${e.id}/process_type`,method:"POST",data:{process_type:o.id}}),e.meta=h,t(e),s(""),d(""),f("public"),g({status:"success",message:n?"Process updated successfully.":"Process created successfully."})}catch(e){console.error("Error creating process:",e),g({status:"error",message:"Error creating process."})}};return(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:m,children:[h&&(0,c.jsx)(a.Notice,{status:h.status,isDismissible:!0,onRemove:()=>g(null),children:h.message}),(0,c.jsx)(a.TextControl,{label:"Process Title",value:i,onChange:e=>s(e),disabled:!!n}),(0,c.jsx)(a.SelectControl,{label:"Process Type",value:u,options:[{label:"Select a process type...",value:""},...e.map((e=>({label:e.title.rendered,value:e.id})))],onChange:e=>d(e),disabled:!!n}),(0,c.jsx)(a.SelectControl,{label:"Access Level",value:p,options:[{label:"Public",value:"public"},{label:"Private",value:"private"}],onChange:e=>f(e)}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"10px"},children:[(0,c.jsx)(a.Button,{variant:"link",onClick:()=>{r(),s(""),d(""),f("public")},children:"Cancel"}),(0,c.jsx)(a.Button,{variant:"primary",onClick:m,children:"Save"})]})]})})},d=window.wp.primitives,p=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),f=(0,c.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),h=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),g=({onSelectProcess:e})=>{const[t,n]=(0,o.useState)([]),[r,i]=(0,o.useState)([]),[s,d]=(0,o.useState)([]),[g,m]=(0,o.useState)(!0),[v,y]=(0,o.useState)([]),[b,x]=(0,o.useState)(null),[w,S]=(0,o.useState)(null),[C,E]=(0,o.useState)(null),[P,R]=(0,o.useState)(null);(0,o.useEffect)((()=>{D(),N(),I()}),[]);const D=()=>{l()({path:"/obatala/v1/process_type?per_page=100&_embed"}).then((e=>{const t=e.sort(((e,t)=>e.title.rendered.localeCompare(t.title.rendered)));n(t)})).catch((e=>{console.error("Error fetching process types:",e)}))},N=()=>{l()({path:"/obatala/v1/process_step?per_page=100&_embed"}).then((e=>{const t=e.sort(((e,t)=>e.title.rendered.localeCompare(t.title.rendered)));y(t)})).catch((e=>{console.error("Error fetching process steps:",e)}))},I=async()=>{m(!0);try{const e=await l()({path:"/obatala/v1/process_obatala?per_page=100&_embed"});e&&Array.isArray(e)?(i(e),await k(e)):(console.error("No processes data returned."),i([]))}catch(e){console.error("Error fetching processes:",e)}finally{m(!1)}},k=async e=>{if(!e||0===e.length)return void console.error("No processes available for fetching process types.");const t=e.map((async e=>{try{const t=await l()({path:`/obatala/v1/process_obatala/${e.id}/process_type`});return{processId:e.id,processTypeId:t}}catch(t){return console.error(`Error fetching process type for process ${e.id}:`,t),{processId:e.id,processTypeId:null}}})),n=await Promise.all(t);d(n)},_=async e=>{if(C){const t=r.map((t=>t.id===C.id?e:t));i(t),E(null)}else i((t=>[...t,e])),S(null);m(!0);const t=[...r,e];R({status:"success",message:"Process saved successfully."}),await k(t),m(!1)},M=()=>{E(null),S(null)};return g?(0,c.jsx)(a.Spinner,{}):(0,c.jsxs)("main",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsxs)("div",{className:"title-container",children:[(0,c.jsx)("h2",{children:"Process Manager"}),(0,c.jsx)(a.ButtonGroup,{children:(0,c.jsx)(a.Button,{isPrimary:!0,icon:(0,c.jsx)(a.Icon,{icon:p}),onClick:()=>{S(!0)},children:"Add new"})})]}),P&&(0,c.jsx)("div",{className:"notice-container",children:(0,c.jsx)(a.Notice,{status:P.status,isDismissible:!0,onRemove:()=>R(null),children:P.message})}),(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:"Existing Processes"}),(0,c.jsx)("span",{className:"badge",children:r.length})]}),(0,c.jsx)(a.PanelRow,{children:r.length>0?(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Process Title"}),(0,c.jsx)("th",{children:"Process Type Title"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Access Level"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:r.map((n=>{const r=s.find((e=>e.processId==n.id)),o=r?t.find((e=>e.id==r.processTypeId)):null;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:n.title.rendered}),(0,c.jsx)("td",{children:o?o.title.rendered:""}),(0,c.jsx)("td",{children:n.meta.current_stage||"Not Started"}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{className:"badge "+("public"==n.meta.access_level?"success":"warning"),children:n.meta.access_level})}),(0,c.jsx)("td",{children:(0,c.jsxs)(a.ButtonGroup,{children:[(0,c.jsx)(a.Tooltip,{text:"View",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:f}),onClick:()=>{return t=n.id,x(t),void e(t);var t}})}),(0,c.jsx)(a.Tooltip,{text:"Edit",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:h}),onClick:()=>(e=>{E(e)})(n)})})]})})]},n.id)}))})]}):(0,c.jsx)(a.Notice,{isDismissible:!1,status:"warning",children:"No existing processes."})})]}),C&&(0,c.jsx)(a.Modal,{title:"Edit Process",onRequestClose:M,isDismissible:!0,children:(0,c.jsx)(u,{processTypes:t,onProcessSaved:_,editingProcess:C,onCancel:M})}),w&&(0,c.jsx)(a.Modal,{title:"Add new process",onRequestClose:M,isDismissible:!0,children:(0,c.jsx)(u,{processTypes:t,onProcessSaved:_,onCancel:M})}),b&&(0,c.jsx)("div",{children:e(b)})]})},m=()=>l()({path:"/obatala/v1/process_type?per_page=100&_embed"}).then((e=>(console.log("Fetched process types:",e),e.map((e=>({...e,description:e.meta.description?String(e.meta.description):"",step_order:e.meta.step_order})))))),v=(e,t)=>{const n=t?`/obatala/v1/process_type/${t.id}`:"/obatala/v1/process_type",r=t?"PUT":"POST";return l()({path:n,method:r,data:e})},y=(e,t)=>{const n=t?`/obatala/v1/sector_obatala/${t.id}`:"/obatala/v1/sector_obatala";return l()({path:n,method:"POST",data:e})},b=({onSave:e,editingProcessType:t,onCancel:n})=>{const[r,i]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[u,d]=(0,o.useState)(!1),[p,f]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!1),[m,v]=(0,o.useState)(null);return(0,o.useEffect)((()=>{t&&t.meta&&(i(t.title.rendered),l(Array.isArray(t.meta.description)?t.meta.description[0]:t.meta.description||""),d(Array.isArray(t.meta.accept_attachments)?!!t.meta.accept_attachments[0]:!!t.meta.accept_attachments),f(Array.isArray(t.meta.accept_tainacan_items)?!!t.meta.accept_tainacan_items[0]:!!t.meta.accept_tainacan_items),g(Array.isArray(t.meta.generate_tainacan_items)?!!t.meta.generate_tainacan_items[0]:!!t.meta.generate_tainacan_items))}),[t]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!r)return void v({status:"error",message:"Title is required."});const n={title:r,status:"publish",meta:{description:s,accept_attachments:u,accept_tainacan_items:p,generate_tainacan_items:h}};try{await e(n),v({status:"success",message:"Process type saved successfully."})}catch(e){v({status:"error",message:"Error saving process type."})}},children:[(0,c.jsxs)(a.PanelRow,{children:[(0,c.jsx)(a.TextControl,{label:"Title",value:r,onChange:e=>i(e)}),(0,c.jsx)(a.TextControl,{label:"Description",value:s,onChange:e=>l(e)}),(0,c.jsx)(a.CheckboxControl,{label:"Accept Attachments",checked:u,onChange:e=>d(e)}),(0,c.jsx)(a.CheckboxControl,{label:"Accept Tainacan Items",checked:p,onChange:e=>f(e)}),(0,c.jsx)(a.CheckboxControl,{label:"Generate Tainacan Items",checked:h,onChange:e=>g(e)})]}),(0,c.jsx)(a.PanelRow,{children:(0,c.jsxs)(a.ButtonGroup,{children:[(0,c.jsx)(a.Button,{variant:"link",onClick:n,children:"Cancel"}),(0,c.jsx)(a.Button,{variant:"primary",type:"submit",children:"Save"})]})})]})})};var x=n(885);const w=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),S={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function C(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const E={date:C({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:C({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:C({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},P={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function R(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const D={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:R({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:R({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:R({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:R({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:R({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function N(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const a=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(a))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(a))return t}(s);let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(a.length)}}}const I={ordinalNumber:(k={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(k.matchPattern);if(!n)return null;const r=n[0],o=e.match(k.parsePattern);if(!o)return null;let i=k.valueCallback?k.valueCallback(o[0]):o[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:N({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:N({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:N({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:N({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:N({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var k;const _={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=S[e];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:E,formatRelative:(e,t,n,r)=>P[e],localize:D,match:I,options:{weekStartsOn:0,firstWeekContainsDate:1}};let M={};function j(){return M}Math.pow(10,8);const O=6048e5,A=864e5;function T(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function B(e){const t=T(e);return t.setHours(0,0,0,0),t}function L(e){const t=T(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function F(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function z(e){const t=T(e);return function(e,t){const n=B(e),r=B(t),o=+n-L(n),i=+r-L(r);return Math.round((o-i)/A)}(t,function(e){const t=T(e),n=F(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t))+1}function $(e,t){const n=j(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=T(e),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function H(e){return $(e,{weekStartsOn:1})}function G(e){const t=T(e),n=t.getFullYear(),r=F(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=H(r),i=F(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=H(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function V(e){const t=T(e),n=+H(t)-+function(e){const t=G(e),n=F(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),H(n)}(t);return Math.round(n/O)+1}function W(e,t){const n=T(e),r=n.getFullYear(),o=j(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=F(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const s=$(a,t),l=F(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=$(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function q(e,t){const n=T(e),r=+$(n,t)-+function(e,t){const n=j(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=W(e,t),i=F(e,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),$(i,t)}(n,t);return Math.round(r/O)+1}function Y(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const X={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Y("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Y(n+1,2)},d:(e,t)=>Y(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Y(e.getHours()%12||12,t.length),H:(e,t)=>Y(e.getHours(),t.length),m:(e,t)=>Y(e.getMinutes(),t.length),s:(e,t)=>Y(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Y(Math.trunc(r*Math.pow(10,n-3)),t.length)}},U={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return X.y(e,t)},Y:function(e,t,n,r){const o=W(e,r),i=o>0?o:1-o;return"YY"===t?Y(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Y(i,t.length)},R:function(e,t){return Y(G(e),t.length)},u:function(e,t){return Y(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return X.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=q(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Y(o,t.length)},I:function(e,t,n){const r=V(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Y(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):X.d(e,t)},D:function(e,t,n){const r=z(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Y(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Y(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Y(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Y(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return X.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):X.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Y(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Y(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):X.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):X.s(e,t)},S:function(e,t){return X.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return K(r);case"XXXX":case"XX":return J(r);default:return J(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return K(r);case"xxxx":case"xx":return J(r);default:return J(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z(r,":");default:return"GMT"+J(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z(r,":");default:return"GMT"+J(r,":")}},t:function(e,t,n){return Y(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return Y(e.getTime(),t.length)}};function Z(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+t+Y(i,2)}function K(e,t){return e%60==0?(e>0?"-":"+")+Y(Math.abs(e)/60,2):J(e,t)}function J(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Y(Math.trunc(r/60),2)+t+Y(r%60,2)}const Q=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ee=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},te={p:ee,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Q(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Q(r,t)).replace("{{time}}",ee(o,t))}},ne=/^D+$/,re=/^Y+$/,oe=["D","DD","YY","YYYY"];function ie(e){if(!(t=e,t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t;const n=T(e);return!isNaN(Number(n))}const ae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,se=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,le=/^'([^]*?)'?$/,ce=/''/g,ue=/[a-zA-Z]/;function de(e){const t=e.match(le);return t?t[1].replace(ce,"'"):e}const pe=({processTypes:e,onEdit:t,onDelete:n})=>{const r=(0,o.useMemo)((()=>[{Header:"Title",accessor:"title.rendered"},{Header:"Description",accessor:"description"},{Header:"Created At",accessor:"date",Cell:({value:e})=>function(e,t,n){const r=j(),o=n?.locale??r.locale??_,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=T(e);if(!ie(s))throw new RangeError("Invalid time value");let l=t.match(se).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,te[t])(e,o.formatLong):e})).join("").match(ae).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:de(e)};if(U[t])return{isToken:!0,value:e};if(t.match(ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(l=o.localize.preprocessor(s,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return re.test(e)}(i)||!n?.useAdditionalDayOfYearTokens&&function(e){return ne.test(e)}(i))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),oe.includes(e))throw new RangeError(r)}(i,t,String(e)),(0,U[i[0]])(s,i,o.localize,c)})).join("")}(new Date(e),"MM/dd/yyyy")},{Header:"Number of Steps",accessor:"meta.step_order",Cell:({value:e})=>e?e.length:0},{Header:"Actions",accessor:"id",Cell:({row:e})=>(0,c.jsxs)(a.ButtonGroup,{children:[(0,c.jsx)(a.Tooltip,{text:"Edit",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:h}),onClick:()=>t(e.original.id)})}),(0,c.jsx)(a.Tooltip,{text:"Delete",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:w}),onClick:()=>n(e.original.id)})})]})}]),[t,n]),i=(0,o.useMemo)((()=>e),[e]),{getTableProps:s,getTableBodyProps:l,headerGroups:u,page:d,prepareRow:p,canPreviousPage:f,canNextPage:g,pageOptions:m,state:{pageIndex:v,globalFilter:y},nextPage:b,previousPage:S,setPageSize:C,setGlobalFilter:E}=(0,x.useTable)({columns:r,data:i,initialState:{pageIndex:0,pageSize:10}},x.useGlobalFilter,x.useSortBy,x.usePagination);return(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:"Existing process models"}),(0,c.jsx)("span",{className:"badge",children:e.length})]}),(0,c.jsxs)(a.PanelRow,{children:[(0,c.jsx)(a.TextControl,{className:"mb-1",value:y||"",onChange:e=>E(e),placeholder:"Search by title or description"}),e.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("table",{...s(),className:"wp-list-table widefat fixed striped table-view-list",children:[(0,c.jsx)("thead",{children:u.map((e=>{const{key:t,...n}=e.getHeaderGroupProps();return(0,c.jsx)("tr",{...n,children:e.headers.map((e=>{const{key:t,...n}=e.getHeaderProps(e.getSortByToggleProps());return(0,c.jsxs)("th",{...n,children:[e.render("Header"),(0,c.jsx)("span",{children:e.isSorted?e.isSortedDesc?" 🔽":" 🔼":""})]},t)}))},t)}))}),(0,c.jsx)("tbody",{...l(),children:d.map((e=>{p(e);const{key:t,...n}=e.getRowProps();return(0,c.jsx)("tr",{...n,children:e.cells.map((e=>{const{key:t,...n}=e.getCellProps();return(0,c.jsx)("td",{...n,children:e.render("Cell")},t)}))},t)}))})]}),(0,c.jsxs)("div",{className:"pagination",children:[(0,c.jsx)(a.Button,{onClick:()=>S(),disabled:!f,children:"Previous"}),(0,c.jsxs)("span",{children:["Page"," ",(0,c.jsxs)("strong",{children:[v+1," of ",m.length]})," "]}),(0,c.jsx)(a.Button,{onClick:()=>b(),disabled:!g,children:"Next"})]})]}):(0,c.jsx)(a.Notice,{isDismissible:!1,status:"warning",children:"No existing process types."})]})]})},fe=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[i,s]=(0,o.useState)(null),[u,d]=(0,o.useState)(null);(0,o.useEffect)((()=>{p()}),[]);const p=()=>{r(!0),m().then((e=>{const n=e.sort(((e,t)=>e.title.rendered.localeCompare(t.title.rendered)));t(n),r(!1)})).catch((e=>{console.error("Error fetching process types:",e),r(!1)}))};return n?(0,c.jsx)(a.Spinner,{}):(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsx)("h2",{children:"Process Models"}),(0,c.jsxs)("div",{className:"panel-container",children:[(0,c.jsx)("main",{children:(0,c.jsx)(pe,{processTypes:e,onEdit:e=>{window.location.href=`?page=process-type-editor&process_type_id=${e}`},onDelete:n=>{(e=>l()({path:`/obatala/v1/process_type/${e}`,method:"DELETE"}))(n).then((()=>{const r=e.filter((e=>e.id!==n));t(r)})).catch((e=>{console.error("Error deleting process type:",e)}))}})}),(0,c.jsx)("aside",{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsx)(a.PanelHeader,{children:(0,c.jsx)("h3",{children:"Add process type"})}),(0,c.jsx)(b,{onSave:async e=>{r(!0);try{let t;t=i?await v(e,i):await v(e);const n={accept_attachments:e.meta.accept_attachments,accept_tainacan_items:e.meta.accept_tainacan_items,generate_tainacan_items:e.meta.generate_tainacan_items,description:e.meta.description||""};await((e,t)=>l()({path:`/obatala/v1/process_type/${e}/meta`,method:"PUT",data:t}))(t.id,n),d({status:"success",message:"Process type saved successfully."}),s(null),p()}catch(e){console.error("Error saving process type:",e),d({status:"error",message:"Error saving process type."}),r(!1)}},onCancel:()=>s(null),editingProcessType:i}),u&&(0,c.jsx)(a.Notice,{status:u.status,isDismissible:!0,onRemove:()=>d(null),children:u.message})]})})]})]})},he={isOpen:!1,deleteProcessType:null,deleteStep:null},ge=function(e=he,t){switch(t.type){case"OPEN_MODAL_PROCESS_TYPE":return{...e,isOpen:!0,deleteProcessType:t.payload};case"OPEN_MODAL_STEP":return{...e,isOpen:!0,deleteStep:t.payload};case"CLOSE_MODAL":return{...e,isOpen:!1,deleteProcessType:null,deleteStep:null};default:return e}},me=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[i,s]=(0,o.useReducer)(ge,he),[u,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(!0);(0,o.useEffect)((()=>{g()}),[]);const g=()=>{f(!0),l()({path:"/obatala/v1/process_step?per_page=100&_embed"}).then((e=>{const n=e.sort(((e,t)=>e.title.rendered.localeCompare(t.title.rendered)));t(n),f(!1)})).catch((e=>{console.error("Error fetching process steps:",e),f(!1)}))};return p?(0,c.jsx)(a.Spinner,{}):(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsx)("h2",{children:"Step Manager"}),(0,c.jsxs)("div",{className:"panel-container",children:[(0,c.jsxs)("main",{children:[(0,c.jsx)(a.__experimentalConfirmDialog,{isOpen:i.isOpen,onConfirm:()=>{(async n=>{try{const o=await l()({path:`/obatala/v1/process_step/${n}`}),i=Array.isArray(o.process_type)?o.process_type:[o.process_type];if(await l()({path:"/obatala/v1/process_obatala?per_page=100"}).then((e=>e.some((e=>i.includes(Number(e.process_type)))))))return void r({status:"error",message:"Cannot delete step as it is linked to a process type in use."});await l()({path:`/obatala/v1/process_step/${n}`,method:"DELETE"}),t(e.filter((e=>e.id!==n)))}catch(e){console.error("Error deleting process step:",e)}})(i.deleteStep),s({type:"CLOSE_MODAL"})},onCancel:()=>{r(null),s({type:"CLOSE_MODAL"})},children:"Are you sure you want to delete this Step?"}),(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:"Existing Steps"}),(0,c.jsx)("span",{className:"badge",children:e.length})]}),(0,c.jsx)(a.PanelRow,{children:e.length>0?(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Step Title"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:e.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.title.rendered}),(0,c.jsx)("td",{children:(0,c.jsxs)(a.ButtonGroup,{children:[(0,c.jsx)(a.Tooltip,{text:"Edit",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:h}),onClick:()=>{return t=e.id,void(window.location.href=`?page=process-step-editor&step_id=${t}`);var t}})}),(0,c.jsx)(a.Tooltip,{text:"Delete",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:w}),onClick:()=>(e=>{s({type:"OPEN_MODAL_STEP",payload:e})})(e.id)})})]})})]},e.id)))})]}):(0,c.jsx)(a.Notice,{isDismissible:!1,status:"warning",children:"No existing process steps."})})]})]}),(0,c.jsx)("aside",{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsx)(a.PanelHeader,{children:(0,c.jsx)("h3",{children:"Add Step"})}),(0,c.jsx)(a.PanelBody,{children:(0,c.jsxs)(a.PanelRow,{children:[n&&(0,c.jsx)(a.Notice,{status:n.status,isDismissible:!0,onRemove:()=>r(null),children:n.message}),(0,c.jsx)(a.TextControl,{label:"Step Title",value:u,onChange:e=>d(e)}),(0,c.jsx)(a.Button,{variant:"primary",onClick:()=>{if(!u)return void r({status:"error",message:"Step Title field cannot be empty."});const n={title:u,status:"publish",type:"process_step"};l()({path:"/obatala/v1/process_step",method:"POST",data:n}).then((n=>{t([...e,n]),d(""),r({status:"success",message:"Step created successfully."})})).catch((e=>{console.error("Error creating process step:",e),r({status:"error",message:"Error creating process step."})}))},children:"Save"})]})})]})})]})]})},ve=({options:e,currentStep:t,onStepChange:n,submittedSteps:r})=>{const[i,a]=(0,o.useState)(t||0);return(0,o.useEffect)((()=>{a(t)}),[t]),(0,c.jsxs)("div",{className:"metro-navigation",children:[e.map(((e,o)=>(0,c.jsx)("button",{type:"button",className:`navigation-point ${o===t?"active":""} ${r[o]?"completed":""}`,onClick:()=>{a(o),n(o)},children:e.label},o))),(0,c.jsx)("style",{children:"\n                .metro-navigation {\n                    display: flex;\n                    align-items: stretch;\n                    flex-basis: 260px;\n                    flex-direction: column;\n                    gap: .5rem;\n                }\n                .navigation-point {\n                    background-color: var(--gray-300);\n                    border: 0 none;\n                    border-radius: 10px;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    font-size: .9rem;\n                    gap: .5rem;\n                    padding: .45rem .75rem;\n                    text-align: left;\n                }\n                .navigation-point.active {\n                    background-color: var(--primary-500);\n                    color: var(--white);\n                }\n                .navigation-point .badge {\n                    background-color: rgba(0,0,0,.15);\n                    color: var(--white);\n                }\n            "})]})},ye=({field:e,isEditable:t,onFieldChange:n,fieldId:r,initalValue:i})=>{const[s,l]=(0,o.useState)(i),u=e=>{l(e),n(r,e)};switch(e.type){case"text":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.TextControl,{label:e.title,value:s,onChange:u,disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"datepicker":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.DatePicker,{currentDate:s,onChange:e=>u(e),disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"upload":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.FormFileUpload,{accept:"image/*",onChange:e=>console.log(e.currentTarget.files),label:e.title,disabled:!t,required:!0,children:"Upload"}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"number":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.TextControl,{label:e.title,value:s,onChange:e=>u(e),type:"number",disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"textfield":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.TextareaControl,{label:e.title,value:s,onChange:e=>u(e),disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"select":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.SelectControl,{label:e.title,value:s,onChange:e=>u(e),options:e.value.split(",").map((e=>({label:e,value:e}))),disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});case"radio":return(0,c.jsx)("div",{className:"meta-field-wrapper",children:t?(0,c.jsx)(a.RadioControl,{label:e.title,selected:s,onChange:e=>u(e),options:e.value.split(",").map((e=>({label:e,value:e}))),disabled:!t,required:!0}):(0,c.jsx)("dl",{className:"description-list",children:(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:e.title}),(0,c.jsx)("dd",{children:i})]})})});default:return null}},be=({stepId:e})=>{const[t,n]=(0,o.useState)(""),[r,i]=(0,o.useState)([]),[s,u]=(0,o.useState)(null);(0,o.useEffect)((()=>{d()}),[e]);const d=()=>{l()({path:`/obatala/v1/process_obatala/${e}/comments`,method:"GET"}).then((e=>{i(e)})).catch((e=>{console.error("Error fetching comments:",e),u({status:"error",message:"Error fetching comments."})}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.PanelBody,{title:"Submit comment",children:(0,c.jsxs)(a.PanelRow,{children:[s&&(0,c.jsx)(a.Notice,{status:s.status,isDismissible:!0,onRemove:()=>u(null),children:s.message}),(0,c.jsx)(a.TextControl,{label:"Add a comment",value:t,onChange:e=>n(e)}),(0,c.jsx)(a.Button,{variant:"primary",onClick:()=>{if(!t)return void u({status:"error",message:"Please enter a comment."});const r={content:t,step_id:e};l()({path:`/obatala/v1/process_obatala/${e}/comment`,method:"POST",data:r}).then((()=>{n(""),u({status:"success",message:"Comment added successfully."}),d()})).catch((e=>{console.error("Error adding comment:",e),u({status:"error",message:"Error adding comment."})}))},children:"Submit"})]})}),r.length>0&&(0,c.jsx)(a.PanelBody,{title:"Comments",children:(0,c.jsx)(a.PanelRow,{children:(0,c.jsx)("div",{className:"chat-container",children:(0,c.jsx)("div",{className:"chat-messages",children:r.map((e=>(0,c.jsx)("div",{className:"chat-message "+(e.author?"received":"sent"),children:(0,c.jsxs)("div",{className:"message-content",children:[(0,c.jsxs)("strong",{children:[e.author||"Anonymous",":"]})," ",e.content,(0,c.jsx)("div",{className:"message-date",children:new Date(e.date).toLocaleString()})]})},e.id)))})})})})]})},xe=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),[i,s]=(0,o.useState)(null),[u,d]=(0,o.useState)(0),[p,f]=(0,o.useState)([]),[h,g]=(0,o.useState)(null),[v,y]=(0,o.useState)([]),[b,x]=(0,o.useState)({}),[w,S]=(0,o.useState)({}),[C,E]=(0,o.useState)(!1),P=()=>new URLSearchParams(window.location.search).get("process_id");(0,o.useEffect)((()=>{const e=P();e?N().then((()=>{R(e)})):(s("No process ID found in the URL."),r(!1))}),[]),(0,o.useEffect)((()=>{const e=P();e&&v.length>0&&I(e)}),[v]),(0,o.useEffect)((()=>{e&&D()}),[e]);const R=e=>{r(!0),l()({path:`/obatala/v1/process_obatala/${e}?_embed`}).then((e=>{t(e),r(!1)})).catch((e=>{console.error("Error fetching process:",e),s("Error fetching process details."),r(!1)}))},D=async()=>{try{const e=await l()({path:"/obatala/v1/process_step"});f(e)}catch(e){console.error("Error fetching steps:",e),s("Error fetching steps details.")}},N=()=>(r(!0),m().then((e=>{y(e),r(!1)})).catch((e=>{console.error("Error fetching process types:",e),r(!1)}))),I=e=>{r(!0),l()({path:`/obatala/v1/process_obatala/${e}/process_type`}).then((e=>{const t=v.find((t=>String(t.id)===String(e)));g(t),r(!1)})).catch((e=>{console.error("Error fetching process type:",e),s("Error fetching process details."),r(!1)}))},k=(e,t)=>{S((n=>{const r={...n[u],[e]:t};return{...n,[u]:r}})),E(w)};if(n)return(0,c.jsx)(a.Spinner,{});if(i)return(0,c.jsx)(a.Notice,{status:"error",isDismissible:!1,children:i});if(!e)return(0,c.jsx)(a.Notice,{status:"warning",isDismissible:!1,children:"No process found."});const _=e.meta.step_order.map((e=>{const t=p.find((t=>t.id===e.step_id));return{...e,title:t?t.title.rendered:"Unknown Title",meta_fields:e.meta_fields||[]}})),M=_.map((e=>({label:e.title,value:e.step_id})));return(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Viewer"]}),(0,c.jsxs)("h2",{children:[h?h.title.rendered:"Process type title",": ",e.title?.rendered]}),(0,c.jsxs)("div",{className:"badge-container",children:[(0,c.jsx)("span",{className:"badge "+("public"==e.meta.access_level?"success":"warning"),children:e.meta.access_level}),(0,c.jsx)("span",{className:"badge default",children:"70% concluído"})]}),(0,c.jsxs)("div",{className:"panel-container three-columns",children:[(0,c.jsx)(ve,{options:M,currentStep:u,onStepChange:e=>d(e),submittedSteps:b}),(0,c.jsx)("main",{children:_.length>0&&_[u]?(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:`${_[u].title}`}),(0,c.jsx)("span",{className:"badge default ms-auto",children:"Setor: Recepção"})]}),(0,c.jsxs)(a.PanelBody,{children:[(0,c.jsx)(a.PanelRow,{children:(0,c.jsxs)("form",{className:"centered",action:"",children:[(0,c.jsx)("ul",{className:"meta-fields-list",children:Array.isArray(_[u].meta_fields)?_[u].meta_fields.map(((e,t)=>(0,c.jsx)("li",{className:"meta-field-item",children:(0,c.jsx)(ye,{field:e,fieldId:t,initalValue:w[u]?.[t]||"",isEditable:!b[u],onFieldChange:k})},`${_[u].step_id}-meta-${t}`))):null}),(0,c.jsx)("div",{className:"action-bar",children:(0,c.jsx)(a.Button,{variant:"primary",onClick:()=>{x((e=>({...e,[u]:!0}))),E(!1),console.log("Form values:",w)},disabled:!C||b[u],children:"Submit"})})]})}),(0,c.jsx)("footer",{children:"Última atualização em 21/10/2024 por João da Silva"})]})]},`${_[u].step_id}-${u}`):(0,c.jsx)(a.Notice,{status:"warning",isDismissible:!1,children:"No steps found for this process type."})}),(0,c.jsx)("aside",{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsx)(a.PanelHeader,{children:"Comments"}),(0,c.jsx)(be,{stepId:_[u]?.step_id||null})]})})]})]})};function we(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=we(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Se={value:()=>{}};function Ce(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ee(r)}function Ee(e){this._=e}function Pe(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Re(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Se,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ee.prototype=Ce.prototype={constructor:Ee,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=Re(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Re(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=Pe(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ee(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const De=Ce;function Ne(){}function Ie(e){return null==e?Ne:function(){return this.querySelector(e)}}function ke(){return[]}function _e(e){return null==e?ke:function(){return this.querySelectorAll(e)}}function Me(e){return function(){return this.matches(e)}}function je(e){return function(t){return t.matches(e)}}var Oe=Array.prototype.find;function Ae(){return this.firstElementChild}var Te=Array.prototype.filter;function Be(){return Array.from(this.children)}function Le(e){return new Array(e.length)}function Fe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ze(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Fe(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function $e(e,t,n,r,o,i,a){var s,l,c,u=new Map,d=t.length,p=i.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<p;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new Fe(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(o[s]=l)}function He(e){return e.__data__}function Ge(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ve(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Fe.prototype={constructor:Fe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var We="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:We,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ye(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),qe.hasOwnProperty(t)?{space:qe[t],local:e}:e}function Xe(e){return function(){this.removeAttribute(e)}}function Ue(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ze(e,t){return function(){this.setAttribute(e,t)}}function Ke(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Je(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Qe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function et(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tt(e){return function(){this.style.removeProperty(e)}}function nt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rt(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ot(e,t){return e.style.getPropertyValue(t)||et(e).getComputedStyle(e,null).getPropertyValue(t)}function it(e){return function(){delete this[e]}}function at(e,t){return function(){this[e]=t}}function st(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function lt(e){return e.trim().split(/^|\s+/)}function ct(e){return e.classList||new ut(e)}function ut(e){this._node=e,this._names=lt(e.getAttribute("class")||"")}function dt(e,t){for(var n=ct(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function pt(e,t){for(var n=ct(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ft(e){return function(){dt(this,e)}}function ht(e){return function(){pt(this,e)}}function gt(e,t){return function(){(t.apply(this,arguments)?dt:pt)(this,e)}}function mt(){this.textContent=""}function vt(e){return function(){this.textContent=e}}function yt(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function bt(){this.innerHTML=""}function xt(e){return function(){this.innerHTML=e}}function wt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function St(){this.nextSibling&&this.parentNode.appendChild(this)}function Ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Et(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===We&&t.documentElement.namespaceURI===We?t.createElement(e):t.createElementNS(n,e)}}function Pt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rt(e){var t=Ye(e);return(t.local?Pt:Et)(t)}function Dt(){return null}function Nt(){var e=this.parentNode;e&&e.removeChild(this)}function It(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _t(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Mt(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function jt(e,t,n){var r=et(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Ot(e,t){return function(){return jt(this,e,t)}}function At(e,t){return function(){return jt(this,e,t.apply(this,arguments))}}ut.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Tt=[null];function Bt(e,t){this._groups=e,this._parents=t}function Lt(){return new Bt([[document.documentElement]],Tt)}Bt.prototype=Lt.prototype={constructor:Bt,select:function(e){"function"!=typeof e&&(e=Ie(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Bt(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):_e(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Bt(r,o)},selectChild:function(e){return this.select(null==e?Ae:function(e){return function(){return Oe.call(this.children,e)}}("function"==typeof e?e:je(e)))},selectChildren:function(e){return this.selectAll(null==e?Be:function(e){return function(){return Te.call(this.children,e)}}("function"==typeof e?e:je(e)))},filter:function(e){"function"!=typeof e&&(e=Me(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Bt(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,He);var n,r=t?$e:ze,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],p=i[u],f=p.length,h=Ge(e.call(d,d&&d.__data__,u,o)),g=h.length,m=l[u]=new Array(g),v=s[u]=new Array(g);r(d,p,m,v,c[u]=new Array(f),h,t);for(var y,b,x=0,w=0;x<g;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(b=v[w])&&++w<g;);y._next=b||null}}return(s=new Bt(s,o))._enter=l,s._exit=c,s},enter:function(){return new Bt(this._enter||this._groups.map(Le),this._parents)},exit:function(){return new Bt(this._exit||this._groups.map(Le),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],d=r[l],p=u.length,f=s[l]=new Array(p),h=0;h<p;++h)(c=u[h]||d[h])&&(f[h]=c);for(;l<o;++l)s[l]=n[l];return new Bt(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ve);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Bt(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Ye(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Ue:Xe:"function"==typeof t?n.local?Qe:Je:n.local?Ke:Ze)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?tt:"function"==typeof t?rt:nt)(e,t,null==n?"":n)):ot(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?it:"function"==typeof t?st:at)(e,t)):this.node()[e]},classed:function(e,t){var n=lt(e+"");if(arguments.length<2){for(var r=ct(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?gt:t?ft:ht)(n,t))},text:function(e){return arguments.length?this.each(null==e?mt:("function"==typeof e?yt:vt)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?bt:("function"==typeof e?wt:xt)(e)):this.node().innerHTML},raise:function(){return this.each(St)},lower:function(){return this.each(Ct)},append:function(e){var t="function"==typeof e?e:Rt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Rt(e),r=null==t?Dt:"function"==typeof t?t:Ie(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Nt)},clone:function(e){return this.select(e?kt:It)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Mt:_t,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?At:Ot)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const Ft=Lt;function zt(e){return"string"==typeof e?new Bt([[document.querySelector(e)]],[document.documentElement]):new Bt([[e]],Tt)}function $t(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ht={passive:!1},Gt={capture:!0,passive:!1};function Vt(e){e.stopImmediatePropagation()}function Wt(e){e.preventDefault(),e.stopImmediatePropagation()}function qt(e){var t=e.document.documentElement,n=zt(e).on("dragstart.drag",Wt,Gt);"onselectstart"in t?n.on("selectstart.drag",Wt,Gt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Yt(e,t){var n=e.document.documentElement,r=zt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Wt,Gt),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Xt=e=>()=>e;function Ut(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Zt(e){return!e.ctrlKey&&!e.button}function Kt(){return this.parentNode}function Jt(e,t){return null==t?{x:e.x,y:e.y}:t}function Qt(){return navigator.maxTouchPoints||"ontouchstart"in this}function en(){var e,t,n,r,o=Zt,i=Kt,a=Jt,s=Qt,l={},c=De("start","drag","end"),u=0,d=0;function p(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",v,Ht).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&(zt(a.view).on("mousemove.drag",h,Gt).on("mouseup.drag",g,Gt),qt(a.view),Vt(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function h(r){if(Wt(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function g(e){zt(e.view).on("mousemove.drag mouseup.drag",null),Yt(e.view,n),Wt(e),l.mouse("end",e)}function m(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(Vt(e),r("start",e,a[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(Wt(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(Vt(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,d,f,h=c.copy(),g=$t(i||n,t);if(null!=(f=a.call(e,new Ut("beforestart",{sourceEvent:n,target:p,identifier:o,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:h}),r)))return s=f.x-g[0]||0,d=f.y-g[1]||0,function n(i,a,c){var m,v=g;switch(i){case"start":l[o]=n,m=u++;break;case"end":delete l[o],--u;case"drag":g=$t(c||a,t),m=u}h.call(i,e,new Ut(i,{sourceEvent:a,subject:f,target:p,identifier:o,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:h}),r)}}return p.filter=function(e){return arguments.length?(o="function"==typeof e?e:Xt(!!e),p):o},p.container=function(e){return arguments.length?(i="function"==typeof e?e:Xt(e),p):i},p.subject=function(e){return arguments.length?(a="function"==typeof e?e:Xt(e),p):a},p.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Xt(!!e),p):s},p.on=function(){var e=c.on.apply(c,arguments);return e===c?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}function tn(e){return((e=Math.exp(e))+1/e)/2}Ut.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const nn=function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],c=e[2],u=o[0],d=o[1],p=o[2],f=u-s,h=d-l,g=f*f+h*h;if(g<1e-12)a=Math.log(p/c)/t,i=function(e){return[s+e*f,l+e*h,c*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),v=(p*p-c*c+r*g)/(2*c*n*m),y=(p*p-c*c-r*g)/(2*p*n*m),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);a=(x-b)/t,i=function(e){var r,o=e*a,i=tn(b),u=c/(n*m)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*f,l+u*h,c*i/tn(t*o+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var rn,on,an=0,sn=0,ln=0,cn=1e3,un=0,dn=0,pn=0,fn="object"==typeof performance&&performance.now?performance:Date,hn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gn(){return dn||(hn(mn),dn=fn.now()+pn)}function mn(){dn=0}function vn(){this._call=this._time=this._next=null}function yn(e,t,n){var r=new vn;return r.restart(e,t,n),r}function bn(){dn=(un=fn.now())+pn,an=sn=0;try{!function(){gn(),++an;for(var e,t=rn;t;)(e=dn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--an}()}finally{an=0,function(){for(var e,t,n=rn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:rn=t);on=e,wn(r)}(),dn=0}}function xn(){var e=fn.now(),t=e-un;t>cn&&(pn-=t,un=e)}function wn(e){an||(sn&&(sn=clearTimeout(sn)),e-dn>24?(e<1/0&&(sn=setTimeout(bn,e-fn.now()-pn)),ln&&(ln=clearInterval(ln))):(ln||(un=fn.now(),ln=setInterval(xn,cn)),an=1,hn(bn)))}function Sn(e,t,n){var r=new vn;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}vn.prototype=yn.prototype={constructor:vn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?gn():+n)+(null==t?0:+t),this._next||on===this||(on?on._next=this:rn=this,on=this),this._call=e,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};var Cn=De("start","end","cancel","interrupt"),En=[],Pn=0,Rn=2,Dn=3,Nn=5,In=6;function kn(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(l){var c,u,d,p;if(1!==n.state)return s();for(c in o)if((p=o[c]).name===n.name){if(p.state===Dn)return Sn(i);4===p.state?(p.state=In,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[c]):+c<t&&(p.state=In,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[c])}if(Sn((function(){n.state===Dn&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=Rn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Rn){for(n.state=Dn,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Nn,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);n.state===Nn&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=In,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=yn((function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:o,on:Cn,tween:En,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Pn})}function Mn(e,t){var n=On(e,t);if(n.state>Pn)throw new Error("too late; already scheduled");return n}function jn(e,t){var n=On(e,t);if(n.state>Dn)throw new Error("too late; already running");return n}function On(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function An(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>Rn&&n.state<Nn,n.state=In,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function Tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Bn,Ln=180/Math.PI,Fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zn(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ln,skewX:Math.atan(l)*Ln,scaleX:a,scaleY:s}}function $n(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Tn(e,o)},{i:l-2,x:Tn(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Tn(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Tn(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Tn(e,n)},{i:s-2,x:Tn(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Hn=$n((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Fn:zn(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Gn=$n((function(e){return null==e?Fn:(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",e),(e=Bn.transform.baseVal.consolidate())?zn((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Fn)}),", ",")",")");function Vn(e,t){var n,r;return function(){var o=jn(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function Wn(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=jn(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function qn(e,t,n){var r=e._id;return e.each((function(){var e=jn(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return On(e,r).value[t]}}function Yn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Un(){}var Zn=.7,Kn=1/Zn,Jn="\\s*([+-]?\\d+)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tr=/^#([0-9a-f]{3,8})$/,nr=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),rr=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),or=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${Qn}\\)$`),ir=new RegExp(`^rgba\\(${er},${er},${er},${Qn}\\)$`),ar=new RegExp(`^hsl\\(${Qn},${er},${er}\\)$`),sr=new RegExp(`^hsla\\(${Qn},${er},${er},${Qn}\\)$`),lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cr(){return this.rgb().formatHex()}function ur(){return this.rgb().formatRgb()}function dr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pr(t):3===n?new gr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=nr.exec(e))?new gr(t[1],t[2],t[3],1):(t=rr.exec(e))?new gr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=or.exec(e))?fr(t[1],t[2],t[3],t[4]):(t=ir.exec(e))?fr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ar.exec(e))?wr(t[1],t[2]/100,t[3]/100,1):(t=sr.exec(e))?wr(t[1],t[2]/100,t[3]/100,t[4]):lr.hasOwnProperty(e)?pr(lr[e]):"transparent"===e?new gr(NaN,NaN,NaN,0):null}function pr(e){return new gr(e>>16&255,e>>8&255,255&e,1)}function fr(e,t,n,r){return r<=0&&(e=t=n=NaN),new gr(e,t,n,r)}function hr(e,t,n,r){return 1===arguments.length?((o=e)instanceof Un||(o=dr(o)),o?new gr((o=o.rgb()).r,o.g,o.b,o.opacity):new gr):new gr(e,t,n,null==r?1:r);var o}function gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mr(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}`}function vr(){const e=yr(this.opacity);return`${1===e?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${1===e?")":`, ${e})`}`}function yr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xr(e){return((e=br(e))<16?"0":"")+e.toString(16)}function wr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cr(e,t,n,r)}function Sr(e){if(e instanceof Cr)return new Cr(e.h,e.s,e.l,e.opacity);if(e instanceof Un||(e=dr(e)),!e)return new Cr;if(e instanceof Cr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Cr(a,s,l,e.opacity)}function Cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Er(e){return(e=(e||0)%360)<0?e+360:e}function Pr(e){return Math.max(0,Math.min(1,e||0))}function Rr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Dr(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}Yn(Un,dr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cr,formatHex:cr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Sr(this).formatHsl()},formatRgb:ur,toString:ur}),Yn(gr,hr,Xn(Un,{brighter(e){return e=null==e?Kn:Math.pow(Kn,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Zn:Math.pow(Zn,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(br(this.r),br(this.g),br(this.b),yr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mr,formatHex:mr,formatHex8:function(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}${xr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:vr,toString:vr})),Yn(Cr,(function(e,t,n,r){return 1===arguments.length?Sr(e):new Cr(e,t,n,null==r?1:r)}),Xn(Un,{brighter(e){return e=null==e?Kn:Math.pow(Kn,e),new Cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Zn:Math.pow(Zn,e),new Cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new gr(Rr(e>=240?e-240:e+120,o,r),Rr(e,o,r),Rr(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Cr(Er(this.h),Pr(this.s),Pr(this.l),yr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yr(this.opacity);return`${1===e?"hsl(":"hsla("}${Er(this.h)}, ${100*Pr(this.s)}%, ${100*Pr(this.l)}%${1===e?")":`, ${e})`}`}}));const Nr=e=>()=>e;function Ir(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Nr(isNaN(e)?t:e)}const kr=function e(t){var n=function(e){return 1==(e=+e)?Ir:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Nr(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=hr(e)).r,(t=hr(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Ir(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function _r(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=hr(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}_r((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return Dr((n-r/t)*t,a,o,i,s)}})),_r((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Dr((n-r/t)*t,o,i,a,s)}}));var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jr=new RegExp(Mr.source,"g");function Or(e,t){var n,r,o,i=Mr.lastIndex=jr.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Mr.exec(e))&&(r=jr.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Tn(n,r)})),i=jr.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Ar(e,t){var n;return("number"==typeof t?Tn:t instanceof dr?kr:(n=dr(t))?(t=n,kr):Or)(e,t)}function Tr(e){return function(){this.removeAttribute(e)}}function Br(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Lr(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Fr(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function zr(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function $r(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function Hr(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Gr(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function Vr(e,t){return function(){Mn(this,e).delay=+t.apply(this,arguments)}}function Wr(e,t){return t=+t,function(){Mn(this,e).delay=t}}function qr(e,t){return function(){jn(this,e).duration=+t.apply(this,arguments)}}function Yr(e,t){return t=+t,function(){jn(this,e).duration=t}}var Xr=Ft.prototype.constructor;function Ur(e){return function(){this.style.removeProperty(e)}}var Zr=0;function Kr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Jr(){return++Zr}var Qr=Ft.prototype;Kr.prototype=function(e){return Ft().transition(e)}.prototype={constructor:Kr,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ie(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,kn(d[p],t,n,p,d,On(s,n)));return new Kr(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_e(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var p,f=e.call(l,l.__data__,d,c),h=On(l,n),g=0,m=f.length;g<m;++g)(p=f[g])&&kn(p,t,n,g,f,h);i.push(f),a.push(l)}return new Kr(i,a,t,n)},selectChild:Qr.selectChild,selectChildren:Qr.selectChildren,filter:function(e){"function"!=typeof e&&(e=Me(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Kr(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,p=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<r;++s)a[s]=t[s];return new Kr(a,this._parents,this._name,this._id)},selection:function(){return new Xr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Jr(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=On(a,t);kn(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Kr(r,this._parents,e,n)},call:Qr.call,nodes:Qr.nodes,node:Qr.node,size:Qr.size,empty:Qr.empty,each:Qr.each,on:function(e,t){var n=this._id;return arguments.length<2?On(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Mn:jn;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=Ye(e),r="transform"===n?Gn:Ar;return this.attrTween(e,"function"==typeof t?(n.local?$r:zr)(n,r,qn(this,"attr."+e,t)):null==t?(n.local?Br:Tr)(n):(n.local?Fr:Lr)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Ye(e);return this.tween(n,(r.local?Hr:Gr)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Hn:Ar;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=ot(this,e),a=(this.style.removeProperty(e),ot(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,Ur(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=ot(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ot(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,qn(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=jn(this,e),c=l.on,u=null==l.value[a]?i||(i=Ur(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=ot(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(qn(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=On(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?Vn:Wn)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Vr:Wr)(t,e)):On(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?qr:Yr)(t,e)):On(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){jn(this,e).ease=t}}(t,e)):On(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;jn(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=jn(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:Qr[Symbol.iterator]};var eo={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function to(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ft.prototype.interrupt=function(e){return this.each((function(){An(this,e)}))},Ft.prototype.transition=function(e){var t,n;e instanceof Kr?(t=e._id,e=e._name):(t=Jr(),(n=eo).time=gn(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&kn(a,e,t,c,s,n||to(a,t));return new Kr(r,this._parents,e,t)};const no=e=>()=>e;function ro(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function oo(e,t,n){this.k=e,this.x=t,this.y=n}oo.prototype={constructor:oo,scale:function(e){return 1===e?this:new oo(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new oo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var io=new oo(1,0,0);function ao(e){for(;!e.__zoom;)if(!(e=e.parentNode))return io;return e.__zoom}function so(e){e.stopImmediatePropagation()}function lo(e){e.preventDefault(),e.stopImmediatePropagation()}function co(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function uo(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function po(){return this.__zoom||io}function fo(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ho(){return navigator.maxTouchPoints||"ontouchstart"in this}function go(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function mo(){var e,t,n,r=co,o=uo,i=go,a=fo,s=ho,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=nn,p=De("start","zoom","end"),f=500,h=150,g=0,m=10;function v(e){e.property("__zoom",po).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",R).filter(s).on("touchstart.zoom",D).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new oo(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new oo(e.k,r,o)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){S(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=S(e,i).event(r),s=o.apply(e,i),l=null==n?x(s):"function"==typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,p="function"==typeof t?t.apply(e,i):t,f=d(u.invert(l).concat(c/u.k),p.invert(l).concat(c/p.k));return function(e){if(1===e)e=p;else{var t=f(e),n=c/t[2];e=new oo(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function S(e,t,n){return!n&&e.__zooming||new C(e,t)}function C(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function E(e,...t){if(r.apply(this,arguments)){var n=S(this,t).event(e),o=this.__zoom,s=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=$t(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[u,o.invert(u)],An(this),n.start()}lo(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),h),n.zoom("mouse",i(b(y(o,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function P(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=S(this,t,!0).event(e),s=zt(e.view).on("mousemove.zoom",(function(e){if(lo(e),!a.moved){var t=e.clientX-u,n=e.clientY-d;a.moved=t*t+n*n>g}a.event(e).zoom("mouse",i(b(a.that.__zoom,a.mouse[0]=$t(e,o),a.mouse[1]),a.extent,c))}),!0).on("mouseup.zoom",(function(e){s.on("mousemove.zoom mouseup.zoom",null),Yt(e.view,a.moved),lo(e),a.event(e).end()}),!0),l=$t(e,o),u=e.clientX,d=e.clientY;qt(e.view),so(e),a.mouse=[l,this.__zoom.invert(l)],An(this),a.start()}}function R(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=$t(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),l=n.k*(e.shiftKey?.5:2),d=i(b(y(n,l),a,s),o.apply(this,t),c);lo(e),u>0?zt(this).transition().duration(u).call(w,d,a,e):zt(this).call(v.transform,d,a,e)}}function D(n,...o){if(r.apply(this,arguments)){var i,a,s,l,c=n.touches,u=c.length,d=S(this,o,n.changedTouches.length===u).event(n);for(so(n),a=0;a<u;++a)l=[l=$t(s=c[a],this),this.__zoom.invert(l),s.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),f)),An(this),d.start())}}function N(e,...t){if(this.__zooming){var n,r,o,a,s=S(this,t).event(e),l=e.changedTouches,u=l.length;for(lo(e),n=0;n<u;++n)o=$t(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],p=s.touch0[1],f=s.touch1[0],h=s.touch1[1],g=(g=f[0]-d[0])*g+(g=f[1]-d[1])*g,m=(m=h[0]-p[0])*m+(m=h[1]-p[1])*m;r=y(r,Math.sqrt(g/m)),o=[(d[0]+f[0])/2,(d[1]+f[1])/2],a=[(p[0]+h[0])/2,(p[1]+h[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(b(r,o,a),s.extent,c))}}function I(e,...r){if(this.__zooming){var o,i,a=S(this,r).event(e),s=e.changedTouches,l=s.length;for(so(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),o=0;o<l;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=$t(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<m)){var c=zt(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",po),e!==o?w(e,t,n,r):o.interrupt().each((function(){S(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?x(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return i(b(y(r,l),a,s),e,c)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},v.translateTo=function(e,t,n,r,a){v.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?x(e):"function"==typeof r?r.apply(this,arguments):r;return i(io.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},C.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=zt(this.that).datum();p.call(e,this.that,new ro(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:p}),t)}},v.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:no(+e),v):a},v.filter=function(e){return arguments.length?(r="function"==typeof e?e:no(!!e),v):r},v.touchable=function(e){return arguments.length?(s="function"==typeof e?e:no(!!e),v):s},v.extent=function(e){return arguments.length?(o="function"==typeof e?e:no([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):o},v.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],v):[l[0],l[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(u=+e,v):u},v.interpolate=function(e){return arguments.length?(d=e,v):d},v.on=function(){var e=p.on.apply(p,arguments);return e===p?v:e},v.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,v):Math.sqrt(g)},v.tapDistance=function(e){return arguments.length?(m=+e,v):m},v}ao.prototype=oo.prototype;const vo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`},yo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],bo=["Enter"," ","Escape"];var xo,wo,So;!function(e){e.Strict="strict",e.Loose="loose"}(xo||(xo={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(wo||(wo={})),function(e){e.Partial="partial",e.Full="full"}(So||(So={}));const Co={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Eo,Po,Ro;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Eo||(Eo={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Po||(Po={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Ro||(Ro={}));const Do={[Ro.Left]:Ro.Right,[Ro.Right]:Ro.Left,[Ro.Top]:Ro.Bottom,[Ro.Bottom]:Ro.Top};function No(e){return null===e?null:e?"valid":"invalid"}const Io=e=>"id"in e&&"source"in e&&"target"in e,ko=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),_o=(e,t=[0,0])=>{const{width:n,height:r}=oi(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},Mo=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach((e=>{if(void 0===t.filter||t.filter(e)){const t=qo(e);n=Ho(n,t)}})),Vo(n)},jo=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...Qo(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const t of e.values()){const{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;const o=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,u=Xo(s,Wo(t)),d=(o??0)*(c??0),p=i&&u>0;(!t.internals.handleBounds||p||u>=d||t.dragging)&&l.push(t)}return l},Oo=(e,t)=>{const n=new Set;return e.forEach((e=>{n.add(e.id)})),t.filter((e=>n.has(e.source)||n.has(e.target)))};function Ao(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map((e=>e.id))):null;return e.forEach((e=>{!e.measured.width||!e.measured.height||!t?.includeHiddenNodes&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)})),n}async function To({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===e.size)return Promise.resolve(!1);const s=Mo(e),l=ti(s,t,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(l,{duration:a?.duration}),Promise.resolve(!0)}function Bo({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},u=a.origin??r;let d=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.measured?.width??0),t[1][1]-(e.measured?.height??0)]]:t}(a,a.extent||o);if("parent"!==a.extent||a.expandParent)s&&ri(a.extent)&&(d=[[a.extent[0][0]+l,a.extent[0][1]+c],[a.extent[1][0]+l,a.extent[1][1]+c]]);else if(s){const e=a.measured.width,t=a.measured.height,n=s.measured.width,r=s.measured.height;e&&t&&n&&r&&(d=[[l,c],[l+n-e,c+r-t]])}else i?.("005",vo.error005());const p=ri(d)?Fo(t,d):t;return{position:{x:p.x-l+a.measured.width*u[0],y:p.y-c+a.measured.height*u[1]},positionAbsolute:p}}const Lo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Fo=(e={x:0,y:0},t)=>({x:Lo(e.x,t[0][0],t[1][0]),y:Lo(e.y,t[0][1],t[1][1])}),zo=(e,t,n)=>e<t?Lo(Math.abs(e-t),1,t)/t:e>n?-Lo(Math.abs(e-n),1,t)/t:0,$o=(e,t,n=15,r=40)=>[zo(e.x,r,t.width-r)*n,zo(e.y,r,t.height-r)*n],Ho=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Go=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Vo=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Wo=(e,t=[0,0])=>{const{x:n,y:r}=ko(e)?e.internals.positionAbsolute:_o(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},qo=(e,t=[0,0])=>{const{x:n,y:r}=ko(e)?e.internals.positionAbsolute:_o(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},Yo=(e,t)=>Vo(Ho(Go(e),Go(t))),Xo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Uo=e=>Zo(e.width)&&Zo(e.height)&&Zo(e.x)&&Zo(e.y),Zo=e=>!isNaN(e)&&isFinite(e),Ko=(e,t)=>{},Jo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Qo=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{const s={x:(e-n)/o,y:(t-r)/o};return i?Jo(s,a):s},ei=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),ti=(e,t,n,r,o,i)=>{const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=Lo(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},ni=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function ri(e){return void 0!==e&&"parent"!==e}function oi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function ii(e){return void 0!==(e.measured?.width??e.width??e.initialWidth)&&void 0!==(e.measured?.height??e.height??e.initialHeight)}function ai(e,t={width:0,height:0},n,r,o){let i=n;const a={...e};for(;i;){const e=r.get(i);if(i=e?.parentId,e){const n=e.origin||o;a.x+=e.internals.positionAbsolute.x-(t.width??0)*n[0],a.y+=e.internals.positionAbsolute.y-(t.height??0)*n[1]}}return a}function si(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r}){const{x:o,y:i}=fi(e),a=Qo({x:o,y:i},r),{x:s,y:l}=n?Jo(a,t):a;return{xSnapped:s,ySnapped:l,...a}}const li=e=>({width:e.offsetWidth,height:e.offsetHeight}),ci=e=>e.getRootNode?.()||window?.document,ui=["INPUT","SELECT","TEXTAREA"];function di(e){const t=e.composedPath?.()?.[0]||e.target;return ui.includes(t?.nodeName)||t?.hasAttribute("contenteditable")||!!t?.closest(".nokey")}const pi=e=>"clientX"in e,fi=(e,t)=>{const n=pi(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},hi=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map((t=>{const i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...li(t)}})):null};function gi({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=.125*e+.375*o+.375*a+.125*n,c=.125*t+.375*i+.375*s+.125*r;return[l,c,Math.abs(l-e),Math.abs(c-t)]}function mi(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function vi({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case Ro.Left:return[t-mi(t-r,i),n];case Ro.Right:return[t+mi(r-t,i),n];case Ro.Top:return[t,n-mi(n-o,i)];case Ro.Bottom:return[t,n+mi(o-n,i)]}}function yi({sourceX:e,sourceY:t,sourcePosition:n=Ro.Bottom,targetX:r,targetY:o,targetPosition:i=Ro.Top,curvature:a=.25}){const[s,l]=vi({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,u]=vi({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[d,p,f,h]=gi({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${o}`,d,p,f,h]}function bi({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2;return[i,r<t?r+a:r-a,o,a]}function xi({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Ho(qo(e),qo(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Xo(a,Vo(i))>0}const wi=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Si=(e,t)=>{if(!e.source||!e.target)return vo.error006(),t;let n;return n=Io(e)?{...e}:{...e,id:wi(e)},((e,t)=>t.some((t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle)))))(n,t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n))};function Ci({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=bi({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}const Ei={[Ro.Left]:{x:-1,y:0},[Ro.Right]:{x:1,y:0},[Ro.Top]:{x:0,y:-1},[Ro.Bottom]:{x:0,y:1}},Pi=({source:e,sourcePosition:t=Ro.Bottom,target:n})=>t===Ro.Left||t===Ro.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ri=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Di({sourceX:e,sourceY:t,sourcePosition:n=Ro.Bottom,targetX:r,targetY:o,targetPosition:i=Ro.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){const[u,d,p,f,h]=function({source:e,sourcePosition:t=Ro.Bottom,target:n,targetPosition:r=Ro.Top,center:o,offset:i}){const a=Ei[t],s=Ei[r],l={x:e.x+a.x*i,y:e.y+a.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=Pi({source:l,sourcePosition:t,target:c}),d=0!==u.x?"x":"y",p=u[d];let f,h,g=[];const m={x:0,y:0},v={x:0,y:0},[y,b,x,w]=bi({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]==-1){f=o.x??y,h=o.y??b;const e=[{x:f,y:l.y},{x:f,y:c.y}],t=[{x:l.x,y:h},{x:c.x,y:h}];g=a[d]===p?"x"===d?e:t:"x"===d?t:e}else{const o=[{x:l.x,y:c.y}],u=[{x:c.x,y:l.y}];if(g="x"===d?a.x===p?u:o:a.y===p?o:u,t===r){const t=Math.abs(e[d]-n[d]);if(t<=i){const r=Math.min(i-1,i-t);a[d]===p?m[d]=(l[d]>e[d]?-1:1)*r:v[d]=(c[d]>n[d]?-1:1)*r}}if(t!==r){const e="x"===d?"y":"x",t=a[d]===s[e],n=l[e]>c[e],r=l[e]<c[e];(1===a[d]&&(!t&&n||t&&r)||1!==a[d]&&(!t&&r||t&&n))&&(g="x"===d?o:u)}const y={x:l.x+m.x,y:l.y+m.y},b={x:c.x+v.x,y:c.y+v.y};Math.max(Math.abs(y.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(y.y-g[0].y),Math.abs(b.y-g[0].y))?(f=(y.x+b.x)/2,h=g[0].y):(f=g[0].x,h=(y.y+b.y)/2)}return[[e,{x:l.x+m.x,y:l.y+m.y},...g,{x:c.x+v.x,y:c.y+v.y},n],f,h,x,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:c});return[u.reduce(((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(Ri(e,t)/2,Ri(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a)return`L ${i+o*(e.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+o*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${i},${a+o*(e.y<n.y?-1:1)}Q ${i},${a} ${i+o*s},${a}`}(u[n-1],t,u[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`,e+r}),""),d,p,f,h]}function Ni(e){return e&&!(!e.internals.handleBounds&&!e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Ii(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function ki(e,t,n=Ro.Left,r=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??oi(e);if(r)return{x:o+a/2,y:i+s/2};switch(t?.position??n){case Ro.Top:return{x:o+a/2,y:i};case Ro.Right:return{x:o+a,y:i+s/2};case Ro.Bottom:return{x:o+a/2,y:i+s};case Ro.Left:return{x:o,y:i+s/2}}}function _i(e,t){return e&&(t?e.find((e=>e.id===t)):e[0])||null}function Mi(e,t){return e?"string"==typeof e?e:`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`:""}function ji(e,t,n,r,o){let i=.5;"start"===o?i=0:"end"===o&&(i=1);let a=[(e.x+e.width*i)*t.zoom+t.x,e.y*t.zoom+t.y-r],s=[-100*i,-100];switch(n){case Ro.Right:a=[(e.x+e.width)*t.zoom+t.x+r,(e.y+e.height*i)*t.zoom+t.y],s=[0,-100*i];break;case Ro.Bottom:a[1]=(e.y+e.height)*t.zoom+t.y+r,s[1]=0;break;case Ro.Left:a=[e.x*t.zoom+t.x-r,(e.y+e.height*i)*t.zoom+t.y],s=[-100,-100*i]}return`translate(${a[0]}px, ${a[1]}px) translate(${s[0]}%, ${s[1]}%)`}const Oi={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}},Ai={...Oi,checkEquality:!0};function Ti(e,t,n,r){const o={...Ai,...r},i=new Map(t);t.clear(),n.clear();const a=r?.elevateNodesOnSelect?1e3:0;for(const s of e){let e=i.get(s.id);o.checkEquality&&s===e?.internals.userNode||(e={...o.defaults,...s,measured:{width:s.measured?.width,height:s.measured?.height},internals:{positionAbsolute:_o(s,o.nodeOrigin),handleBounds:s.measured?e?.internals.handleBounds:void 0,z:Li(s,a),userNode:s}}),t.set(s.id,e),s.parentId&&Bi(e,t,n,r)}}function Bi(e,t,n,r){const o={...Oi,...r},i=e.parentId,a=t.get(i);if(!a)return void console.warn(`Parent node ${i} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);const s=n.get(i);s?s.set(e.id,e):n.set(i,new Map([[e.id,e]]));const l=r?.elevateNodesOnSelect?1e3:0,{x:c,y:u,z:d}=function(e,t,n,r){const o=_o(e,n),i=Li(e,r),a=t.internals.z??0;return{x:t.internals.positionAbsolute.x+o.x,y:t.internals.positionAbsolute.y+o.y,z:a>i?a:i}}(e,a,o.nodeOrigin,l),p=e.internals.positionAbsolute,f=c!==p.x||u!==p.y;(f||d!==e.internals.z)&&(e.internals={...e.internals,positionAbsolute:f?{x:c,y:u}:p,z:d})}function Li(e,t){return(Zo(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Fi(e,t,n,r=[0,0]){const o=[],i=new Map;for(const n of e){const e=t.get(n.parentId);if(!e)continue;const r=i.get(n.parentId)?.expandedRect??Wo(e),o=Yo(r,n.rect);i.set(n.parentId,{expandedRect:o,parent:e})}return i.size>0&&i.forEach((({expandedRect:t,parent:i},a)=>{const s=i.internals.positionAbsolute,l=oi(i),c=i.origin??r,u=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,p=Math.max(l.width,Math.round(t.width)),f=Math.max(l.height,Math.round(t.height)),h=(p-l.width)*c[0],g=(f-l.height)*c[1];(u>0||d>0||h||g)&&(o.push({id:a,type:"position",position:{x:i.position.x-u+h,y:i.position.y-d+g}}),n.get(a)?.forEach((t=>{e.some((e=>e.id===t.id))||o.push({id:t.id,type:"position",position:{x:t.position.x+u,y:t.position.y+d}})}))),(l.width<t.width||l.height<t.height||u||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:p+(u?c[0]*u-h:0),height:f+(d?c[1]*d-g:0)}})})),o}function zi(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s=`${n}-source-${i}`,l=`${o}-target-${a}`,c=e.get(s)||new Map,u=e.get(l)||new Map,d={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a};t.set(r.id,r),e.set(s,c.set(`${o}-${a}`,d)),e.set(l,u.set(`${n}-${i}`,d))}}function $i(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||$i(n,t))}function Hi(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function Gi({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const o=[];for(const[e,i]of t){const t=n.get(e)?.internals.userNode;t&&o.push({...t,position:i.position,dragging:r})}if(!e)return[o[0],o];const i=n.get(e).internals.userNode;return[{...i,position:t.get(e)?.position||i.position,dragging:r},o]}function Vi(e,t,n,r,o,i=!1){const a=r.get(e);if(!a)return null;const s="strict"===o?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],l=(n?s?.find((e=>e.id===n)):s?.[0])??null;return l&&i?{...l,...ki(a,l,l.position,!0)}:l}function Wi(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}const qi=()=>!0;function Yi(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:l,isValidConnection:c=qi,nodeLookup:u}){const d="target"===i,p=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:f,y:h}=fi(e),g=a.elementFromPoint(f,h),m=g?.classList.contains(`${s}-flow__handle`)?g:p,v={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const e=Wi(void 0,m),t=m.getAttribute("data-nodeid"),i=m.getAttribute("data-handleid"),a=m.classList.contains("connectable"),s=m.classList.contains("connectableend");if(!t||!e)return v;const l={source:d?t:r,sourceHandle:d?i:o,target:d?r:t,targetHandle:d?o:i};v.connection=l;const p=a&&s&&(n===xo.Strict?d&&"source"===e||!d&&"target"===e:t!==r||i!==o);v.isValid=p&&c(l),v.toHandle=Vi(t,e,i,u,n,!1)}return v}const Xi={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:p,cancelConnection:f,onConnectStart:h,onConnect:g,onConnectEnd:m,isValidConnection:v=qi,onReconnectEnd:y,updateConnection:b,getTransform:x,getFromHandle:w,autoPanSpeed:S}){const C=ci(e.target);let E,P=0;const{x:R,y:D}=fi(e),N=C?.elementFromPoint(R,D),I=Wi(i,N),k=s?.getBoundingClientRect();if(!k||!I)return;const _=Vi(o,I,r,l,t);if(!_)return;let M=fi(e,k),j=!1,O=null,A=!1,T=null;function B(){if(!u||!k)return;const[e,t]=$o(M,k,S);p({x:e,y:t}),P=requestAnimationFrame(B)}const L={..._,nodeId:o,type:I,position:_.position},F=l.get(o),z={inProgress:!0,isValid:null,from:ki(F,L,Ro.Left,!0),fromHandle:L,fromPosition:L.position,fromNode:F,to:M,toHandle:null,toPosition:Do[L.position],toNode:null};b(z);let $=z;function H(e){if(!w()||!L)return void G(e);const i=x();M=fi(e,k),E=function(e,t,n,r){let o=[],i=1/0;const a=function(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const e of t.values())Xo(o,Wo(e))>0&&r.push(e);return r}(e,n,t+250);for(const n of a){const a=[...n.internals.handleBounds?.source??[],...n.internals.handleBounds?.target??[]];for(const s of a){if(r.nodeId===s.nodeId&&r.type===s.type&&r.id===s.id)continue;const{x:a,y:l}=ki(n,s,s.position,!0),c=Math.sqrt(Math.pow(a-e.x,2)+Math.pow(l-e.y,2));c>t||(c<i?(o=[{...s,x:a,y:l}],i=c):c===i&&o.push({...s,x:a,y:l}))}}if(!o.length)return null;if(o.length>1){const e="source"===r.type?"target":"source";return o.find((t=>t.type===e))??o[0]}return o[0]}(Qo(M,i,!1,[1,1]),n,l,L),j||(B(),j=!0);const s=Yi(e,{handle:E,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:v,doc:C,lib:c,flowId:d,nodeLookup:l});T=s.handleDomNode,O=s.connection,A=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!E,s.isValid);const u={...$,isValid:A,to:E&&A?ei({x:E.x,y:E.y},i):M,toHandle:s.toHandle,toPosition:A&&s.toHandle?s.toHandle.position:Do[L.position],toNode:s.toHandle?l.get(s.toHandle.nodeId):null};A&&E&&$.toHandle&&u.toHandle&&$.toHandle.type===u.toHandle.type&&$.toHandle.nodeId===u.toHandle.nodeId&&$.toHandle.id===u.toHandle.id&&$.to.x===u.to.x&&$.to.y===u.to.y||(b(u),$=u)}function G(e){(E||T)&&O&&A&&g?.(O);const{inProgress:t,...n}=$,r={...n,toPosition:$.toHandle?$.toPosition:null};m?.(e,r),i&&y?.(e,r),f(),cancelAnimationFrame(P),j=!1,A=!1,O=null,T=null,C.removeEventListener("mousemove",H),C.removeEventListener("mouseup",G),C.removeEventListener("touchmove",H),C.removeEventListener("touchend",G)}h?.(e,{nodeId:o,handleId:r,handleType:I}),C.addEventListener("mousemove",H),C.addEventListener("mouseup",G),C.addEventListener("touchmove",H),C.addEventListener("touchend",G)},isValid:Yi},Ui=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Zi=e=>({x:e.x,y:e.y,zoom:e.k}),Ki=({x:e,y:t,zoom:n})=>io.translate(e,t).scale(n),Ji=(e,t)=>e.target.closest(`.${t}`),Qi=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),ea=(e,t=0,n=()=>{})=>{const r="number"==typeof t&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},ta=e=>{const t=e.ctrlKey&&ni()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function na({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),p=mo().clickDistance(!Zo(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),f=zt(e).call(p);y({x:i.x,y:i.y,zoom:Lo(i.zoom,t,n)},[[0,0],[d.width,d.height]],o);const h=f.on("wheel.zoom"),g=f.on("dblclick.zoom");function m(e,t){return f?new Promise((n=>{p?.transform(ea(f,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)}function v(){p.on("zoom",null)}async function y(e,t,n){const r=Ki(e),o=p?.constrain()(r,t,n);return o&&await m(o),new Promise((e=>e(o)))}return p.wheelDelta(ta),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:i,panOnScrollMode:d,panOnScrollSpeed:m,preventScrolling:y,zoomOnPinch:b,zoomOnScroll:x,zoomOnDoubleClick:w,zoomActivationKeyPressed:S,lib:C,onTransformChange:E}){r&&!u.isZoomingOrPanning&&v();const P=!o||S||r?function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){if(!t&&"wheel"===r.type&&!r.ctrlKey||Ji(r,e))return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:e,preventScrolling:y,d3ZoomHandler:h}):function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(Ji(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&a){const e=$t(u),t=ta(u),o=d*Math.pow(2,t);return void r.scaleTo(n,o,e,u)}const p=1===u.deltaMode?20:1;let f=o===wo.Vertical?0:u.deltaX*p,h=o===wo.Horizontal?0:u.deltaY*p;!ni()&&u.shiftKey&&o!==wo.Vertical&&(f=u.deltaY*p,h=0),r.translateBy(n,-f/d*i,-h/d*i,{internal:!0});const g=Zi(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s?.(u,g)),e.isPanScrolling&&(l?.(u,g),e.panScrollTimeout=setTimeout((()=>{c?.(u,g),e.isPanScrolling=!1}),150))}}({zoomPanValues:u,noWheelClassName:e,d3Selection:f,d3Zoom:p,panOnScrollMode:d,panOnScrollSpeed:m,zoomOnPinch:b,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l});if(f.on("wheel.zoom",P,{passive:!1}),!r){const e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Zi(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,"mousedown"===r.sourceEvent?.type&&t(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});p.on("start",e);const t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{e.usedRightMouseButton=!(!n||!Qi(t,e.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,Zi(i.transform))}}({zoomPanValues:u,panOnDrag:i,onPaneContextMenu:!!n,onPanZoom:a,onTransformChange:E});p.on("zoom",t);const r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&Qi(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&Ui(e.prevViewport,a.transform))){const t=Zi(a.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout((()=>{o?.(a.sourceEvent,t)}),n?150:0)}}}({zoomPanValues:u,panOnDrag:i,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:l,onDraggingChange:c});p.on("end",r)}const R=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:c}){return u=>{const d=e||t,p=n&&u.ctrlKey;if(1===u.button&&"mousedown"===u.type&&(Ji(u,`${c}-flow__node`)||Ji(u,`${c}-flow__edge`)))return!0;if(!(r||d||o||i||n))return!1;if(a)return!1;if(Ji(u,s)&&"wheel"===u.type)return!1;if(Ji(u,l)&&("wheel"!==u.type||o&&"wheel"===u.type&&!e))return!1;if(!n&&u.ctrlKey&&"wheel"===u.type)return!1;if(!n&&"touchstart"===u.type&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!o&&!p&&"wheel"===u.type)return!1;if(!r&&("mousedown"===u.type||"touchstart"===u.type))return!1;if(Array.isArray(r)&&!r.includes(u.button)&&"mousedown"===u.type)return!1;const f=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||"wheel"===u.type)&&f}}({zoomActivationKeyPressed:S,panOnDrag:i,zoomOnScroll:x,panOnScroll:o,zoomOnDoubleClick:w,zoomOnPinch:b,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:C});p.filter(R),w?f.on("dblclick.zoom",g):f.on("dblclick.zoom",null)},destroy:v,setViewport:async function(e,t){const n=Ki(e);return await m(n,t),new Promise((e=>e(n)))},setViewportConstrained:y,getViewport:function(){const e=f?ao(f.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return f?new Promise((n=>{p?.scaleTo(ea(f,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},scaleBy:function(e,t){return f?new Promise((n=>{p?.scaleBy(ea(f,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},setScaleExtent:function(e){p?.scaleExtent(e)},setTranslateExtent:function(e){p?.translateExtent(e)},syncViewport:function(e){if(f){const t=Ki(e),n=f.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||p?.transform(f,t,null,{sync:!0})}},setClickDistance:function(e){const t=!Zo(e)||e<0?0:e;p?.clickDistance(t)}}}var ra,oa;function ia(e,t){return Math.max(0,t-e)}function aa(e,t){return Math.max(0,e-t)}function sa(e,t,n){return Math.max(0,t-e,e-n)}function la(e,t){return e?!t:t}(oa=ra||(ra={})).Line="line",oa.Handle="handle";const ca={width:0,height:0,x:0,y:0},ua={...ca,pointerX:0,pointerY:0,aspectRatio:1};function da(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,s=n[0]*i,l=n[1]*a;return[[r-s,o-l],[r+i-s,o+a-l]]}var pa=n(242);const fa=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},{useDebugValue:ha}=o,{useSyncExternalStoreWithSelector:ga}=pa,ma=e=>e;function va(e,t=ma,n){const r=ga(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ha(r),r}const ya=(e,t)=>{const n=(e=>e?fa(e):fa)(e),r=(e,r=t)=>va(n,e,r);return Object.assign(r,n),r};function ba(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var xa=n(795),wa=n.n(xa);const Sa=(0,o.createContext)(null),Ca=Sa.Provider,Ea=vo.error001();function Pa(e,t){const n=(0,o.useContext)(Sa);if(null===n)throw new Error(Ea);return va(n,e,t)}function Ra(){const e=(0,o.useContext)(Sa);if(null===e)throw new Error(Ea);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe})),[e])}const Da={display:"none"},Na={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ia="react-flow__node-desc",ka="react-flow__edge-desc",_a="react-flow__aria-live",Ma=e=>e.ariaLiveMessage;function ja({rfId:e}){const t=Pa(Ma);return(0,c.jsx)("div",{id:`${_a}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Na,children:t})}function Oa({rfId:e,disableKeyboardA11y:t}){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{id:`${Ia}-${e}`,style:Da,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,c.jsx)("div",{id:`${ka}-${e}`,style:Da,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,c.jsx)(ja,{rfId:e})]})}const Aa=e=>e.userSelectionActive?"none":"all";function Ta({position:e="top-left",children:t,className:n,style:r,...o}){const i=Pa(Aa),a=`${e}`.split("-");return(0,c.jsx)("div",{className:we(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...o,children:t})}function Ba({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,c.jsx)(Ta,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,c.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const La=e=>{const t=[],n=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},Fa=e=>e.id;function za(e,t){return ba(e.selectedNodes.map(Fa),t.selectedNodes.map(Fa))&&ba(e.selectedEdges.map(Fa),t.selectedEdges.map(Fa))}function $a({onSelectionChange:e}){const t=Ra(),{selectedNodes:n,selectedEdges:r}=Pa(La,za);return(0,o.useEffect)((()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach((e=>e(o)))}),[n,r,e]),null}const Ha=e=>!!e.onSelectionChangeHandlers;function Ga({onSelectionChange:e}){const t=Pa(Ha);return e||t?(0,c.jsx)($a,{onSelectionChange:e}):null}const Va=[0,0],Wa={x:0,y:0,zoom:1},qa=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],Ya=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Xa={translateExtent:yo,nodeOrigin:Va,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Ua(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=Pa(Ya,ba),d=Ra();(0,o.useEffect)((()=>(c(e.defaultNodes,e.defaultEdges),()=>{p.current=Xa,l()})),[]);const p=(0,o.useRef)(Xa);return(0,o.useEffect)((()=>{for(const o of qa){const l=e[o];l!==p.current[o]&&void 0!==e[o]&&("nodes"===o?t(l):"edges"===o?n(l):"minZoom"===o?r(l):"maxZoom"===o?i(l):"translateExtent"===o?a(l):"nodeExtent"===o?s(l):"paneClickDistance"===o?u(l):"fitView"===o?d.setState({fitViewOnInit:l}):"fitViewOptions"===o?d.setState({fitViewOnInitOptions:l}):d.setState({[o]:l}))}p.current=e}),qa.map((t=>e[t]))),null}function Za(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const Ka="undefined"!=typeof document?document:null;function Ja(e=null,t={target:Ka,actInsideInputWithModifier:!0}){const[n,r]=(0,o.useState)(!1),i=(0,o.useRef)(!1),a=(0,o.useRef)(new Set([])),[s,l]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"==typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n=t?.target||Ka;if(null!==e){const e=e=>{if(i.current=e.ctrlKey||e.metaKey||e.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&di(e))return!1;const n=es(e.code,l);a.current.add(e[n]),Qa(s,a.current,!1)&&(e.preventDefault(),r(!0))},o=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&di(e))return!1;const n=es(e.code,l);Qa(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},c=()=>{a.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",o),window.addEventListener("blur",c),window.addEventListener("contextmenu",c),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",o),window.removeEventListener("blur",c),window.removeEventListener("contextmenu",c)}}}),[e,r]),n}function Qa(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function es(e,t){return t.includes(e)?"code":"key"}const ts=()=>{const e=Ra();return(0,o.useMemo)((()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{const{nodeLookup:n,width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=Ao(n,t);return s?To({nodes:l,width:r,height:o,minZoom:i,maxZoom:a,panZoom:s},t):Promise.resolve(!1)},setCenter:async(t,n,r)=>{const{width:o,height:i,maxZoom:a,panZoom:s}=e.getState(),l=void 0!==r?.zoom?r.zoom:a,c=o/2-t*l,u=i/2-n*l;return s?(await s.setViewport({x:c,y:u,zoom:l},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=ti(t,r,o,i,a,n?.padding??.1);return s?(await s.setViewport(l,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={snapToGrid:!0})=>{const{transform:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:s}=i.getBoundingClientRect(),l={x:t.x-a,y:t.y-s};return Qo(l,r,n.snapToGrid,o)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=ei(t,n);return{x:a.x+o,y:a.y+i}}})),[])};function ns(e,t){const n=[],r=new Map,o=[];for(const t of e)if("add"!==t.type)if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{const e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}else o.push(t);for(const e of t){const t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}const o={...e};for(const e of t)rs(e,o);n.push(o)}return o.length&&o.forEach((e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})})),n}function rs(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}function os(e,t){return ns(e,t)}function is(e,t){return ns(e,t)}function as(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const e=t.has(o);void 0===i.selected&&!e||i.selected===e||(n&&(i.selected=e),r.push(as(i.id,e)))}return r}function ls({items:e=[],lookup:t}){const n=[],r=new Map(e.map((e=>[e.id,e])));for(const[r,o]of e.entries()){const e=t.get(o.id),i=e?.internals?.userNode??e;void 0!==i&&i!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===i&&n.push({item:o,type:"add",index:r})}for(const[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function cs(e){return{id:e.id,type:"remove"}}const us=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e),ds=e=>Io(e);function ps(e){return(0,o.forwardRef)(e)}const fs="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function hs(e){const[t,n]=(0,o.useState)(!1),[r]=(0,o.useState)((()=>function(){let e=[];return{get:()=>e,reset:()=>{e=[]},push:t=>{e.push(t),n(!0)}}}()));return fs((()=>{if(!t)return void r.reset();const o=r.get();o.length&&(e(o),r.reset()),n(!1)}),[t]),r}const gs=(0,o.createContext)(null);function ms({children:e}){const t=Ra(),n=hs((0,o.useCallback)((e=>{const{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a}=t.getState();let s=n;for(const t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(ls({items:s,lookup:a}))}),[])),r=hs((0,o.useCallback)((e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=t.getState();let s=n;for(const t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(ls({items:s,lookup:a}))}),[])),i=(0,o.useMemo)((()=>({nodeQueue:n,edgeQueue:r})),[]);return(0,c.jsx)(gs.Provider,{value:i,children:e})}const vs=e=>!!e.panZoom;function ys(){const e=ts(),t=Ra(),n=function(){const e=(0,o.useContext)(gs);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),r=Pa(vs),i=(0,o.useMemo)((()=>{const e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState(),o=us(e)?e:n.get(e.id),i=o.parentId?ai(o.position,o.measured,o.parentId,n,r):o.position,a={id:o.id,position:i,width:o.measured?.width??o.width,height:o.measured?.height??o.height,data:o.data};return Wo(a)},a=(e,t,n={replace:!1})=>{r((r=>r.map((r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&us(e)?e:{...r,...e}}return r}))))},s=(e,t,n={replace:!1})=>{o((r=>r.map((r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&ds(e)?e:{...r,...e}}return r}))))};return{getNodes:()=>t.getState().nodes.map((e=>({...e}))),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{const t=Array.isArray(e)?e:[e];n.nodeQueue.push((e=>[...e,...t]))},addEdges:e=>{const t=Array.isArray(e)?e:[e];n.edgeQueue.push((e=>[...e,...t]))},toObject:()=>{const{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:o,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{const{nodes:r,edges:o,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:s,triggerEdgeChanges:l,onDelete:c,onBeforeDelete:u}=t.getState(),{nodes:d,edges:p}=await async function({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map((e=>e.id))),a=[];for(const e of n){if(!1===e.deletable)continue;const t=i.has(e.id),n=!t&&e.parentId&&a.find((t=>t.id===e.parentId));(t||n)&&a.push(e)}const s=new Set(t.map((e=>e.id))),l=r.filter((e=>!1!==e.deletable)),c=Oo(a,l);for(const e of l)s.has(e.id)&&!c.find((t=>t.id===e.id))&&c.push(e);if(!o)return{edges:c,nodes:a};const u=await o({nodes:a,edges:c});return"boolean"==typeof u?u?{edges:c,nodes:a}:{edges:[],nodes:[]}:u}({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:u}),f=p.length>0,h=d.length>0;if(f){const e=p.map(cs);a?.(p),l(e)}if(h){const e=d.map(cs);i?.(d),s(e)}return(h||f)&&c?.({nodes:d,edges:p}),{deletedNodes:d,deletedEdges:p}},getIntersectingNodes:(e,n=!0,r)=>{const o=Uo(e),a=o?e:i(e),s=void 0!==r;return a?(r||t.getState().nodes).filter((r=>{const i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;const l=Wo(s?r:i),c=Xo(l,a);return n&&c>0||c>=a.width*a.height})):[]},isNodeIntersecting:(e,t,n=!0)=>{const r=Uo(e)?e:i(e);if(!r)return!1;const o=Xo(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,(e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}}),n)},updateEdge:s,updateEdgeData:(e,t,n={replace:!1})=>{s(e,(e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}}),n)},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}-${n??null}`)?.values()??[])}}),[]);return(0,o.useMemo)((()=>({...i,...e,viewportInitialized:r})),[r])}const bs=e=>e.selected,xs={actInsideInputWithModifier:!1},ws="undefined"!=typeof window?window:void 0,Ss={position:"absolute",width:"100%",height:"100%",top:0,left:0},Cs=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Es({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:a=wo.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:p,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:g=!0,children:m,noWheelClassName:v,noPanClassName:y,onViewportChange:b,isControlledViewport:x,paneClickDistance:w}){const S=Ra(),C=(0,o.useRef)(null),{userSelectionActive:E,lib:P}=Pa(Cs,ba),R=Ja(h),D=(0,o.useRef)();!function(e){const t=Ra();(0,o.useEffect)((()=>{const n=()=>{if(!e.current)return!1;const n=li(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",vo.error004()),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);const t=new ResizeObserver((()=>n()));return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}}),[])}(C);const N=(0,o.useCallback)((e=>{b?.({x:e[0],y:e[1],zoom:e[2]}),x||S.setState({transform:e})}),[b,x]);return(0,o.useEffect)((()=>{if(C.current){D.current=na({domNode:C.current,minZoom:p,maxZoom:f,translateExtent:d,viewport:u,paneClickDistance:w,onDraggingChange:e=>S.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=S.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=S.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=S.getState();r?.(e,t),n?.(t)}});const{x:e,y:t,zoom:n}=D.current.getViewport();return S.setState({panZoom:D.current,transform:[e,t,n],domNode:C.current.closest(".react-flow")}),()=>{D.current?.destroy()}}}),[]),(0,o.useEffect)((()=>{D.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:a,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:R,preventScrolling:g,noPanClassName:y,userSelectionActive:E,noWheelClassName:v,lib:P,onTransformChange:N})}),[e,t,n,r,i,a,s,l,R,g,y,E,v,P,N]),(0,c.jsx)("div",{className:"react-flow__renderer",ref:C,style:Ss,children:m})}const Ps=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Rs(){const{userSelectionActive:e,userSelectionRect:t}=Pa(Ps,ba);return e&&t?(0,c.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ds=(e,t)=>n=>{n.target===t.current&&e?.(n)},Ns=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function Is({isSelecting:e,selectionKeyPressed:t,selectionMode:n=So.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:p,onPaneMouseMove:f,onPaneMouseLeave:h,children:g}){const m=(0,o.useRef)(null),v=Ra(),y=(0,o.useRef)(0),b=(0,o.useRef)(0),x=(0,o.useRef)(),w=(0,o.useRef)(new Map),{userSelectionActive:S,elementsSelectable:C,dragging:E}=Pa(Ns,ba),P=C&&(e||S),R=(0,o.useRef)(!1),D=(0,o.useRef)(!1),N=e=>{R.current?R.current=!1:(l?.(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1}))},I=d?e=>d(e):void 0,k=!0===r||Array.isArray(r)&&r.includes(0);return(0,c.jsxs)("div",{className:we(["react-flow__pane",{draggable:k,dragging:E,selection:e}]),onClick:P?void 0:Ds(N,m),onContextMenu:Ds((e=>{Array.isArray(r)&&r?.includes(2)?e.preventDefault():u?.(e)}),m),onWheel:Ds(I,m),onPointerEnter:P?void 0:p,onPointerDown:P?t=>{const{resetSelectedElements:n,domNode:r,edgeLookup:o}=v.getState();if(x.current=r?.getBoundingClientRect(),!C||!e||0!==t.button||t.target!==m.current||!x.current)return;t.target?.setPointerCapture?.(t.pointerId),D.current=!0,R.current=!1,w.current=new Map;for(const[e,t]of o)w.current.set(t.source,w.current.get(t.source)?.add(e)||new Set([e])),w.current.set(t.target,w.current.get(t.target)?.add(e)||new Set([e]));const{x:i,y:s}=fi(t.nativeEvent,x.current);n(),v.setState({userSelectionRect:{width:0,height:0,startX:i,startY:s,x:i,y:s}}),a?.(t)}:f,onPointerMove:P?e=>{const{userSelectionRect:t,edgeLookup:r,transform:o,nodeLookup:i,triggerNodeChanges:a,triggerEdgeChanges:s}=v.getState();if(!x.current||!t)return;R.current=!0;const{x:l,y:c}=fi(e.nativeEvent,x.current),{startX:u,startY:d}=t,p={startX:u,startY:d,x:l<u?l:u,y:c<d?c:d,width:Math.abs(l-u),height:Math.abs(c-d)},f=jo(i,p,o,n===So.Partial,!0),h=new Set,g=new Set;for(const e of f){g.add(e.id);const t=w.current.get(e.id);if(t)for(const e of t)h.add(e)}y.current!==g.size&&(y.current=g.size,a(ss(i,g,!0))),b.current!==h.size&&(b.current=h.size,s(ss(r,h))),v.setState({userSelectionRect:p,userSelectionActive:!0,nodesSelectionActive:!1})}:f,onPointerUp:P?e=>{if(0!==e.button||!D.current)return;e.target?.releasePointerCapture?.(e.pointerId);const{userSelectionRect:n}=v.getState();!S&&n&&e.target===m.current&&N?.(e),y.current>0&&v.setState({nodesSelectionActive:!0}),v.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,b.current=0,s?.(e),(t||i)&&(R.current=!1),D.current=!1}:void 0,onPointerLeave:h,ref:m,style:Ss,children:[g,(0,c.jsx)(Rs,{})]})}function ks({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),c=s.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(i({nodes:[c],edges:[]}),requestAnimationFrame((()=>r?.current?.blur()))):o([e])):l?.("012",vo.error012(e))}function _s({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,nodeClickDistance:s}){const l=Ra(),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)();return(0,o.useEffect)((()=>{d.current=function({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,l=!1,c={x:0,y:0},u=null,d=!1,p=null,f=!1;return{update:function({noDragClassName:h,handleSelector:g,domNode:m,isSelectable:v,nodeId:y,nodeClickDistance:b=0}){function x({x:e,y:n},o){const{nodeLookup:a,nodeExtent:l,snapGrid:c,snapToGrid:u,nodeOrigin:d,onNodeDrag:p,onSelectionDrag:f,onError:h,updateNodePositions:g}=t();i={x:e,y:n};let m=!1,v={x:0,y:0,x2:0,y2:0};if(s.size>1&&l){const e=Mo(s);v=Go(e)}for(const[t,r]of s){let o={x:e-r.distance.x,y:n-r.distance.y};u&&(o=Jo(o,c));let i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];if(s.size>1&&l&&!r.extent){const{positionAbsolute:e}=r.internals,t=e.x-v.x+l[0][0],n=e.x+r.measured.width-v.x2+l[1][0];i=[[t,e.y-v.y+l[0][1]],[n,e.y+r.measured.height-v.y2+l[1][1]]]}const{position:p,positionAbsolute:f}=Bo({nodeId:t,nextPosition:o,nodeLookup:a,nodeExtent:i,nodeOrigin:d,onError:h});m=m||r.position.x!==p.x||r.position.y!==p.y,r.position=p,r.internals.positionAbsolute=f}if(m&&(g(s,!0),o&&(r||p||!y&&f))){const[e,t]=Gi({nodeId:y,dragItems:s,nodeLookup:a});r?.(o,s,e,t),p?.(o,e,t),y||f?.(o,t)}}async function w(){if(!u)return;const{transform:e,panBy:n,autoPanSpeed:r}=t(),[o,s]=$o(c,u,r);0===o&&0===s||(i.x=(i.x??0)-o/e[2],i.y=(i.y??0)-s/e[2],await n({x:o,y:s})&&x(i,null)),a=requestAnimationFrame(w)}function S(r){const{nodeLookup:o,multiSelectionActive:a,nodesDraggable:l,transform:c,snapGrid:u,snapToGrid:p,selectNodesOnDrag:f,onNodeDragStart:h,onSelectionDragStart:g,unselectNodesAndEdges:m}=t();d=!0,f&&v||a||!y||o.get(y)?.selected||m(),v&&f&&y&&e?.(y);const b=si(r.sourceEvent,{transform:c,snapGrid:u,snapToGrid:p});if(i=b,s=function(e,t,n,r){const o=new Map;for(const[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!$i(a,e))&&(a.draggable||t&&void 0===a.draggable)){const t=e.get(i);t&&o.set(i,{id:i,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return o}(o,l,b,y),s.size>0&&(n||h||!y&&g)){const[e,t]=Gi({nodeId:y,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,e,t),h?.(r.sourceEvent,e,t),y||g?.(r.sourceEvent,t)}}p=zt(m);const C=en().clickDistance(b).on("start",(e=>{const{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:a,snapToGrid:s}=t();f=!1,0===r&&S(e);const l=si(e.sourceEvent,{transform:o,snapGrid:a,snapToGrid:s});i=l,u=n?.getBoundingClientRect()||null,c=fi(e.sourceEvent,u)})).on("drag",(e=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:a,nodeDragThreshold:p}=t(),h=si(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:a});if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(f=!0),!f){if(!l&&n&&d&&(l=!0,w()),!d){const t=h.xSnapped-(i.x??0),n=h.ySnapped-(i.y??0);Math.sqrt(t*t+n*n)>p&&S(e)}(i.x!==h.xSnapped||i.y!==h.ySnapped)&&s&&d&&(c=fi(e.sourceEvent,u),x(h,e.sourceEvent))}})).on("end",(e=>{if(d&&!f&&(l=!1,d=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:i,onSelectionDragStop:a}=t();if(r(s,!1),o||i||!y&&a){const[t,r]=Gi({nodeId:y,dragItems:s,nodeLookup:n,dragging:!1});o?.(e.sourceEvent,s,t,r),i?.(e.sourceEvent,t,r),y||a?.(e.sourceEvent,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!h||!Hi(t,`.${h}`,m))&&(!g||Hi(t,g,m))}));p.call(C)},destroy:function(){p?.on(".drag",null)}}}({getStoreItems:()=>l.getState(),onNodeMouseDown:t=>{ks({id:t,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})}),[]),(0,o.useEffect)((()=>{if(t)d.current?.destroy();else if(e.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:a,nodeId:i,nodeClickDistance:s}),()=>{d.current?.destroy()}}),[n,r,t,a,e,i]),c}const Ms=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function js(){const e=Ra(),t=(0,o.useCallback)((t=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:s,nodeLookup:l,nodeOrigin:c}=e.getState(),u=new Map,d=Ms(i),p=r?o[0]:5,f=r?o[1]:5,h=t.direction.x*p*t.factor,g=t.direction.y*f*t.factor;for(const[,e]of l){if(!d(e))continue;let t={x:e.internals.positionAbsolute.x+h,y:e.internals.positionAbsolute.y+g};r&&(t=Jo(t,o));const{position:i,positionAbsolute:s}=Bo({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:a});e.position=i,e.internals.positionAbsolute=s,u.set(e.id,e)}s(u)}),[]);return t}const Os=(0,o.createContext)(null),As=Os.Provider;Os.Consumer;const Ts=()=>(0,o.useContext)(Os),Bs=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Ls=(0,o.memo)(ps((function({type:e="source",position:t=Ro.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:d,onTouchStart:p,...f},h){const g=a||null,m="target"===e,v=Ra(),y=Ts(),{connectOnClick:b,noPanClassName:x,rfId:w}=Pa(Bs,ba),{connectingFrom:S,connectingTo:C,clickConnecting:E,isPossibleEndHandle:P,connectionInProcess:R,valid:D}=Pa(((e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:s,toHandle:l,isValid:c}=a,u=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:s?.nodeId===e&&s?.id===t&&s?.type===n,connectingTo:u,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:i===xo.Strict?s?.type!==n:e!==s?.nodeId||t!==s?.id,connectionInProcess:!!s,valid:u&&c}})(y,g,e),ba);y||v.getState().onError?.("010",vo.error010());const N=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=v.getState();t(Si(o,e))}n?.(o),s?.(o)},I=e=>{if(!y)return;const t=pi(e.nativeEvent);if(o&&(t&&0===e.button||!t)){const t=v.getState();Xi.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:m,handleId:g,nodeId:y,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:N,isValidConnection:n||t.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?d?.(e):p?.(e)};return(0,c.jsx)("div",{"data-handleid":g,"data-nodeid":y,"data-handlepos":t,"data-id":`${w}-${y}-${g}-${e}`,className:we(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!m,target:m,connectable:r,connectablestart:o,connectableend:i,clickconnecting:E,connectingfrom:S,connectingto:C,valid:D,connectionindicator:r&&(!R||P)&&(R?i:o)}]),onMouseDown:I,onTouchStart:I,onClick:b?t=>{const{onClickConnectStart:r,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l,lib:c,rfId:u,nodeLookup:d,connection:p}=v.getState();if(!y||!a&&!o)return;if(!a)return r?.(t.nativeEvent,{nodeId:y,handleId:g,handleType:e}),void v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:g}});const f=ci(t.target),h=n||l,{connection:m,isValid:b}=Xi.isValid(t.nativeEvent,{handle:{nodeId:y,id:g,type:e},connectionMode:s,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:h,flowId:u,doc:f,lib:c,nodeLookup:d});b&&m&&N(m);const x=structuredClone(p);delete x.inProgress,x.toPosition=x.toHandle?x.toHandle.position:null,i?.(t,x),v.setState({connectionClickStartHandle:null})}:void 0,ref:h,...f,children:l})}))),Fs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},zs={input:function({data:e,isConnectable:t,sourcePosition:n=Ro.Bottom}){return(0,c.jsxs)(c.Fragment,{children:[e?.label,(0,c.jsx)(Ls,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=Ro.Top,sourcePosition:r=Ro.Bottom}){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ls,{type:"target",position:n,isConnectable:t}),e?.label,(0,c.jsx)(Ls,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=Ro.Top}){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ls,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},$s=e=>{const{width:t,height:n,x:r,y:o}=Mo(e.nodeLookup,{filter:e=>!!e.selected});return{width:Zo(t)?t:null,height:Zo(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Hs({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ra(),{width:i,height:a,transformString:s,userSelectionActive:l}=Pa($s,ba),u=js(),d=(0,o.useRef)(null);if((0,o.useEffect)((()=>{n||d.current?.focus({preventScroll:!0})}),[n]),_s({nodeRef:d}),l||!i||!a)return null;const p=e?t=>{const n=r.getState().nodes.filter((e=>e.selected));e(t,n)}:void 0;return(0,c.jsx)("div",{className:we(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:(0,c.jsx)("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(Fs,e.key)&&u({direction:Fs[e.key],factor:e.shiftKey?4:1})},style:{width:i,height:a}})})}const Gs="undefined"!=typeof window?window:void 0,Vs=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Ws({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:f,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:v,zoomActivationKeyCode:y,elementsSelectable:b,zoomOnScroll:x,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:P,panOnDrag:R,defaultViewport:D,translateExtent:N,minZoom:I,maxZoom:k,preventScrolling:_,onSelectionContextMenu:M,noWheelClassName:j,noPanClassName:O,disableKeyboardA11y:A,onViewportChange:T,isControlledViewport:B}){const{nodesSelectionActive:L,userSelectionActive:F}=Pa(Vs),z=Ja(d,{target:Gs}),$=Ja(v,{target:Gs}),H=$||R,G=$||S,V=p&&!0!==H,W=z||F||V;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ra(),{deleteElements:r}=ys(),i=Ja(e,xs),a=Ja(t,{target:ws});(0,o.useEffect)((()=>{if(i){const{edges:e,nodes:t}=n.getState();r({nodes:t.filter(bs),edges:e.filter(bs)}),n.setState({nodesSelectionActive:!1})}}),[i]),(0,o.useEffect)((()=>{n.setState({multiSelectionActive:a})}),[a])}({deleteKeyCode:u,multiSelectionKeyCode:m}),(0,c.jsx)(Es,{onPaneContextMenu:a,elementsSelectable:b,zoomOnScroll:x,zoomOnPinch:w,panOnScroll:G,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:P,panOnDrag:!z&&H,defaultViewport:D,translateExtent:N,minZoom:I,maxZoom:k,zoomActivationKeyCode:y,preventScrolling:_,noWheelClassName:j,noPanClassName:O,onViewportChange:T,isControlledViewport:B,paneClickDistance:l,children:(0,c.jsxs)(Is,{onSelectionStart:h,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:H,isSelecting:!!W,selectionMode:f,selectionKeyPressed:z,selectionOnDrag:V,children:[e,L&&(0,c.jsx)(Hs,{onSelectionContextMenu:M,noPanClassName:O,disableKeyboardA11y:A})]})})}Ws.displayName="FlowRenderer";const qs=(0,o.memo)(Ws),Ys=e=>e.updateNodeInternals;function Xs({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:a,onDoubleClick:s,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:p,resizeObserver:f,noDragClassName:h,noPanClassName:g,disableKeyboardA11y:m,rfId:v,nodeTypes:y,nodeExtent:b,nodeClickDistance:x,onError:w}){const{node:S,internals:C,isParent:E}=Pa((t=>{const n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}}),ba);let P=S.type||"default",R=y?.[P]||zs[P];void 0===R&&(w?.("003",vo.error003(P)),P="default",R=zs.default);const D=!!(S.draggable||l&&void 0===S.draggable),N=!!(S.selectable||u&&void 0===S.selectable),I=!!(S.connectable||d&&void 0===S.connectable),k=!!(S.focusable||p&&void 0===S.focusable),_=Ra(),M=ii(S),j=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Ra(),a=(0,o.useRef)(null),s=(0,o.useRef)(null),l=(0,o.useRef)(e.sourcePosition),c=(0,o.useRef)(e.targetPosition),u=(0,o.useRef)(t),d=n&&!!e.internals.handleBounds;return(0,o.useEffect)((()=>{!a.current||e.hidden||d&&s.current===a.current||(s.current&&r?.unobserve(s.current),r?.observe(a.current),s.current=a.current)}),[d,e.hidden]),(0,o.useEffect)((()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)}),[]),(0,o.useEffect)((()=>{if(a.current){const n=u.current!==t,r=l.current!==e.sourcePosition,o=c.current!==e.targetPosition;(n||r||o)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}}),[e.id,t,e.sourcePosition,e.targetPosition]),a}({node:S,nodeType:P,hasDimensions:M,resizeObserver:f}),O=_s({nodeRef:j,disabled:S.hidden||!D,noDragClassName:h,handleSelector:S.dragHandle,nodeId:e,isSelectable:N,nodeClickDistance:x}),A=js();if(S.hidden)return null;const T=oi(S),B=function(e){return void 0===e.internals.handleBounds?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}(S),L=b?Fo(C.positionAbsolute,b):C.positionAbsolute,F=N||D||t||n||r||i,z=n?e=>n(e,{...C.userNode}):void 0,$=r?e=>r(e,{...C.userNode}):void 0,H=i?e=>i(e,{...C.userNode}):void 0,G=a?e=>a(e,{...C.userNode}):void 0,V=s?e=>s(e,{...C.userNode}):void 0;return(0,c.jsx)("div",{className:we(["react-flow__node",`react-flow__node-${P}`,{[g]:D},S.className,{selected:S.selected,selectable:N,parent:E,draggable:D,dragging:O}]),ref:j,style:{zIndex:C.z,transform:`translate(${L.x}px,${L.y}px)`,pointerEvents:F?"all":"none",visibility:M?"visible":"hidden",...S.style,...B},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:$,onMouseLeave:H,onContextMenu:G,onClick:n=>{const{selectNodesOnDrag:r,nodeDragThreshold:o}=_.getState();N&&(!r||!D||o>0)&&ks({id:e,store:_,nodeRef:j}),t&&t(n,{...C.userNode})},onDoubleClick:V,onKeyDown:k?t=>{if(!di(t.nativeEvent)&&!m)if(bo.includes(t.key)&&N){const n="Escape"===t.key;ks({id:e,store:_,unselect:n,nodeRef:j})}else D&&S.selected&&Object.prototype.hasOwnProperty.call(Fs,t.key)&&(_.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~L.x}, y: ${~~L.y}`}),A({direction:Fs[t.key],factor:t.shiftKey?4:1}))}:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":m?void 0:`${Ia}-${v}`,"aria-label":S.ariaLabel,children:(0,c.jsx)(As,{value:e,children:(0,c.jsx)(R,{id:e,data:S.data,type:P,positionAbsoluteX:L.x,positionAbsoluteY:L.y,selected:S.selected,selectable:N,draggable:D,deletable:S.deletable??!0,isConnectable:I,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:O,dragHandle:S.dragHandle,zIndex:C.z,parentId:S.parentId,...T})})})}const Us=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Zs(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:a}=Pa(Us,ba),s=(l=e.onlyRenderVisibleElements,Pa((0,o.useCallback)((e=>t=>e?jo(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map((e=>e.id)):Array.from(t.nodeLookup.keys()))(l),[l]),ba));var l;const u=function(){const e=Pa(Ys),[t]=(0,o.useState)((()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver((t=>{const n=new Map;t.forEach((e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})})),e(n)}))));return(0,o.useEffect)((()=>()=>{t?.disconnect()}),[t]),t}();return(0,c.jsx)("div",{className:"react-flow__nodes",style:Ss,children:s.map((o=>(0,c.jsx)(Xs,{id:o,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},o)))})}Zs.displayName="NodeRenderer";const Ks=(0,o.memo)(Zs),Js={[Po.Arrow]:({color:e="none",strokeWidth:t=1})=>(0,c.jsx)("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[Po.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>(0,c.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Qs=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const u=function(e){const t=Ra();return(0,o.useMemo)((()=>Object.prototype.hasOwnProperty.call(Js,e)?Js[e]:(t.getState().onError?.("009",vo.error009(e)),null)),[e])}(t);return u?(0,c.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:(0,c.jsx)(u,{color:n,strokeWidth:s})}):null},el=({defaultColor:e,rfId:t})=>{const n=Pa((e=>e.edges)),r=Pa((e=>e.defaultEdgeOptions)),i=(0,o.useMemo)((()=>{const o=function(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce(((e,a)=>([a.markerStart||r,a.markerEnd||o].forEach((r=>{if(r&&"object"==typeof r){const o=Mi(r,t);i.has(o)||(e.push({id:o,color:r.color||n,...r}),i.add(o))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd});return o}),[n,r,t,e]);return i.length?(0,c.jsx)("svg",{className:"react-flow__marker",children:(0,c.jsx)("defs",{children:i.map((e=>(0,c.jsx)(Qs,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id)))})}):null};el.displayName="MarkerDefinitions";var tl=(0,o.memo)(el);function nl({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...p}){const[f,h]=(0,o.useState)({x:1,y:0,width:0,height:0}),g=we(["react-flow__edge-textwrapper",d]),m=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(m.current){const e=m.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}}),[n]),void 0!==n&&n?(0,c.jsxs)("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...p,children:[i&&(0,c.jsx)("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),(0,c.jsx)("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:m,style:r,children:n}),u]}):null}nl.displayName="EdgeText";const rl=(0,o.memo)(nl);function ol({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:f,className:h,interactionWidth:g=20}){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{id:e,style:d,d:t,fill:"none",className:we(["react-flow__edge-path",h]),markerEnd:p,markerStart:f}),g&&(0,c.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&Zo(n)&&Zo(r)?(0,c.jsx)(rl,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function il({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Ro.Left||e===Ro.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function al({sourceX:e,sourceY:t,sourcePosition:n=Ro.Bottom,targetX:r,targetY:o,targetPosition:i=Ro.Top}){const[a,s]=il({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=il({pos:i,x1:r,y1:o,x2:e,y2:t}),[u,d,p,f]=gi({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${r},${o}`,u,d,p,f]}function sl(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=Ro.Bottom,targetPosition:s=Ro.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:m,markerStart:v,interactionWidth:y})=>{const[b,x,w]=al({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),S=e.isInternal?void 0:t;return(0,c.jsx)(ol,{id:S,path:b,labelX:x,labelY:w,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:m,markerStart:v,interactionWidth:y})}))}const ll=sl({isInternal:!1}),cl=sl({isInternal:!0});function ul(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,sourcePosition:h=Ro.Bottom,targetPosition:g=Ro.Top,markerEnd:m,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,S]=Di({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:g,borderRadius:y?.borderRadius,offset:y?.offset}),C=e.isInternal?void 0:t;return(0,c.jsx)(ol,{id:C,path:x,labelX:w,labelY:S,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:m,markerStart:v,interactionWidth:b})}))}ll.displayName="SimpleBezierEdge",cl.displayName="SimpleBezierEdgeInternal";const dl=ul({isInternal:!1}),pl=ul({isInternal:!0});function fl(e){return(0,o.memo)((({id:t,...n})=>{const r=e.isInternal?void 0:t;return(0,c.jsx)(dl,{...n,id:r,pathOptions:(0,o.useMemo)((()=>({borderRadius:0,offset:n.pathOptions?.offset})),[n.pathOptions?.offset])})}))}dl.displayName="SmoothStepEdge",pl.displayName="SmoothStepEdgeInternal";const hl=fl({isInternal:!1}),gl=fl({isInternal:!0});function ml(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,interactionWidth:m})=>{const[v,y,b]=Ci({sourceX:n,sourceY:r,targetX:o,targetY:i}),x=e.isInternal?void 0:t;return(0,c.jsx)(ol,{id:x,path:v,labelX:y,labelY:b,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:p,style:f,markerEnd:h,markerStart:g,interactionWidth:m})}))}hl.displayName="StepEdge",gl.displayName="StepEdgeInternal";const vl=ml({isInternal:!1}),yl=ml({isInternal:!0});function bl(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=Ro.Bottom,targetPosition:s=Ro.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:m,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,S]=yi({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:y?.curvature}),C=e.isInternal?void 0:t;return(0,c.jsx)(ol,{id:C,path:x,labelX:w,labelY:S,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:m,markerStart:v,interactionWidth:b})}))}vl.displayName="StraightEdge",yl.displayName="StraightEdgeInternal";const xl=bl({isInternal:!1}),wl=bl({isInternal:!0});xl.displayName="BezierEdge",wl.displayName="BezierEdgeInternal";const Sl={default:wl,straight:yl,step:gl,smoothstep:pl,simplebezier:cl},Cl={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},El=(e,t,n)=>n===Ro.Left?e-t:n===Ro.Right?e+t:e,Pl=(e,t,n)=>n===Ro.Top?e-t:n===Ro.Bottom?e+t:e,Rl="react-flow__edgeupdater";function Dl({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s}){return(0,c.jsx)("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:we([Rl,`${Rl}-${s}`]),cx:El(t,r,e),cy:Pl(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Nl({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:d,onReconnectEnd:p,setReconnecting:f,setUpdateHover:h}){const g=Ra(),m=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:r,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:s,lib:l,onConnectStart:c,onConnectEnd:h,cancelConnection:m,nodeLookup:v,rfId:y,panBy:b,updateConnection:x}=g.getState(),w="target"===t.type;f(!0),d?.(e,n,t.type),Xi.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:a,connectionRadius:s,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:v,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:y,cancelConnection:m,panBy:b,isValidConnection:i,onConnect:e=>u?.(n,e),onConnectStart:c,onConnectEnd:h,onReconnectEnd:(e,r)=>{f(!1),p?.(e,n,t.type,r)},updateConnection:x,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},v=()=>h(!0),y=()=>h(!1);return(0,c.jsxs)(c.Fragment,{children:[(!0===e||"source"===e)&&(0,c.jsx)(Dl,{position:s,centerX:r,centerY:o,radius:t,onMouseDown:e=>m(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:v,onMouseOut:y,type:"source"}),(!0===e||"target"===e)&&(0,c.jsx)(Dl,{position:l,centerX:i,centerY:a,radius:t,onMouseDown:e=>m(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:v,onMouseOut:y,type:"target"})]})}function Il({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:a,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:p,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,rfId:m,edgeTypes:v,noPanClassName:y,onError:b,disableKeyboardA11y:x}){let w=Pa((t=>t.edgeLookup.get(e)));const S=Pa((e=>e.defaultEdgeOptions));w=S?{...S,...w}:w;let C=w.type||"default",E=v?.[C]||Sl[C];void 0===E&&(b?.("011",vo.error011(C)),C="default",E=Sl.default);const P=!!(w.focusable||t&&void 0===w.focusable),R=void 0!==f&&(w.reconnectable||n&&void 0===w.reconnectable),D=!!(w.selectable||r&&void 0===w.selectable),N=(0,o.useRef)(null),[I,k]=(0,o.useState)(!1),[_,M]=(0,o.useState)(!1),j=Ra(),{zIndex:O,sourceX:A,sourceY:T,targetX:B,targetY:L,sourcePosition:F,targetPosition:z}=Pa((0,o.useCallback)((t=>{const n=t.nodeLookup.get(w.source),r=t.nodeLookup.get(w.target);if(!n||!r)return{zIndex:w.zIndex,...Cl};const o=function(e){const{sourceNode:t,targetNode:n}=e;if(!Ni(t)||!Ni(n))return null;const r=t.internals.handleBounds||Ii(t.handles),o=n.internals.handleBounds||Ii(n.handles),i=_i(r?.source??[],e.sourceHandle),a=_i(e.connectionMode===xo.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!i||!a)return e.onError?.("008",vo.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=i?.position||Ro.Bottom,l=a?.position||Ro.Top,c=ki(t,i,s),u=ki(n,a,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:s,targetPosition:l}}({id:e,sourceNode:n,targetNode:r,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:t.connectionMode,onError:b}),i=function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?a:0)}({selected:w.selected,zIndex:w.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect});return{zIndex:i,...o||Cl}}),[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),ba),$=(0,o.useMemo)((()=>w.markerStart?`url('#${Mi(w.markerStart,m)}')`:void 0),[w.markerStart,m]),H=(0,o.useMemo)((()=>w.markerEnd?`url('#${Mi(w.markerEnd,m)}')`:void 0),[w.markerEnd,m]);if(w.hidden||null===A||null===T||null===B||null===L)return null;const G=a?e=>{a(e,{...w})}:void 0,V=s?e=>{s(e,{...w})}:void 0,W=l?e=>{l(e,{...w})}:void 0,q=u?e=>{u(e,{...w})}:void 0,Y=d?e=>{d(e,{...w})}:void 0;return(0,c.jsx)("svg",{style:{zIndex:O},children:(0,c.jsxs)("g",{className:we(["react-flow__edge",`react-flow__edge-${C}`,w.className,y,{selected:w.selected,animated:w.animated,inactive:!D&&!i,updating:I,selectable:D}]),onClick:t=>{const{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=j.getState();D&&(j.setState({nodesSelectionActive:!1}),w.selected&&o?(r({nodes:[],edges:[w]}),N.current?.blur()):n([e])),i&&i(t,w)},onDoubleClick:G,onContextMenu:V,onMouseEnter:W,onMouseMove:q,onMouseLeave:Y,onKeyDown:P?t=>{if(!x&&bo.includes(t.key)&&D){const{unselectNodesAndEdges:n,addSelectedEdges:r}=j.getState();"Escape"===t.key?(N.current?.blur(),n({edges:[w]})):r([e])}}:void 0,tabIndex:P?0:void 0,role:P?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===w.ariaLabel?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":P?`${ka}-${m}`:void 0,ref:N,children:[!_&&(0,c.jsx)(E,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:D,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:A,sourceY:T,targetX:B,targetY:L,sourcePosition:F,targetPosition:z,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:$,markerEnd:H,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),R&&(0,c.jsx)(Nl,{edge:w,isReconnectable:R,reconnectRadius:p,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,sourceX:A,sourceY:T,targetX:B,targetY:L,sourcePosition:F,targetPosition:z,setUpdateHover:k,setReconnecting:M})]})})}const kl=e=>({width:e.width,height:e.height,edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function _l({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:g,onReconnectEnd:m,disableKeyboardA11y:v}){const{edgesFocusable:y,edgesReconnectable:b,elementsSelectable:x,onError:w}=Pa(kl,ba),S=(C=t,Pa((0,o.useCallback)((e=>{if(!C)return e.edges.map((e=>e.id));const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&xi({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t}),[C]),ba));var C;return(0,c.jsxs)("div",{className:"react-flow__edges",children:[(0,c.jsx)(tl,{defaultColor:e,rfId:n}),S.map((e=>(0,c.jsx)(Il,{id:e,edgesFocusable:y,edgesReconnectable:b,elementsSelectable:x,noPanClassName:i,onReconnect:a,onContextMenu:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:p,reconnectRadius:f,onDoubleClick:h,onReconnectStart:g,onReconnectEnd:m,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:v},e)))]})}_l.displayName="EdgeRenderer";const Ml=(0,o.memo)(_l),jl=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Ol({children:e}){const t=Pa(jl);return(0,c.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}const Al=e=>e.panZoom?.syncViewport;function Tl(e){return e.connection.inProgress?{...e.connection,to:Qo(e.connection.to,e.transform)}:{...e.connection}}const Bl=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Ll({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:a,isValid:s,inProgress:l}=Pa(Bl,ba);return i&&o&&l?(0,c.jsx)("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:(0,c.jsx)("g",{className:we(["react-flow__connection",No(s)]),children:(0,c.jsx)(Fl,{style:t,type:n,CustomComponent:r,isValid:s})})}):null}const Fl=({style:e,type:t=Eo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:d,toHandle:p,toPosition:f}=Pa(function(e){return e?t=>{const n=Tl(t);return e(n)}:Tl}(h),ba);var h;if(!o)return;if(n)return(0,c.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:f,connectionStatus:No(r),toNode:d,toHandle:p});let g="";const m={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:f};switch(t){case Eo.Bezier:[g]=yi(m);break;case Eo.SimpleBezier:[g]=al(m);break;case Eo.Step:[g]=Di({...m,borderRadius:0});break;case Eo.SmoothStep:[g]=Di(m);break;default:[g]=Ci(m)}return(0,c.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};Fl.displayName="ConnectionLine";const zl={};function $l(e=zl){(0,o.useRef)(e),Ra(),(0,o.useEffect)((()=>{}),[e])}function Hl({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:g,connectionLineType:m,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:b,selectionKeyCode:x,selectionOnDrag:w,selectionMode:S,multiSelectionKeyCode:C,panActivationKeyCode:E,zoomActivationKeyCode:P,deleteKeyCode:R,onlyRenderVisibleElements:D,elementsSelectable:N,defaultViewport:I,translateExtent:k,minZoom:_,maxZoom:M,preventScrolling:j,defaultMarkerColor:O,zoomOnScroll:A,zoomOnPinch:T,panOnScroll:B,panOnScrollSpeed:L,panOnScrollMode:F,zoomOnDoubleClick:z,panOnDrag:$,onPaneClick:H,onPaneMouseEnter:G,onPaneMouseMove:V,onPaneMouseLeave:W,onPaneScroll:q,onPaneContextMenu:Y,paneClickDistance:X,nodeClickDistance:U,onEdgeContextMenu:Z,onEdgeMouseEnter:K,onEdgeMouseMove:J,onEdgeMouseLeave:Q,reconnectRadius:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,noDragClassName:oe,noWheelClassName:ie,noPanClassName:ae,disableKeyboardA11y:se,nodeExtent:le,rfId:ce,viewport:ue,onViewportChange:de}){return $l(e),$l(t),Ra(),(0,o.useRef)(!1),(0,o.useEffect)((()=>{}),[]),function(e){const t=ys(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(n),function(e){const t=Pa(Al),n=Ra();(0,o.useEffect)((()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))}),[e,t])}(ue),(0,c.jsx)(qs,{onPaneClick:H,onPaneMouseEnter:G,onPaneMouseMove:V,onPaneMouseLeave:W,onPaneContextMenu:Y,onPaneScroll:q,paneClickDistance:X,deleteKeyCode:R,selectionKeyCode:x,selectionOnDrag:w,selectionMode:S,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:C,panActivationKeyCode:E,zoomActivationKeyCode:P,elementsSelectable:N,zoomOnScroll:A,zoomOnPinch:T,zoomOnDoubleClick:z,panOnScroll:B,panOnScrollSpeed:L,panOnScrollMode:F,panOnDrag:$,defaultViewport:I,translateExtent:k,minZoom:_,maxZoom:M,onSelectionContextMenu:f,preventScrolling:j,noDragClassName:oe,noWheelClassName:ie,noPanClassName:ae,disableKeyboardA11y:se,onViewportChange:de,isControlledViewport:!!ue,children:(0,c.jsxs)(Ol,{children:[(0,c.jsx)(Ml,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,onlyRenderVisibleElements:D,onEdgeContextMenu:Z,onEdgeMouseEnter:K,onEdgeMouseMove:J,onEdgeMouseLeave:Q,reconnectRadius:ee,defaultMarkerColor:O,noPanClassName:ae,disableKeyboardA11y:se,rfId:ce}),(0,c.jsx)(Ll,{style:v,type:m,component:y,containerStyle:b}),(0,c.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,c.jsx)(Ks,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,nodeClickDistance:U,onlyRenderVisibleElements:D,noPanClassName:ae,noDragClassName:oe,disableKeyboardA11y:se,nodeExtent:le,rfId:ce}),(0,c.jsx)("div",{className:"react-flow__viewport-portal"})]})})}Hl.displayName="GraphView";const Gl=(0,o.memo)(Hl),Vl=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:s}={})=>{const l=new Map,c=new Map,u=new Map,d=new Map,p=r??t??[],f=n??e??[],h=s??[0,0];zi(u,d,p),Ti(f,l,c,{nodeOrigin:h,elevateNodesOnSelect:!1});let g=[0,0,1];if(a&&o&&i){const e=Mo(l,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=ti(e,o,i,.5,2,.1);g=[t,n,r]}return{rfId:"1",width:0,height:0,transform:g,nodes:f,nodeLookup:l,parentLookup:c,edges:p,edgeLookup:d,connectionLookup:u,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:yo,nodeExtent:yo,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:xo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...Co},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:Ko,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Wl=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:s})=>{return l=(l,c)=>({...Vl({nodes:e,edges:t,width:o,height:i,fitView:a,nodeOrigin:s,defaultNodes:n,defaultEdges:r}),setNodes:e=>{const{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o}=c();Ti(e,t,n,{nodeOrigin:r,elevateNodesOnSelect:o,checkEquality:!0}),l({nodes:e})},setEdges:e=>{const{connectionLookup:t,edgeLookup:n}=c();zi(t,n,e),l({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){const{setNodes:t}=c();t(e),l({hasDefaultNodes:!0})}if(t){const{setEdges:e}=c();e(t),l({hasDefaultEdges:!0})}},updateNodeInternals:(e,t={triggerFitView:!0})=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,fitViewOnInit:i,fitViewDone:a,fitViewOnInitOptions:s,domNode:u,nodeOrigin:d,debug:p,fitViewSync:f}=c(),{changes:h,updatedInternals:g}=function(e,t,n,r,o){const i=r?.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const s=[],l=window.getComputedStyle(i),{m22:c}=new window.DOMMatrixReadOnly(l.transform),u=[];for(const r of e.values()){const e=t.get(r.id);if(e)if(e.hidden)e.internals={...e.internals,handleBounds:void 0},a=!0;else{const i=li(r.nodeElement),l=e.measured.width!==i.width||e.measured.height!==i.height;if(i.width&&i.height&&(l||!e.internals.handleBounds||r.force)){const d=r.nodeElement.getBoundingClientRect();e.measured=i,e.internals={...e.internals,positionAbsolute:_o(e,o),handleBounds:{source:hi("source",r.nodeElement,d,c,e.id),target:hi("target",r.nodeElement,d,c,e.id)}},e.parentId&&Bi(e,t,n,{nodeOrigin:o}),a=!0,l&&(s.push({id:e.id,type:"dimensions",dimensions:i}),e.expandParent&&e.parentId&&u.push({id:e.id,parentId:e.parentId,rect:Wo(e,o)}))}}}if(u.length>0){const e=Fi(u,t,n,o);s.push(...e)}return{changes:s,updatedInternals:a}}(e,r,o,u,d);if(g){if(function(e,t,n){const r={...Oi,...n};for(const n of e.values())n.parentId&&Bi(n,e,t,r)}(r,o,{nodeOrigin:d}),t.triggerFitView){let e=a;!a&&i&&(e=f({...s,nodes:s?.nodes})),l({fitViewDone:e})}else l({});h?.length>0&&(p&&console.log("React Flow: trigger node changes",h),n?.(h))}},updateNodePositions:(e,t=!1)=>{const n=[],r=[];for(const[o,i]of e){const e={id:o,type:"position",position:i.position,dragging:t};i?.expandParent&&i?.parentId&&e.position&&(n.push({id:o,parentId:i.parentId,rect:{...i.internals.positionAbsolute,width:i.measured.width,height:i.measured.height}}),e.position.x=Math.max(0,e.position.x),e.position.y=Math.max(0,e.position.y)),r.push(e)}if(n.length>0){const{nodeLookup:e,parentLookup:t,nodeOrigin:o}=c(),i=Fi(n,e,t,o);r.push(...i)}c().triggerNodeChanges(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=c();e?.length&&(o&&n(os(e,r)),i&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=c();e?.length&&(o&&n(is(e,r)),i&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=c();t?o(e.map((e=>as(e,!0)))):(o(ss(r,new Set([...e]),!0)),i(ss(n)))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=c();t?i(e.map((e=>as(e,!0)))):(i(ss(n,new Set([...e]))),o(ss(r,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{const{edges:n,nodes:r,triggerNodeChanges:o,triggerEdgeChanges:i}=c(),a=t||n,s=(e||r).map((e=>(e.selected=!1,as(e.id,!1)))),l=a.map((e=>as(e.id,!1)));o(s),i(l)},setMinZoom:e=>{const{panZoom:t,maxZoom:n}=c();t?.setScaleExtent([e,n]),l({minZoom:e})},setMaxZoom:e=>{const{panZoom:t,minZoom:n}=c();t?.setScaleExtent([n,e]),l({maxZoom:e})},setTranslateExtent:e=>{c().panZoom?.setTranslateExtent(e),l({translateExtent:e})},setPaneClickDistance:e=>{c().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r}=c(),o=t.reduce(((e,t)=>t.selected?[...e,as(t.id,!1)]:e),[]),i=e.reduce(((e,t)=>t.selected?[...e,as(t.id,!1)]:e),[]);n(o),r(i)},setNodeExtent:e=>{const{nodeLookup:t}=c();for(const[,n]of t){const r=Fo(n.internals.positionAbsolute,e);t.set(n.id,{...n,internals:{...n.internals,positionAbsolute:r}})}l({nodeExtent:e})},panBy:e=>{const{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=c();return async function({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},fitView:e=>{const{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=c();return t?To({nodes:Ao(a,e),width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e):Promise.resolve(!1)},fitViewSync:e=>{const{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=c();if(!t)return!1;const s=Ao(a,e);return To({nodes:s,width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e),s.size>0},cancelConnection:()=>{l({connection:{...Co}})},updateConnection:e=>{l({connection:e})},reset:()=>l({...Vl()})}),c=Object.is,l?ya(l,c):ya;var l,c};function ql({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:a,fitView:s,nodeOrigin:l,children:u}){const[d]=(0,o.useState)((()=>Wl({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:a,fitView:s,nodeOrigin:l})));return(0,c.jsx)(Ca,{value:d,children:(0,c.jsx)(ms,{children:u})})}function Yl({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:a,height:s,fitView:l,nodeOrigin:u}){return(0,o.useContext)(Sa)?(0,c.jsx)(c.Fragment,{children:e}):(0,c.jsx)(ql,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:a,initialHeight:s,fitView:l,nodeOrigin:u,children:e})}const Xl={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var Ul=ps((function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a,edgeTypes:s,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:p,onMoveStart:f,onMoveEnd:h,onConnect:g,onConnectStart:m,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:E,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:D,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onSelectionChange:_,onSelectionDragStart:M,onSelectionDrag:j,onSelectionDragStop:O,onSelectionContextMenu:A,onSelectionStart:T,onSelectionEnd:B,onBeforeDelete:L,connectionMode:F,connectionLineType:z=Eo.Bezier,connectionLineStyle:$,connectionLineComponent:H,connectionLineContainerStyle:G,deleteKeyCode:V="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:q=!1,selectionMode:Y=So.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:U=(ni()?"Meta":"Control"),zoomActivationKeyCode:Z=(ni()?"Meta":"Control"),snapToGrid:K,snapGrid:J,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:ee,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:re,nodeOrigin:oe=Va,edgesFocusable:ie,edgesReconnectable:ae,elementsSelectable:se=!0,defaultViewport:le=Wa,minZoom:ce=.5,maxZoom:ue=2,translateExtent:de=yo,preventScrolling:pe=!0,nodeExtent:fe,defaultMarkerColor:he="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:me=!0,panOnScroll:ve=!1,panOnScrollSpeed:ye=.5,panOnScrollMode:be=wo.Free,zoomOnDoubleClick:xe=!0,panOnDrag:Se=!0,onPaneClick:Ce,onPaneMouseEnter:Ee,onPaneMouseMove:Pe,onPaneMouseLeave:Re,onPaneScroll:De,onPaneContextMenu:Ne,paneClickDistance:Ie=0,nodeClickDistance:ke=0,children:_e,onReconnect:Me,onReconnectStart:je,onReconnectEnd:Oe,onEdgeContextMenu:Ae,onEdgeDoubleClick:Te,onEdgeMouseEnter:Be,onEdgeMouseMove:Le,onEdgeMouseLeave:Fe,reconnectRadius:ze=10,onNodesChange:$e,onEdgesChange:He,noDragClassName:Ge="nodrag",noWheelClassName:Ve="nowheel",noPanClassName:We="nopan",fitView:qe,fitViewOptions:Ye,connectOnClick:Xe,attributionPosition:Ue,proOptions:Ze,defaultEdgeOptions:Ke,elevateNodesOnSelect:Je,elevateEdgesOnSelect:Qe,disableKeyboardA11y:et=!1,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,autoPanSpeed:rt,connectionRadius:ot,isValidConnection:it,onError:at,style:st,id:lt,nodeDragThreshold:ct,viewport:ut,onViewportChange:dt,width:pt,height:ft,colorMode:ht="light",debug:gt,...mt},vt){const yt=lt||"1",bt=function(e){const[t,n]=(0,o.useState)("system"===e?null:e);return(0,o.useEffect)((()=>{if("system"!==e)return void n(e);const t=Za(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}}),[e]),null!==t?t:Za()?.matches?"dark":"light"}(ht);return(0,c.jsx)("div",{...mt,style:{...st,...Xl},ref:vt,className:we(["react-flow",i,bt]),"data-testid":"rf__wrapper",id:lt,children:(0,c.jsxs)(Yl,{nodes:e,edges:t,width:pt,height:ft,fitView:qe,nodeOrigin:oe,children:[(0,c.jsx)(Gl,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:x,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:E,nodeTypes:a,edgeTypes:s,connectionLineType:z,connectionLineStyle:$,connectionLineComponent:H,connectionLineContainerStyle:G,selectionKeyCode:W,selectionOnDrag:q,selectionMode:Y,deleteKeyCode:V,multiSelectionKeyCode:U,panActivationKeyCode:X,zoomActivationKeyCode:Z,onlyRenderVisibleElements:Q,defaultViewport:le,translateExtent:de,minZoom:ce,maxZoom:ue,preventScrolling:pe,zoomOnScroll:ge,zoomOnPinch:me,zoomOnDoubleClick:xe,panOnScroll:ve,panOnScrollSpeed:ye,panOnScrollMode:be,panOnDrag:Se,onPaneClick:Ce,onPaneMouseEnter:Ee,onPaneMouseMove:Pe,onPaneMouseLeave:Re,onPaneScroll:De,onPaneContextMenu:Ne,paneClickDistance:Ie,nodeClickDistance:ke,onSelectionContextMenu:A,onSelectionStart:T,onSelectionEnd:B,onReconnect:Me,onReconnectStart:je,onReconnectEnd:Oe,onEdgeContextMenu:Ae,onEdgeDoubleClick:Te,onEdgeMouseEnter:Be,onEdgeMouseMove:Le,onEdgeMouseLeave:Fe,reconnectRadius:ze,defaultMarkerColor:he,noDragClassName:Ge,noWheelClassName:Ve,noPanClassName:We,rfId:yt,disableKeyboardA11y:et,nodeExtent:fe,viewport:ut,onViewportChange:dt}),(0,c.jsx)(Ua,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:m,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:re,edgesFocusable:ie,edgesReconnectable:ae,elementsSelectable:se,elevateNodesOnSelect:Je,elevateEdgesOnSelect:Qe,minZoom:ce,maxZoom:ue,nodeExtent:fe,onNodesChange:$e,onEdgesChange:He,snapToGrid:K,snapGrid:J,connectionMode:F,translateExtent:de,connectOnClick:Xe,defaultEdgeOptions:Ke,fitView:qe,fitViewOptions:Ye,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onNodeDragStart:P,onNodeDrag:R,onNodeDragStop:D,onSelectionDrag:j,onSelectionDragStart:M,onSelectionDragStop:O,onMove:p,onMoveStart:f,onMoveEnd:h,noPanClassName:We,nodeOrigin:oe,rfId:yt,autoPanOnConnect:tt,autoPanOnNodeDrag:nt,autoPanSpeed:rt,onError:at,connectionRadius:ot,isValidConnection:it,selectNodesOnDrag:ee,nodeDragThreshold:ct,onBeforeDelete:L,paneClickDistance:Ie,debug:gt}),(0,c.jsx)(Ga,{onSelectionChange:_}),_e,(0,c.jsx)(Ba,{proOptions:Ze,position:Ue}),(0,c.jsx)(Oa,{rfId:yt,disableKeyboardA11y:et})]})})}));const Zl=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function Kl({children:e}){const t=Pa(Zl);return t?(0,xa.createPortal)(e,t):null}function Jl({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,c.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:we(["react-flow__background-pattern",n,r])})}function Ql({radius:e,className:t}){return(0,c.jsx)("circle",{cx:e,cy:e,r:e,className:we(["react-flow__background-pattern","dots",t])})}var ec;!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(ec||(ec={}));const tc={[ec.Dots]:1,[ec.Lines]:1,[ec.Cross]:6},nc=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rc({id:e,variant:t=ec.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=0,color:s,bgColor:l,style:u,className:d,patternClassName:p}){const f=(0,o.useRef)(null),{transform:h,patternId:g}=Pa(nc,ba),m=r||tc[t],v=t===ec.Dots,y=t===ec.Cross,b=Array.isArray(n)?n:[n,n],x=[b[0]*h[2]||1,b[1]*h[2]||1],w=m*h[2],S=Array.isArray(a)?a:[a,a],C=y?[w,w]:x,E=[S[0]*h[2]||1+C[0]/2,S[1]*h[2]||1+C[1]/2],P=`${g}${e||""}`;return(0,c.jsxs)("svg",{className:we(["react-flow__background",d]),style:{...u,...Ss,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[(0,c.jsx)("pattern",{id:P,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:v?(0,c.jsx)(Ql,{radius:w/2,className:p}):(0,c.jsx)(Jl,{dimensions:C,lineWidth:i,variant:t,className:p})}),(0,c.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${P})`})]})}rc.displayName="Background";const oc=(0,o.memo)(rc);function ic(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,c.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ac(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,c.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function sc(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,c.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function lc(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,c.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function cc(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,c.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function uc({children:e,className:t,...n}){return(0,c.jsx)("button",{type:"button",className:we(["react-flow__controls-button",t]),...n,children:e})}const dc=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function pc({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:d,position:p="bottom-left",orientation:f="vertical","aria-label":h="React Flow controls"}){const g=Ra(),{isInteractive:m,minZoomReached:v,maxZoomReached:y}=Pa(dc,ba),{zoomIn:b,zoomOut:x,fitView:w}=ys(),S="horizontal"===f?"horizontal":"vertical";return(0,c.jsxs)(Ta,{className:we(["react-flow__controls",S,u]),position:p,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(uc,{onClick:()=>{b(),i?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:(0,c.jsx)(ic,{})}),(0,c.jsx)(uc,{onClick:()=>{x(),a?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v,children:(0,c.jsx)(ac,{})})]}),n&&(0,c.jsx)(uc,{className:"react-flow__controls-fitview",onClick:()=>{w(o),s?.()},title:"fit view","aria-label":"fit view",children:(0,c.jsx)(sc,{})}),r&&(0,c.jsx)(uc,{className:"react-flow__controls-interactive",onClick:()=>{g.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l?.(!m)},title:"toggle interactivity","aria-label":"toggle interactivity",children:m?(0,c.jsx)(cc,{}):(0,c.jsx)(lc,{})}),d]})}pc.displayName="Controls";const fc=(0,o.memo)(pc),hc=(0,o.memo)((function({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:d,shapeRendering:p,selected:f,onClick:h}){const{background:g,backgroundColor:m}=i||{},v=a||g||m;return(0,c.jsx)("rect",{className:we(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:d,ry:d,width:r,height:o,style:{fill:v,stroke:s,strokeWidth:l},shapeRendering:p,onClick:h?t=>h(t,e):void 0})})),gc=e=>e.nodes.map((e=>e.id)),mc=e=>e instanceof Function?e:()=>e,vc=(0,o.memo)((function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:d,y:p}=Pa((t=>{const n=t.nodeLookup.get(e),{x:r,y:o}=n.internals.positionAbsolute;return{node:n,x:r,y:o}}),ba);if(!u||u.hidden||!ii(u))return null;const{width:f,height:h}=oi(u);return(0,c.jsx)(s,{x:d,y:p,width:f,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:a,onClick:l,id:u.id})}));var yc=(0,o.memo)((function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=hc,onClick:a}){const s=Pa(gc,ba),l=mc(t),u=mc(e),d=mc(n),p="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,c.jsx)(c.Fragment,{children:s.map((e=>(0,c.jsx)(vc,{id:e,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:a,shapeRendering:p},e)))})}));const bc=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Yo(Mo(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function xc({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:p,maskStrokeWidth:f,position:h="bottom-right",onClick:g,onNodeClick:m,pannable:v=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:x,zoomStep:w=10,offsetScale:S=5}){const C=Ra(),E=(0,o.useRef)(null),{boundingRect:P,viewBB:R,rfId:D,panZoom:N,translateExtent:I,flowWidth:k,flowHeight:_}=Pa(bc,ba),M=e?.width??200,j=e?.height??150,O=P.width/M,A=P.height/j,T=Math.max(O,A),B=T*M,L=T*j,F=S*T,z=P.x-(B-P.width)/2-F,$=P.y-(L-P.height)/2-F,H=B+2*F,G=L+2*F,V=`react-flow__minimap-desc-${D}`,W=(0,o.useRef)(0),q=(0,o.useRef)();W.current=T,(0,o.useEffect)((()=>{if(E.current&&N)return q.current=function({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=zt(e);return{update:function({translateExtent:e,width:i,height:a,zoomStep:s=10,pannable:l=!0,zoomable:c=!0,inversePan:u=!1}){let d=[0,0];const p=mo().on("start",(e=>{"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])})).on("zoom",l?o=>{const s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!t)return;const l=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],c=[l[0]-d[0],l[1]-d[1]];d=l;const p=r()*Math.max(s[2],Math.log(s[2]))*(u?-1:1),f={x:s[0]-c[0]*p,y:s[1]-c[1]*p},h=[[0,0],[i,a]];t.setViewportConstrained({x:f.x,y:f.y,zoom:s[2]},h,e)}:null).on("zoom.wheel",c?e=>{const r=n();if("wheel"!==e.sourceEvent.type||!t)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,i=r[2]*Math.pow(2,o);t.scaleTo(i)}:null);o.call(p,{})},destroy:function(){o.on("zoom",null)},pointer:$t}}({domNode:E.current,panZoom:N,getTransform:()=>C.getState().transform,getViewScale:()=>W.current}),()=>{q.current?.destroy()}}),[N]),(0,o.useEffect)((()=>{q.current?.update({translateExtent:I,width:k,height:_,inversePan:x,pannable:v,zoomStep:w,zoomable:y})}),[v,y,x,w,I,k,_]);const Y=g?e=>{const[t,n]=q.current?.pointer(e)||[0,0];g(e,{x:t,y:n})}:void 0,X=m?(0,o.useCallback)(((e,t)=>{const n=C.getState().nodeLookup.get(t);m(e,n)}),[]):void 0;return(0,c.jsx)(Ta,{position:h,style:{...e,"--xy-minimap-background-color-props":"string"==typeof u?u:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof f?f*T:void 0,"--xy-minimap-node-background-color-props":"string"==typeof r?r:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"string"==typeof s?s:void 0},className:we(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,c.jsxs)("svg",{width:M,height:j,viewBox:`${z} ${$} ${H} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":V,ref:E,onClick:Y,children:[b&&(0,c.jsx)("title",{id:V,children:b}),(0,c.jsx)(yc,{onClick:X,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),(0,c.jsx)("path",{className:"react-flow__minimap-mask",d:`M${z-F},${$-F}h${H+2*F}v${G+2*F}h${-H-2*F}z\n        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}xc.displayName="MiniMap";const wc=(0,o.memo)(xc);(0,o.memo)((function({nodeId:e,position:t,variant:n=ra.Handle,className:r,style:i={},children:a,color:s,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:f=!1,shouldResize:h,onResizeStart:g,onResize:m,onResizeEnd:v}){const y=Ts(),b="string"==typeof e?e:y,x=Ra(),w=(0,o.useRef)(null),S=n===ra.Line?"right":"bottom-right",C=t??S,E=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(w.current&&b)return E.current||(E.current=function({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=zt(e);return{update:function({controlPosition:e,boundaries:a,keepAspectRatio:s,onResizeStart:l,onResize:c,onResizeEnd:u,shouldResize:d}){let p={...ca},f={...ua};const h=function(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}(e);let g,m,v,y,b=[];const x=en().on("start",(e=>{const{nodeLookup:r,transform:o,snapGrid:i,snapToGrid:a,nodeOrigin:s}=n();if(g=r.get(t),!g)return;const{xSnapped:c,ySnapped:u}=si(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a});p={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},f={...p,pointerX:c,pointerY:u,aspectRatio:p.width/p.height},m=void 0,g.parentId&&("parent"===g.extent||g.expandParent)&&(m=r.get(g.parentId),v=m&&"parent"===g.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(m):void 0),b=[],y=void 0;for(const[e,n]of r)if(n.parentId===t&&(b.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){const e=da(n,g,n.origin??s);y=y?[[Math.min(e[0][0],y[0][0]),Math.min(e[0][1],y[0][1])],[Math.max(e[1][0],y[1][0]),Math.max(e[1][1],y[1][1])]]:e}l?.(e,{...p})})).on("drag",(e=>{const{transform:t,snapGrid:o,snapToGrid:i,nodeOrigin:l}=n(),u=si(e.sourceEvent,{transform:t,snapGrid:o,snapToGrid:i}),x=[];if(!g)return;const{x:w,y:S,width:C,height:E}=p,P={},R=g.origin??l,{width:D,height:N,x:I,y:k}=function(e,t,n,r,o,i,a,s){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,p=u&&d,{xSnapped:f,ySnapped:h}=n,{minWidth:g,maxWidth:m,minHeight:v,maxHeight:y}=r,{x:b,y:x,width:w,height:S,aspectRatio:C}=e;let E=Math.floor(u?f-e.pointerX:0),P=Math.floor(d?h-e.pointerY:0);const R=w+(l?-E:E),D=S+(c?-P:P),N=-i[0]*w,I=-i[1]*S;let k=sa(R,g,m),_=sa(D,v,y);if(a){let e=0,t=0;l&&E<0?e=ia(b+E+N,a[0][0]):!l&&E>0&&(e=aa(b+R+N,a[1][0])),c&&P<0?t=ia(x+P+I,a[0][1]):!c&&P>0&&(t=aa(x+D+I,a[1][1])),k=Math.max(k,e),_=Math.max(_,t)}if(s){let e=0,t=0;l&&E>0?e=aa(b+E,s[0][0]):!l&&E<0&&(e=ia(b+R,s[1][0])),c&&P>0?t=aa(x+P,s[0][1]):!c&&P<0&&(t=ia(x+D,s[1][1])),k=Math.max(k,e),_=Math.max(_,t)}if(o){if(u){const e=sa(R/C,v,y)*C;if(k=Math.max(k,e),a){let e=0;e=!l&&!c||l&&!c&&p?aa(x+I+R/C,a[1][1])*C:ia(x+I+(l?E:-E)/C,a[0][1])*C,k=Math.max(k,e)}if(s){let e=0;e=!l&&!c||l&&!c&&p?ia(x+R/C,s[1][1])*C:aa(x+(l?E:-E)/C,s[0][1])*C,k=Math.max(k,e)}}if(d){const e=sa(D*C,g,m)/C;if(_=Math.max(_,e),a){let e=0;e=!l&&!c||c&&!l&&p?aa(b+D*C+N,a[1][0])/C:ia(b+(c?P:-P)*C+N,a[0][0])/C,_=Math.max(_,e)}if(s){let e=0;e=!l&&!c||c&&!l&&p?ia(b+D*C,s[1][0])/C:aa(b+(c?P:-P)*C,s[0][0])/C,_=Math.max(_,e)}}}P+=P<0?_:-_,E+=E<0?k:-k,o&&(p?R>D*C?P=(la(l,c)?-E:E)/C:E=(la(l,c)?-P:P)*C:u?(P=E/C,c=l):(E=P*C,l=c));const M=l?b+E:b,j=c?x+P:x;return{width:w+(l?-E:E),height:S+(c?-P:P),x:i[0]*E*(l?-1:1)+M,y:i[1]*P*(c?-1:1)+j}}(f,h,u,a,s,R,v,y),_=D!==C,M=N!==E,j=I!==w&&_,O=k!==S&&M;if(!(j||O||_||M))return;if((j||O||1===R[0]||1===R[1])&&(P.x=j?I:p.x,P.y=O?k:p.y,p.x=P.x,p.y=P.y,b.length>0)){const e=I-w,t=k-S;for(const n of b)n.position={x:n.position.x-e+R[0]*(D-C),y:n.position.y-t+R[1]*(N-E)},x.push(n)}if((_||M)&&(P.width=_?D:p.width,P.height=M?N:p.height,p.width=P.width,p.height=P.height),m&&g.expandParent){const e=R[0]*(P.width??0);P.x&&P.x<e&&(p.x=e,f.x=f.x-(P.x-e));const t=R[1]*(P.height??0);P.y&&P.y<t&&(p.y=t,f.y=f.y-(P.y-t))}const A=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(l[0]=-1*l[0]),s&&i&&(l[1]=-1*l[1]),l}({width:p.width,prevWidth:C,height:p.height,prevHeight:E,affectsX:h.affectsX,affectsY:h.affectsY}),T={...p,direction:A},B=d?.(e,T);!1!==B&&(c?.(e,T),r(P,x))})).on("end",(e=>{u?.(e,{...p}),o?.()}));i.call(x)},destroy:function(){i.on(".drag",null)}}}({domNode:w.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o}=x.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=x.getState(),a=[],s={x:e.x,y:e.y},l=r.get(b);if(l&&l.expandParent&&l.parentId){const t=l.origin??i,n=e.width??l.measured.width,c=e.height??l.measured.height,u=Fi([{id:l.id,parentId:l.parentId,rect:{width:n,height:c,...ai({x:e.x??l.position.x,y:e.y??l.position.y},{width:n,height:c},l.parentId,r,t)}}],r,o,i);a.push(...u),s.x=e.x?Math.max(t[0]*n,e.x):void 0,s.y=e.y?Math.max(t[1]*c,e.y):void 0}if(void 0!==s.x&&void 0!==s.y){const e={id:b,type:"position",position:{...s}};a.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:b,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:e.width,height:e.height}};a.push(t)}for(const e of t){const t={...e,type:"position"};a.push(t)}n(a)},onEnd:()=>{const e={id:b,type:"dimensions",resizing:!1};x.getState().triggerNodeChanges([e])}})),E.current.update({controlPosition:C,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:p},keepAspectRatio:f,onResizeStart:g,onResize:m,onResizeEnd:v,shouldResize:h}),()=>{E.current?.destroy()}}),[C,l,u,d,p,f,g,m,v,h]);const P=C.split("-"),R=n===ra.Line?"borderColor":"backgroundColor",D=s?{...i,[R]:s}:i;return(0,c.jsx)("div",{className:we(["react-flow__resize-control","nodrag",...P,n,r]),ref:w,style:D,children:a})}));const Sc=e=>e.domNode?.querySelector(".react-flow__renderer");function Cc({children:e}){const t=Pa(Sc);return t?(0,xa.createPortal)(e,t):null}const Ec=(e,t)=>e?.internals.positionAbsolute.x!==t?.internals.positionAbsolute.x||e?.internals.positionAbsolute.y!==t?.internals.positionAbsolute.y||e?.measured.width!==t?.measured.width||e?.measured.height!==t?.measured.height||e?.selected!==t?.selected||e?.internals.z!==t?.internals.z,Pc=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,r]of e)if(Ec(r,t.get(n)))return!1;return!0},Rc=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2],selectedNodesCount:e.nodes.filter((e=>e.selected)).length});function Dc({nodeId:e,children:t,className:n,style:r,isVisible:i,position:a=Ro.Top,offset:s=10,align:l="center",...u}){const d=Ts(),p=(0,o.useCallback)((t=>{const n=(Array.isArray(e)?e:[e||d||""]).reduce(((e,n)=>{const r=t.nodeLookup.get(n);return r&&e.set(r.id,r),e}),new Map);return n}),[e,d]),f=Pa(p,Pc),{x:h,y:g,zoom:m,selectedNodesCount:v}=Pa(Rc,ba);if(!("boolean"==typeof i?i:1===f.size&&f.values().next().value.selected&&1===v)||!f.size)return null;const y=Mo(f),b=Array.from(f.values()),x=Math.max(...b.map((e=>e.internals.z+1))),w={position:"absolute",transform:ji(y,{x:h,y:g,zoom:m},a,s,l),zIndex:x,...r};return(0,c.jsx)(Cc,{children:(0,c.jsx)("div",{style:w,className:we(["react-flow__node-toolbar",n]),...u,"data-id":b.reduce(((e,t)=>`${e}${t.id} `),"").trim(),children:t})})}const Nc="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Ic(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function kc(e){return"nodeType"in e}function _c(e){var t,n;return e?Ic(e)?e:kc(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Mc(e){const{Document:t}=_c(e);return e instanceof t}function jc(e){return!Ic(e)&&e instanceof _c(e).HTMLElement}function Oc(e){return e instanceof _c(e).SVGElement}function Ac(e){return e?Ic(e)?e.document:kc(e)?Mc(e)?e:jc(e)||Oc(e)?e.ownerDocument:document:document:document}const Tc=Nc?o.useLayoutEffect:o.useEffect;function Bc(e){const t=(0,o.useRef)(e);return Tc((()=>{t.current=e})),(0,o.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function Lc(e,t){void 0===t&&(t=[e]);const n=(0,o.useRef)(e);return Tc((()=>{n.current!==e&&(n.current=e)}),t),n}function Fc(e,t){const n=(0,o.useRef)();return(0,o.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function zc(e){const t=Bc(e),n=(0,o.useRef)(null),r=(0,o.useCallback)((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function $c(e){const t=(0,o.useRef)();return(0,o.useEffect)((()=>{t.current=e}),[e]),t.current}let Hc={};function Gc(e,t){return(0,o.useMemo)((()=>{if(t)return t;const n=null==Hc[e]?0:Hc[e]+1;return Hc[e]=n,e+"-"+n}),[e,t])}function Vc(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const Wc=Vc(1),qc=Vc(-1);function Yc(e){if(!e)return!1;const{KeyboardEvent:t}=_c(e.target);return t&&e instanceof t}function Xc(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=_c(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Uc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Uc.Translate.toString(e),Uc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Zc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Kc(e){return e.matches(Zc)?e:e.querySelector(Zc)}const Jc={display:"none"};function Qc(e){let{id:t,value:n}=e;return i().createElement("div",{id:t,style:Jc},n)}function eu(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return i().createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const tu=(0,o.createContext)(null),nu={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ru={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ou(e){let{announcements:t=ru,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=nu}=e;const{announce:s,announcement:l}=function(){const[e,t]=(0,o.useState)("");return{announce:(0,o.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),c=Gc("DndLiveRegion"),[u,d]=(0,o.useState)(!1);if((0,o.useEffect)((()=>{d(!0)}),[]),function(e){const t=(0,o.useContext)(tu);(0,o.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,o.useMemo)((()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}})),[s,t])),!u)return null;const p=i().createElement(i().Fragment,null,i().createElement(Qc,{id:r,value:a.draggable}),i().createElement(eu,{id:c,announcement:l}));return n?(0,xa.createPortal)(p,n):p}var iu;function au(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(iu||(iu={}));const su=Object.freeze({x:0,y:0});function lu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function cu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function uu(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const du=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=uu(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=(a=uu(r),s=o,Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2)));i.push({id:t,data:{droppableContainer:e,value:n}})}}var a,s;return i.sort(lu)};function pu(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const fu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=pu(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(cu)};function hu(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:su}function gu(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const mu=gu(1);const vu={ignoreTransform:!1};function yu(e,t){void 0===t&&(t=vu);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=_c(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function bu(e){return yu(e,{ignoreTransform:!0})}function xu(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(Mc(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!jc(o)||Oc(o))return n;if(n.includes(o))return n;const i=_c(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=_c(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=_c(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function wu(e){const[t]=xu(e,1);return null!=t?t:null}function Su(e){return Nc&&e?Ic(e)?e:kc(e)?Mc(e)||e===Ac(e).scrollingElement?window:jc(e)?e:null:null:null}function Cu(e){return Ic(e)?e.scrollX:e.scrollLeft}function Eu(e){return Ic(e)?e.scrollY:e.scrollTop}function Pu(e){return{x:Cu(e),y:Eu(e)}}var Ru;function Du(e){return!(!Nc||!e)&&e===document.scrollingElement}function Nu(e){const t={x:0,y:0},n=Du(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Ru||(Ru={}));const Iu={x:.2,y:.2};function ku(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=Iu);const{isTop:c,isBottom:u,isLeft:d,isRight:p}=Nu(e),f={x:0,y:0},h={x:0,y:0},g=t.height*o.y,m=t.width*o.x;return!c&&i<=t.top+g?(f.y=Ru.Backward,h.y=r*Math.abs((t.top+g-i)/g)):!u&&l>=t.bottom-g&&(f.y=Ru.Forward,h.y=r*Math.abs((t.bottom-g-l)/g)),!p&&s>=t.right-m?(f.x=Ru.Forward,h.x=r*Math.abs((t.right-m-s)/m)):!d&&a<=t.left+m&&(f.x=Ru.Backward,h.x=r*Math.abs((t.left+m-a)/m)),{direction:f,speed:h}}function _u(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Mu(e){return e.reduce(((e,t)=>Wc(e,Pu(t))),su)}const ju=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Cu(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Eu(t)),0)}]];class Ou{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=xu(t),r=Mu(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ju)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Au{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Tu(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Bu,Lu,Fu;function zu(e){e.preventDefault()}function $u(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Bu||(Bu={})),(Fu=Lu||(Lu={})).Space="Space",Fu.Down="ArrowDown",Fu.Right="ArrowRight",Fu.Left="ArrowLeft",Fu.Up="ArrowUp",Fu.Esc="Escape",Fu.Enter="Enter";const Hu={start:[Lu.Space,Lu.Enter],cancel:[Lu.Esc],end:[Lu.Space,Lu.Enter]},Gu=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Lu.Right:return{...n,x:n.x+25};case Lu.Left:return{...n,x:n.x-25};case Lu.Down:return{...n,y:n.y+25};case Lu.Up:return{...n,y:n.y-25}}};class Vu{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Au(Ac(t)),this.windowListeners=new Au(_c(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bu.Resize,this.handleCancel),this.windowListeners.add(Bu.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Bu.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=yu),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);wu(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(su)}handleKeyDown(e){if(Yc(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=Hu,coordinateGetter:i=Gu,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:su;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=qc(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:p}=Nu(n),f=_u(n),h={x:Math.min(o===Lu.Right?f.right-f.width/2:f.right,Math.max(o===Lu.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(o===Lu.Down?f.bottom-f.height/2:f.bottom,Math.max(o===Lu.Down?f.top:f.top+f.height/2,u.y))},g=o===Lu.Right&&!s||o===Lu.Left&&!l,m=o===Lu.Down&&!c||o===Lu.Up&&!i;if(g&&h.x!==u.x){const e=n.scrollLeft+t.x,i=o===Lu.Right&&e<=d.x||o===Lu.Left&&e>=p.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===Lu.Right?n.scrollLeft-d.x:n.scrollLeft-p.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(m&&h.y!==u.y){const e=n.scrollTop+t.y,i=o===Lu.Down&&e<=d.y||o===Lu.Up&&e>=p.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===Lu.Down?n.scrollTop-d.y:n.scrollTop-p.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,Wc(qc(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Wu(e){return Boolean(e&&"distance"in e)}function qu(e){return Boolean(e&&"delay"in e)}Vu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Hu,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class Yu{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=_c(e);return e instanceof t?e:Ac(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=Ac(i),this.documentListeners=new Au(this.document),this.listeners=new Au(n),this.windowListeners=new Au(_c(i)),this.initialCoordinates=null!=(r=Xc(o))?r:su,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Bu.Resize,this.handleCancel),this.windowListeners.add(Bu.DragStart,zu),this.windowListeners.add(Bu.VisibilityChange,this.handleCancel),this.windowListeners.add(Bu.ContextMenu,zu),this.documentListeners.add(Bu.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qu(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Wu(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Bu.Click,$u,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bu.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=Xc(e))?t:su,l=qc(r,s);if(!n&&a){if(Wu(a)){if(null!=a.tolerance&&Tu(l,a.tolerance))return this.handleCancel();if(Tu(l,a.distance))return this.handleStart()}return qu(a)&&Tu(l,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Lu.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Xu={move:{name:"pointermove"},end:{name:"pointerup"}};class Uu extends Yu{constructor(e){const{event:t}=e,n=Ac(t.target);super(e,Xu,n)}}Uu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const Zu={move:{name:"mousemove"},end:{name:"mouseup"}};var Ku;!function(e){e[e.RightClick=2]="RightClick"}(Ku||(Ku={})),class extends Yu{constructor(e){super(e,Zu,Ac(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ku.RightClick&&(null==r||r({event:n}),!0)}}];const Ju={move:{name:"touchmove"},end:{name:"touchend"}};var Qu,ed;(class extends Yu{constructor(e){super(e,Ju)}static setup(){return window.addEventListener(Ju.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ju.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Qu||(Qu={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ed||(ed={}));const td={x:{[Ru.Backward]:!1,[Ru.Forward]:!1},y:{[Ru.Backward]:!1,[Ru.Forward]:!1}};var nd,rd;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(nd||(nd={})),function(e){e.Optimized="optimized"}(rd||(rd={}));const od=new Map;function id(e,t){return Fc((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function ad(e){let{callback:t,disabled:n}=e;const r=Bc(t),i=(0,o.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return(0,o.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function sd(e){return new Ou(yu(e),e)}function ld(e,t,n){void 0===t&&(t=sd);const[r,i]=(0,o.useReducer)((function(r){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=r?r:n)?o:null;const i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i}),null),a=function(e){let{callback:t,disabled:n}=e;const r=Bc(t),i=(0,o.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return(0,o.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),s=ad({callback:i});return Tc((()=>{i(),e?(null==s||s.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==a||a.disconnect())}),[e]),r}const cd=[];function ud(e,t){void 0===t&&(t=[]);const n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{n.current=null}),t),(0,o.useEffect)((()=>{const t=e!==su;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?qc(e,n.current):su}function dd(e){return(0,o.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const pd=[];const fd=[{sensor:Uu,options:{}},{sensor:Vu,options:{}}],hd={current:{}},gd={draggable:{measure:bu},droppable:{measure:bu,strategy:nd.WhileDragging,frequency:rd.Optimized},dragOverlay:{measure:yu}};class md extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const vd={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new md,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:au},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gd,measureDroppableContainers:au,windowRect:null,measuringScheduled:!1},yd={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:au,draggableNodes:new Map,over:null,measureDroppableContainers:au},bd=(0,o.createContext)(yd),xd=(0,o.createContext)(vd);function wd(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new md}}}function Sd(e,t){switch(t.type){case iu.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case iu.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case iu.DragEnd:case iu.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case iu.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new md(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case iu.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new md(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case iu.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new md(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Cd(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=(0,o.useContext)(bd),a=$c(r),s=$c(null==n?void 0:n.id);return(0,o.useEffect)((()=>{if(!t&&!r&&a&&null!=s){if(!Yc(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Kc(e);if(t){t.focus();break}}}))}}),[r,t,i,s,a]),null}const Ed=(0,o.createContext)({...su,scaleX:1,scaleY:1});var Pd;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Pd||(Pd={}));const Rd=(0,o.memo)((function(e){var t,n,r,a;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=fd,collisionDetection:p=fu,measuring:f,modifiers:h,...g}=e;const m=(0,o.useReducer)(Sd,void 0,wd),[v,y]=m,[b,x]=function(){const[e]=(0,o.useState)((()=>new Set)),t=(0,o.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,o.useCallback)((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[w,S]=(0,o.useState)(Pd.Uninitialized),C=w===Pd.Initialized,{draggable:{active:E,nodes:P,translate:R},droppable:{containers:D}}=v,N=E?P.get(E):null,I=(0,o.useRef)({initial:null,translated:null}),k=(0,o.useMemo)((()=>{var e;return null!=E?{id:E,data:null!=(e=null==N?void 0:N.data)?e:hd,rect:I}:null}),[E,N]),_=(0,o.useRef)(null),[M,j]=(0,o.useState)(null),[O,A]=(0,o.useState)(null),T=Lc(g,Object.values(g)),B=Gc("DndDescribedBy",s),L=(0,o.useMemo)((()=>D.getEnabled()),[D]),F=(Y=f,(0,o.useMemo)((()=>({draggable:{...gd.draggable,...null==Y?void 0:Y.draggable},droppable:{...gd.droppable,...null==Y?void 0:Y.droppable},dragOverlay:{...gd.dragOverlay,...null==Y?void 0:Y.dragOverlay}})),[null==Y?void 0:Y.draggable,null==Y?void 0:Y.droppable,null==Y?void 0:Y.dragOverlay])),{droppableRects:z,measureDroppableContainers:$,measuringScheduled:H}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,s]=(0,o.useState)(null),{frequency:l,measure:c,strategy:u}=i,d=(0,o.useRef)(e),p=function(){switch(u){case nd.Always:return!1;case nd.BeforeDragging:return n;default:return!n}}(),f=Lc(p),h=(0,o.useCallback)((function(e){void 0===e&&(e=[]),f.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[f]),g=(0,o.useRef)(null),m=Fc((t=>{if(p&&!n)return od;if(!t||t===od||d.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Ou(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,a,n,p,c]);return(0,o.useEffect)((()=>{d.current=e}),[e]),(0,o.useEffect)((()=>{p||h()}),[n,p]),(0,o.useEffect)((()=>{a&&a.length>0&&s(null)}),[JSON.stringify(a)]),(0,o.useEffect)((()=>{p||"number"!=typeof l||null!==g.current||(g.current=setTimeout((()=>{h(),g.current=null}),l))}),[l,p,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:null!=a}}(L,{dragging:C,dependencies:[R.x,R.y],config:F.droppable}),G=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return Fc((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(P,E),V=(0,o.useMemo)((()=>O?Xc(O):null),[O]),W=function(){const e=!1===(null==M?void 0:M.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,n=C&&!e&&!t;return"object"==typeof c?{...c,enabled:n}:{enabled:n}}(),q=function(e,t){return id(e,t)}(G,F.draggable.measure);var Y;!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=(0,o.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;Tc((()=>{if(!s&&!l||!t)return void(a.current=!1);if(a.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const o=hu(n(e),r);if(s||(o.x=0),l||(o.y=0),a.current=!0,Math.abs(o.x)>0||Math.abs(o.y)>0){const t=wu(e);t&&t.scrollBy({top:o.y,left:o.x})}}),[t,s,l,r,n])}({activeNode:E?P.get(E):null,config:W.layoutShiftCompensation,initialRect:q,measure:F.draggable.measure});const X=ld(G,F.draggable.measure,q),U=ld(G?G.parentElement:null),Z=(0,o.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),K=D.getNodeFor(null==(t=Z.current.over)?void 0:t.id),J=function(e){let{measure:t}=e;const[n,r]=(0,o.useState)(null),i=ad({callback:(0,o.useCallback)((e=>{for(const{target:n}of e)if(jc(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),a=(0,o.useCallback)((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jc(t)?t:e}(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)}),[t,i]),[s,l]=zc(a);return(0,o.useMemo)((()=>({nodeRef:s,rect:n,setRef:l})),[n,s,l])}({measure:F.dragOverlay.measure}),Q=null!=(n=J.nodeRef.current)?n:G,ee=C?null!=(r=J.rect)?r:X:null,te=Boolean(J.nodeRef.current&&J.rect),ne=hu(re=te?null:X,id(re));var re;const oe=dd(Q?_c(Q):null),ie=function(e){const t=(0,o.useRef)(e),n=Fc((n=>e?n&&n!==cd&&e&&t.current&&e.parentNode===t.current.parentNode?n:xu(e):cd),[e]);return(0,o.useEffect)((()=>{t.current=e}),[e]),n}(C?null!=K?K:G:null),ae=function(e,t){void 0===t&&(t=yu);const[n]=e,r=dd(n?_c(n):null),[i,a]=(0,o.useReducer)((function(){return e.length?e.map((e=>Du(e)?r:new Ou(t(e),e))):pd}),pd),s=ad({callback:a});return e.length>0&&i===pd&&a(),Tc((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),a())}),[e]),i}(ie),se=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(h,{transform:{x:R.x-ne.x,y:R.y-ne.y,scaleX:1,scaleY:1},activatorEvent:O,active:k,activeNodeRect:X,containerNodeRect:U,draggingNodeRect:ee,over:Z.current.over,overlayNodeRect:J.rect,scrollableAncestors:ie,scrollableAncestorRects:ae,windowRect:oe}),le=V?Wc(V,R):null,ce=function(e){const[t,n]=(0,o.useState)(null),r=(0,o.useRef)(e),i=(0,o.useCallback)((e=>{const t=Su(e.target);t&&n((e=>e?(e.set(t,Pu(t)),new Map(e)):null))}),[]);return(0,o.useEffect)((()=>{const t=r.current;if(e!==t){o(t);const a=e.map((e=>{const t=Su(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Pu(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(t)};function o(e){e.forEach((e=>{const t=Su(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,o.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>Wc(e,t)),su):Mu(e):su),[e,t])}(ie),ue=ud(ce),de=ud(ce,[X]),pe=Wc(se,ue),fe=ee?mu(ee,se):null,he=k&&fe?p({active:k,collisionRect:fe,droppableRects:z,droppableContainers:L,pointerCoordinates:le}):null,ge=function(e){if(!e||0===e.length)return null;const[t]=e;return t.id}(he),[me,ve]=(0,o.useState)(null),ye=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(te?se:Wc(se,de),null!=(a=null==me?void 0:me.rect)?a:null,X),be=(0,o.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==_.current)return;const o=P.get(_.current);if(!o)return;const i=e.nativeEvent,a=new n({active:_.current,activeNode:o,event:i,options:r,context:Z,onStart(e){const t=_.current;if(null==t)return;const n=P.get(t);if(!n)return;const{onDragStart:r}=T.current,o={active:{id:t,data:n.data,rect:I}};(0,xa.unstable_batchedUpdates)((()=>{null==r||r(o),S(Pd.Initializing),y({type:iu.DragStart,initialCoordinates:e,active:t}),b({type:"onDragStart",event:o})}))},onMove(e){y({type:iu.DragMove,coordinates:e})},onEnd:s(iu.DragEnd),onCancel:s(iu.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Z.current;let a=null;if(t&&o){const{cancelDrop:s}=T.current;a={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===iu.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=iu.DragCancel)}_.current=null,(0,xa.unstable_batchedUpdates)((()=>{y({type:e}),S(Pd.Uninitialized),ve(null),j(null),A(null);const t=e===iu.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=T.current[t];null==e||e(a),b({type:t,event:a})}}))}}(0,xa.unstable_batchedUpdates)((()=>{j(a),A(e.nativeEvent)}))}),[P]),xe=(0,o.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=P.get(r);if(null!==_.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},_.current=r,be(n,t))}),[P,be]),we=function(e,t){return(0,o.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(d,xe);!function(e){(0,o.useEffect)((()=>{if(!Nc)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(d),Tc((()=>{X&&w===Pd.Initializing&&S(Pd.Initialized)}),[X,w]),(0,o.useEffect)((()=>{const{onDragMove:e}=T.current,{active:t,activatorEvent:n,collisions:r,over:o}=Z.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:pe.x,y:pe.y},over:o};(0,xa.unstable_batchedUpdates)((()=>{null==e||e(i),b({type:"onDragMove",event:i})}))}),[pe.x,pe.y]),(0,o.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=Z.current;if(!e||null==_.current||!t||!o)return;const{onDragOver:i}=T.current,a=r.get(ge),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};(0,xa.unstable_batchedUpdates)((()=>{ve(s),null==i||i(l),b({type:"onDragOver",event:l})}))}),[ge]),Tc((()=>{Z.current={activatorEvent:O,active:k,activeNode:G,collisionRect:fe,collisions:he,droppableRects:z,draggableNodes:P,draggingNode:Q,draggingNodeRect:ee,droppableContainers:D,over:me,scrollableAncestors:ie,scrollAdjustedTranslate:pe},I.current={initial:ee,translated:fe}}),[k,G,he,fe,P,Q,ee,z,D,me,ie,pe]),function(e){let{acceleration:t,activator:n=Qu.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:l=ed.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:p,threshold:f}=e;const h=function(e){let{delta:t,disabled:n}=e;const r=$c(t);return Fc((e=>{if(n||!r||!e)return td;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[Ru.Backward]:e.x[Ru.Backward]||-1===o,[Ru.Forward]:e.x[Ru.Forward]||1===o},y:{[Ru.Backward]:e.y[Ru.Backward]||-1===i,[Ru.Forward]:e.y[Ru.Forward]||1===i}}}),[n,t,r])}({delta:p,disabled:!a}),[g,m]=function(){const e=(0,o.useRef)(null);return[(0,o.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,o.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),v=(0,o.useRef)({x:0,y:0}),y=(0,o.useRef)({x:0,y:0}),b=(0,o.useMemo)((()=>{switch(n){case Qu.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Qu.DraggableRect:return i}}),[n,i,c]),x=(0,o.useRef)(null),w=(0,o.useCallback)((()=>{const e=x.current;if(!e)return;const t=v.current.x*y.current.x,n=v.current.y*y.current.y;e.scrollBy(t,n)}),[]),S=(0,o.useMemo)((()=>l===ed.TreeOrder?[...u].reverse():u),[l,u]);(0,o.useEffect)((()=>{if(a&&u.length&&b){for(const e of S){if(!1===(null==r?void 0:r(e)))continue;const n=u.indexOf(e),o=d[n];if(!o)continue;const{direction:i,speed:a}=ku(e,o,b,t,f);for(const e of["x","y"])h[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return m(),x.current=e,g(w,s),v.current=a,void(y.current=i)}v.current={x:0,y:0},y.current={x:0,y:0},m()}else m()}),[t,w,r,m,a,s,JSON.stringify(b),JSON.stringify(h),g,u,S,d,JSON.stringify(f)])}({...W,delta:R,draggingRect:fe,pointerCoordinates:le,scrollableAncestors:ie,scrollableAncestorRects:ae});const Se=(0,o.useMemo)((()=>({active:k,activeNode:G,activeNodeRect:X,activatorEvent:O,collisions:he,containerNodeRect:U,dragOverlay:J,draggableNodes:P,droppableContainers:D,droppableRects:z,over:me,measureDroppableContainers:$,scrollableAncestors:ie,scrollableAncestorRects:ae,measuringConfiguration:F,measuringScheduled:H,windowRect:oe})),[k,G,X,O,he,U,J,P,D,z,me,$,ie,ae,F,H,oe]),Ce=(0,o.useMemo)((()=>({activatorEvent:O,activators:we,active:k,activeNodeRect:X,ariaDescribedById:{draggable:B},dispatch:y,draggableNodes:P,over:me,measureDroppableContainers:$})),[O,we,k,X,y,B,P,me,$]);return i().createElement(tu.Provider,{value:x},i().createElement(bd.Provider,{value:Ce},i().createElement(xd.Provider,{value:Se},i().createElement(Ed.Provider,{value:ye},u)),i().createElement(Cd,{disabled:!1===(null==l?void 0:l.restoreFocus)})),i().createElement(ou,{...l,hiddenTextDescribedById:B}))})),Dd=(0,o.createContext)(null),Nd="button",Id="Droppable";const kd={timeout:25};function _d(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Md(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function jd(e){return null!==e&&e>=0}const Od=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=_d(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},Ad={scaleX:1,scaleY:1},Td=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=e;const s=null!=(t=i[n])?t:r;if(!s)return null;if(o===n){const e=i[a];return e?{x:0,y:n<a?e.top+e.height-(s.top+s.height):e.top-s.top,...Ad}:null}const l=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(i,o,n);return o>n&&o<=a?{x:0,y:-s.height-l,...Ad}:o<n&&o>=a?{x:0,y:s.height+l,...Ad}:{x:0,y:0,...Ad}},Bd="Sortable",Ld=i().createContext({activeIndex:-1,containerId:Bd,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Od,disabled:{draggable:!1,droppable:!1}});function Fd(e){let{children:t,id:n,items:r,strategy:a=Od,disabled:s=!1}=e;const{active:l,dragOverlay:c,droppableRects:u,over:d,measureDroppableContainers:p}=(0,o.useContext)(xd),f=Gc(Bd,n),h=Boolean(null!==c.rect),g=(0,o.useMemo)((()=>r.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[r]),m=null!=l,v=l?g.indexOf(l.id):-1,y=d?g.indexOf(d.id):-1,b=(0,o.useRef)(g),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(g,b.current),w=-1!==y&&-1===v||x,S=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);Tc((()=>{x&&m&&p(g)}),[x,g,m,p]),(0,o.useEffect)((()=>{b.current=g}),[g]);const C=(0,o.useMemo)((()=>({activeIndex:v,containerId:f,disabled:S,disableTransforms:w,items:g,overIndex:y,useDragOverlay:h,sortedRects:Md(g,u),strategy:a})),[v,f,S.draggable,S.droppable,w,g,y,u,h,a]);return i().createElement(Ld.Provider,{value:C},t)}const zd=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return _d(n,r,o).indexOf(t)},$d=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r||s!==i&&o===a||!n&&(a===o||t!==l))},Hd={duration:200,easing:"ease"},Gd="transform",Vd=Uc.Transition.toString({property:Gd,duration:0,easing:"linear"}),Wd={roleDescription:"sortable"};function qd(e){let{animateLayoutChanges:t=$d,attributes:n,disabled:r,data:i,getNewIndex:a=zd,id:s,strategy:l,resizeObserverConfig:c,transition:u=Hd}=e;const{items:d,containerId:p,activeIndex:f,disabled:h,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:y,strategy:b}=(0,o.useContext)(Ld),x=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,h),w=d.indexOf(s),S=(0,o.useMemo)((()=>({sortable:{containerId:p,index:w,items:d},...i})),[p,i,w,d]),C=(0,o.useMemo)((()=>d.slice(d.indexOf(s))),[d,s]),{rect:E,node:P,isOver:R,setNodeRef:D}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Gc("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=(0,o.useContext)(bd),d=(0,o.useRef)({disabled:n}),p=(0,o.useRef)(!1),f=(0,o.useRef)(null),h=(0,o.useRef)(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...kd,...i},y=Lc(null!=m?m:r),b=ad({callback:(0,o.useCallback)((()=>{p.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null}),v)):p.current=!0}),[v]),disabled:g||!s}),x=(0,o.useCallback)(((e,t)=>{b&&(t&&(b.unobserve(t),p.current=!1),e&&b.observe(e))}),[b]),[w,S]=zc(x),C=Lc(t);return(0,o.useEffect)((()=>{b&&w.current&&(b.disconnect(),p.current=!1,b.observe(w.current))}),[w,b]),Tc((()=>(l({type:iu.RegisterDroppable,element:{id:r,key:a,disabled:n,node:w,rect:f,data:C}}),()=>l({type:iu.UnregisterDroppable,key:a,id:r}))),[r]),(0,o.useEffect)((()=>{n!==d.current.disabled&&(l({type:iu.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)}),[r,a,n,l]),{active:s,rect:f,isOver:(null==c?void 0:c.id)===r,node:w,over:c,setNodeRef:S}}({id:s,data:S,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:N,activatorEvent:I,activeNodeRect:k,attributes:_,setNodeRef:M,listeners:j,isDragging:O,over:A,setActivatorNodeRef:T,transform:B}=function(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=Gc(Id),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:p,over:f}=(0,o.useContext)(bd),{role:h=Nd,roleDescription:g="draggable",tabIndex:m=0}=null!=i?i:{},v=(null==c?void 0:c.id)===t,y=(0,o.useContext)(v?Ed:Dd),[b,x]=zc(),[w,S]=zc(),C=function(e,t){return(0,o.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e}),{})),[e,t])}(s,t),E=Lc(n);return Tc((()=>(p.set(t,{id:t,key:a,node:b,activatorNode:w,data:E}),()=>{const e=p.get(t);e&&e.key===a&&p.delete(t)})),[p,t]),{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,o.useMemo)((()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":!(!v||h!==Nd)||void 0,"aria-roledescription":g,"aria-describedby":d.draggable})),[r,h,m,v,g,d.draggable]),isDragging:v,listeners:r?void 0:C,node:b,over:f,setNodeRef:x,setActivatorNodeRef:S,transform:y}}({id:s,data:S,attributes:{...Wd,...n},disabled:x.draggable}),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(D,M),F=Boolean(N),z=F&&!g&&jd(f)&&jd(v),$=!y&&O,H=$&&z?B:null,G=z?null!=H?H:(null!=l?l:b)({rects:m,activeNodeRect:k,activeIndex:f,overIndex:v,index:w}):null,V=jd(f)&&jd(v)?a({id:s,items:d,activeIndex:f,overIndex:v}):w,W=null==N?void 0:N.id,q=(0,o.useRef)({activeId:W,items:d,newIndex:V,containerId:p}),Y=d!==q.current.items,X=t({active:N,containerId:p,isDragging:O,isSorting:F,id:s,index:w,items:d,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:null!=q.current.activeId}),U=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,s]=(0,o.useState)(null),l=(0,o.useRef)(n);return Tc((()=>{if(!t&&n!==l.current&&r.current){const e=i.current;if(e){const t=yu(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}n!==l.current&&(l.current=n)}),[t,n,r,i]),(0,o.useEffect)((()=>{a&&s(null)}),[a]),a}({disabled:!X,index:w,node:P,rect:E});return(0,o.useEffect)((()=>{F&&q.current.newIndex!==V&&(q.current.newIndex=V),p!==q.current.containerId&&(q.current.containerId=p),d!==q.current.items&&(q.current.items=d)}),[F,V,p,d]),(0,o.useEffect)((()=>{if(W===q.current.activeId)return;if(W&&!q.current.activeId)return void(q.current.activeId=W);const e=setTimeout((()=>{q.current.activeId=W}),50);return()=>clearTimeout(e)}),[W]),{active:N,activeIndex:f,attributes:_,data:S,rect:E,index:w,newIndex:V,items:d,isOver:R,isSorting:F,isDragging:O,listeners:j,node:P,overIndex:v,over:A,setNodeRef:L,setActivatorNodeRef:T,setDroppableNodeRef:D,setDraggableNodeRef:M,transform:null!=U?U:G,transition:U||Y&&q.current.newIndex===w?Vd:$&&!Yc(I)||!u?void 0:F||X?Uc.Transition.toString({...u,property:Gd}):void 0}}Lu.Down,Lu.Right,Lu.Up,Lu.Left;var Yd=n(668),Xd=n(714),Ud=n(981),Zd=n.n(Ud);const Kd=Object.prototype.toString,Jd=Error.prototype.toString,Qd=RegExp.prototype.toString,ep="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",tp=/^Symbol\((.*)\)(.*)$/;function np(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return ep.call(e).replace(tp,"Symbol($1)");const r=Kd.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Jd.call(e)+"]":"RegExp"===r?Qd.call(e):null}function rp(e,t){let n=np(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=np(this[e],t);return null!==r?r:n}),2)}function op(e){return null==e?[]:[].concat(e)}let ip,ap,sp,lp=/\$\{\s*(\w+)\s*\}/g;ip=Symbol.toStringTag;class cp{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ip]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],op(e).forEach((e=>{if(up.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ap=Symbol.hasInstance,sp=Symbol.toStringTag;class up extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"==typeof e?e.replace(lp,((e,n)=>rp(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,o){const i=new cp(e,t,n,r);if(o)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[sp]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,up)}static[ap](e){return cp[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let dp={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=null!=r&&r!==n?` (cast from the value \`${rp(r,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${rp(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${rp(n,!0)}\``+o}},pp={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},fp={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gp={isValue:"${path} field must be ${value}"},mp={noUnknown:"${path} field has unspecified keys: ${unknown}"},vp={notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${rp(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${rp(n,!0)}\``}return up.formatError(dp.notType,e)}};Object.assign(Object.create(null),{mixed:dp,string:pp,number:fp,date:hp,object:mp,array:{min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},boolean:gp,tuple:vp});const yp=e=>e&&e.__isYupSchema__;class bp{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=t,i="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new bp(e,((e,t)=>{var n;let a=i(...e)?r:o;return null!=(n=null==a?void 0:a(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!yp(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}class xp{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?"$":this.isValue?".":"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,Yd.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}xp.prototype.__isYupRef=!0;const wp=e=>null==e;function Sp(e){function t({value:t,path:n="",options:r,originalValue:o,schema:i},a,s){const{name:l,test:c,params:u,message:d,skipAbsent:p}=e;let{parent:f,context:h,abortEarly:g=i.spec.abortEarly,disableStackTrace:m=i.spec.disableStackTrace}=r;function v(e){return xp.isRef(e)?e.getValue(t,f,h):e}function y(e={}){const r=Object.assign({value:t,originalValue:o,label:i.spec.label,path:e.path||n,spec:i.spec,disableStackTrace:e.disableStackTrace||m},u,e.params);for(const e of Object.keys(r))r[e]=v(r[e]);const a=new up(up.formatError(e.message||d,r),t,r.path,e.type||l,r.disableStackTrace);return a.params=r,a}const b=g?a:s;let x={path:n,parent:f,type:l,from:r.from,createError:y,resolve:v,options:r,originalValue:o,schema:i};const w=e=>{up.isError(e)?b(e):e?s(null):b(y())},S=e=>{up.isError(e)?b(e):a(e)};if(p&&wp(t))return w(!0);let C;try{var E;if(C=c.call(x,t,x),"function"==typeof(null==(E=C)?void 0:E.then)){if(r.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(w,S)}}catch(e){return void S(e)}w(C)}return t.OPTIONS=e,t}function Cp(e,t,n,r=n){let o,i,a;return t?((0,Yd.forEach)(t,((s,l,c)=>{let u=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:r,parent:o,value:n})).type,p=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[p],e=d?e.spec.types[p]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);o=n,n=n&&n[u],e=e.fields[u]}i=u,a=l?"["+s+"]":"."+s})),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class Ep extends Set{describe(){const e=[];for(const t of this.values())e.push(xp.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Ep(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function Pp(e,t=new Map){if(yp(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Pp(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Pp(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Pp(r,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Pp(o,t)}return n}class Rp{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ep,this._blacklist=new Ep,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(dp.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Pp(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,o;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(o=e.disableStackTrace)?o:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,o=n._cast(e,t);if(!1!==t.assert&&!n.isType(o)){if(r&&wp(o))return o;let i=rp(e),a=rp(o);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${i} \n`+(a!==i?`result of cast: ${a}`:""))}return o}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,r){let{path:o,originalValue:i=e,strict:a=this.spec.strict}=t,s=e;a||(s=this._cast(s,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:o,value:s,originalValue:i,options:t,tests:l},n,(e=>{if(e.length)return r(e,s);this.runTests({path:o,value:s,originalValue:i,options:t,tests:this.tests},n,r)}))}runTests(e,t,n){let r=!1,{tests:o,value:i,originalValue:a,path:s,options:l}=e,c=e=>{r||(r=!0,t(e,i))},u=e=>{r||(r=!0,n(e,i))},d=o.length,p=[];if(!d)return u([]);let f={value:i,originalValue:a,path:s,options:l,schema:this};for(let e=0;e<o.length;e++)(0,o[e])(f,c,(function(e){e&&(Array.isArray(e)?p.push(...e):p.push(e)),--d<=0&&u(p)}))}asNestedTest({key:e,index:t,parent:n,parentPath:r,originalParent:o,options:i}){const a=null!=e?e:t;if(null==a)throw TypeError("Must include `key` or `index` for nested validations");const s="number"==typeof a;let l=n[a];const c=Object.assign({},i,{strict:!0,parent:n,value:l,originalValue:o[a],key:void 0,[s?"index":"key"]:a,path:s||a.includes(".")?`${r||""}[${s?a:`"${a}"`}]`:(r?`${r}.`:"")+e});return(e,t,n)=>this.resolve(c)._validate(l,c,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),o=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise(((n,i)=>r._validate(e,t,((e,t)=>{up.isError(e)&&(e.value=t),i(e)}),((e,t)=>{e.length?i(new up(e,t,void 0,void 0,o)):n(t)}))))}validateSync(e,t){var n;let r,o=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw up.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new up(t,e,void 0,void 0,i);r=n})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(up.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(up.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):Pp(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Sp({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Sp({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=dp.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=dp.notNull){return this.nullability(!1,e)}required(e=dp.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=dp.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Sp(t),o=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=op(e).map((e=>new xp(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new bp(r,t):bp.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Sp({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=dp.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=Sp({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=dp.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=Sp({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:o,nullable:i}=t.spec;return{meta:r,label:n,optional:o,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}Rp.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Rp.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=Cp(this,t,n,r.context);return a[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])Rp.prototype[e]=Rp.prototype.oneOf;for(const e of["not","nope"])Rp.prototype[e]=Rp.prototype.notOneOf;function Dp(){return new Np}class Np extends Rp{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=gp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>wp(e)||!0===e})}isFalse(e=gp.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>wp(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Dp.prototype=Np.prototype;const Ip=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kp(e){var t,n;const r=Ip.exec(e);return r?{year:_p(r[1]),month:_p(r[2],1)-1,day:_p(r[3],1),hour:_p(r[4]),minute:_p(r[5]),second:_p(r[6]),millisecond:r[7]?_p(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:_p(r[10]),minuteOffset:_p(r[11])}:null}function _p(e,t=0){return Number(e)||t}let Mp=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jp=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Op=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ap=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),Tp=e=>wp(e)||e===e.trim(),Bp={}.toString();function Lp(){return new Fp}class Fp extends Rp{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===Bp?e:r}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||dp.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=pp.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=pp.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=pp.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,o=!1;return t&&("object"==typeof t?({excludeEmptyString:o=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||pp.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&o||-1!==t.search(e)})}email(e=pp.email){return this.matches(Mp,{name:"email",message:e,excludeEmptyString:!0})}url(e=pp.url){return this.matches(jp,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=pp.uuid){return this.matches(Op,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"==typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(Ap,{name:"datetime",message:r||pp.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||pp.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=kp(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||pp.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=kp(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=pp.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:Tp})}lowercase(e=pp.lowercase){return this.transform((e=>wp(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>wp(e)||e===e.toLowerCase()})}uppercase(e=pp.uppercase){return this.transform((e=>wp(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>wp(e)||e===e.toUpperCase()})}}function zp(){return new $p}Lp.prototype=Fp.prototype;class $p extends Rp{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e))}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce)return e;let r=e;if("string"==typeof r){if(r=r.replace(/\s/g,""),""===r)return NaN;r=+r}return n.isType(r)||null===r?r:parseFloat(r)}))}))}min(e,t=fp.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e,t=fp.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e,t=fp.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e,t=fp.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(e=fp.positive){return this.moreThan(0,e)}negative(e=fp.negative){return this.lessThan(0,e)}integer(e=fp.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform((e=>wp(e)?e:0|e))}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((t=>wp(t)?t:Math[e](t)))}}zp.prototype=$p.prototype;let Hp=new Date("");function Gp(){return new Vp}class Vp extends Rp{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=kp(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?Vp.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if(xp.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=hp.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=hp.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function Wp(e,t){let n=1/0;return e.some(((e,r)=>{var o;if(null!=(o=t.path)&&o.includes(e))return n=r,!0})),n}function qp(e){return(t,n)=>Wp(e,t)-Wp(e,n)}Vp.INVALID_DATE=Hp,Gp.prototype=Vp.prototype,Gp.INVALID_DATE=Hp;const Yp=(e,t,n)=>{if("string"!=typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(e){}return n.isType(r)?r:e};function Xp(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=Xp(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=Xp(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Xp)}):"optional"in e?e.optional():e}let Up=e=>"[object Object]"===Object.prototype.toString.call(e);const Zp=qp([]);function Kp(e){return new Jp(e)}class Jp extends Rp{constructor(e){super({type:"object",check:e=>Up(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=Zp,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let o=this.fields,i=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter((e=>!this._nodes.includes(e)))),s={},l=Object.assign({},t,{parent:s,__validating:t.__validating||!1}),c=!1;for(const e of a){let n=o[e],a=e in r;if(n){let o,i=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:s});let a=n instanceof Rp?n.spec:void 0,u=null==a?void 0:a.strict;if(null!=a&&a.strip){c=c||e in r;continue}o=t.__validating&&u?r[e]:n.cast(r[e],l),void 0!==o&&(s[e]=o)}else a&&!i&&(s[e]=r[e]);a===e in s&&s[e]===r[e]||(c=!0)}return c?s:r}_validate(e,t={},n,r){let{from:o=[],originalValue:i=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:i},...o],t.__validating=!0,t.originalValue=i,super._validate(e,t,n,((e,o)=>{if(!a||!Up(o))return void r(e,o);i=i||o;let s=[];for(let e of this._nodes){let n=this.fields[e];n&&!xp.isRef(n)&&s.push(n.asNestedTest({options:t,key:e,parent:o,parentPath:t.path,originalParent:i}))}this.runTests({tests:s,value:o,originalValue:i,options:t},n,(t=>{r(t.sort(this._sortErrors).concat(e),o)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];n[e]=void 0===r?t:r}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var r;const o=this.fields[n];let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),t[n]=o&&"getDefault"in o?o.getDefault(i):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],r=new Set,o=new Set(t.map((([e,t])=>`${e}-${t}`)));function i(e,t){let i=(0,Yd.split)(e)[0];r.add(i),o.has(`${t}-${i}`)||n.push([t,i])}for(const t of Object.keys(e)){let n=e[t];r.add(t),xp.isRef(n)&&n.isSibling?i(n.path,t):yp(n)&&"deps"in n&&n.deps.forEach((e=>i(e,t)))}return Zd().array(Array.from(r),n).reverse()}(e,t),n._sortErrors=qp(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Xp(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=(0,Yd.getter)(e,!0);return this.transform((o=>{if(!o)return o;let i=o;return((e,t)=>{const n=[...(0,Yd.normalizePath)(t)];if(1===n.length)return n[0]in e;let r=n.pop(),o=(0,Yd.getter)((0,Yd.join)(n),!0)(e);return!(!o||!(r in o))})(o,e)&&(i=Object.assign({},o),n||delete i[e],i[t]=r(o)),i}))}json(){return this.transform(Yp)}noUnknown(e=!0,t=mp.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=mp.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n}))}camelCase(){return this.transformKeys(Xd.camelCase)}snakeCase(){return this.transformKeys(Xd.snakeCase)}constantCase(){return this.transformKeys((e=>(0,Xd.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[o,i]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[o]})),n.fields[o]=i.describe(t)}return n}}Kp.prototype=Jp.prototype;const Qp=e=>{let t=!0;const n=[];return Array.isArray(e.nodes)?e.nodes.forEach(((e,r)=>{"string"!=typeof e.id&&(t=!1,n.push(`Node at index ${r} is missing a valid 'id' (should be a string).`)),e.position&&"number"==typeof e.position.x&&"number"==typeof e.position.y||(t=!1,n.push(`Node at index ${r} is missing a valid 'position' (should contain 'x' and 'y' as numbers).`)),Array.isArray(e.fields)?e.fields.forEach(((e,o)=>{"string"!=typeof e.id&&(t=!1,n.push(`Field at index ${o} in node ${r} is missing a valid 'id' (should be a string).`)),"string"!=typeof e.title&&(t=!1,n.push(`Field at index ${o} in node ${r} is missing a valid 'title' (should be a string).`)),"string"!=typeof e.type&&(t=!1,n.push(`Field at index ${o} in node ${r} is missing a valid 'type' (should be a string).`)),"string"!=typeof e.value&&(t=!1,n.push(`Field at index ${o} in node ${r} is missing a valid 'value' (should be a string).`))})):(t=!1,n.push(`Node at index ${r} has invalid 'fields' (should be an array).`))})):(t=!1,n.push("Nodes should be an array.")),Array.isArray(e.edges)?e.edges.forEach(((e,r)=>{"string"!=typeof e.id&&(t=!1,n.push(`Edge at index ${r} is missing a valid 'id' (should be a string).`)),"string"!=typeof e.source&&(t=!1,n.push(`Edge at index ${r} is missing a valid 'source' (should be a string).`)),"string"!=typeof e.target&&(t=!1,n.push(`Edge at index ${r} is missing a valid 'target' (should be a string).`)),"string"!=typeof e.type&&(t=!1,n.push(`Edge at index ${r} is missing a valid 'type' (should be a string).`))})):(t=!1,n.push("Edges should be an array.")),{isValid:t,errors:n}},ef=(0,o.createContext)(),tf=()=>(0,o.useContext)(ef),nf=({children:e})=>{const[t,n]=(0,o.useState)([]),[r,i,a]=function(){const[e,t]=(0,o.useState)([]),n=(0,o.useCallback)((e=>t((t=>os(e,t)))),[]);return[e,t,n]}(),[s,l,u]=function(){const[e,t]=(0,o.useState)([]),n=(0,o.useCallback)((e=>t((t=>is(e,t)))),[]);return[e,t,n]}(),d=(e,t)=>{i((n=>n.map((n=>n.id===e?{...n,data:{...n.data,fields:t}}:n))))},p=(e,t)=>{i((n=>n.map((n=>n.id===e?{...n,data:{...n.data,stageName:t}}:n))))},f=(e,t)=>{i((n=>n.map((n=>n.id===e?{...n,position:t}:n))))},h=(0,o.useCallback)((e=>l((t=>Si({...e,type:"buttonedge"},t)))),[l]),g=e=>{Qp(e).isValid,i(e.nodes.map((({id:e,position:t,data:n,measured:r,selected:o})=>({id:e,type:"customNode",dragHandle:".custom-drag-handle",position:t,data:{fields:n.fields||[],stageName:n.stageName||"",updateFields:t=>d(e,t),updateNodeName:t=>p(e,t),updatePosition:t=>f(e,t)},measured:r||{width:0,height:0},selected:o||!1})))),l(e.edges.map((({id:e,source:t,target:n})=>({id:e,source:t,target:n,type:"buttonedge"}))))},m={nodes:r,edges:s,onNodesChangeHandler:e=>{e.forEach((e=>{"position"===e.type&&f(e.id,e.position)})),a(e)},onEdgesChangeHandler:e=>{u(e)},onConnect:h,addNewNode:()=>{const e=`Etapa ${r.length+1}`,t=r[r.length-1],n=t?{x:t.position.x+50,y:t.position.y+50}:{x:50,y:50},o={id:e,type:"customNode",dragHandle:".custom-drag-handle",position:n,data:{fields:[],stageName:`${e}`,updateFields:t=>d(e,t),updateNodeName:t=>p(e,t),updatePosition:t=>f(e,t)}};i((e=>[...e,o]))},removeNode:e=>{confirm(`Tem certeza que deseja remover o nó ${e}?`)&&(i((t=>t.filter((t=>t.id!==e)))),l((t=>t.filter((t=>t.source!==e&&t.target!==e)))))},initializeData:g,updateFieldsForNode:d,removeFieldFromNode:(e,t)=>{console.log("Removing field",t,"from node",e),i((n=>n.map((n=>n.id===e?{...n,data:{...n.data,fields:n.data.fields.filter((e=>e.id!==t))}}:n))))},updateFieldConfig:(e,t,n)=>{console.log("Updating field",t,"from node",e,"with config",n),i((r=>r.map((r=>r.id===e?{...r,data:{...r.data,fields:r.data.fields.map((e=>e.id===t?{...e,config:n}:e))}}:r))))},updateNodeName:p,updateNodePosition:f,errors:t,onExport:()=>{const e={nodes:r,edges:s},t=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e,null,2))}`,n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","flowData.json"),document.body.appendChild(n),n.click(),n.remove()},onImport:e=>{const t=Qp(e);t.isValid?g(e):(n(t.errors),console.error("Validation errors:",t.errors))}};return(0,c.jsx)(ef.Provider,{value:m,children:e})},rf=Kp().shape({label:Lp().required("O label é obrigatório"),placeholder:Lp(),required:Dp(),minLength:zp().min(0,"Tamanho mínimo não pode ser negativo").nullable(),maxLength:zp().min(new xp("minLength",void 0),"O tamanho máximo deve ser maior que o mínimo").nullable(),pattern:Lp().matches(/^(?:|\/.*\/)$/,"Padrão de Regex inválido"),helpText:Lp()}),of=({nodeId:e,fieldId:t,fieldType:n,label:r,setLabel:i,config:s})=>{const{updateFieldConfig:l}=tf(),[u,d]=(0,o.useState)({}),[p,f]=(0,o.useState)({label:s?s.label:r||"",placeholder:s?s.placeholder:"",required:!!s&&s.required,minLength:s?s.minLength:0,maxLength:s?s.maxLength:100,pattern:s?s.pattern:"",helpText:s?s.helpText:""});return(0,c.jsxs)("form",{children:[(0,c.jsx)(a.TextControl,{label:"Label",value:p.label,onChange:e=>{f((t=>({...t,label:e}))),i(e)},placeholder:"Digite o label",style:{marginBottom:"10px"},help:u.label}),(0,c.jsx)(a.TextControl,{label:"Placeholder",value:p.placeholder,onChange:e=>f((t=>({...t,placeholder:e}))),placeholder:"Digite o placeholder",style:{marginBottom:"10px"},help:u.placeholder}),(0,c.jsx)(a.CheckboxControl,{label:"Obrigatório",checked:p.required,onChange:e=>f((t=>({...t,required:e}))),style:{marginBottom:"10px"}}),(0,c.jsx)(a.__experimentalNumberControl,{label:"Tamanho Mínimo",value:p.minLength,onChange:e=>f((t=>({...t,minLength:e}))),style:{marginBottom:"10px"},help:u.minLength}),(0,c.jsx)(a.__experimentalNumberControl,{label:"Tamanho Máximo",value:p.maxLength,onChange:e=>f((t=>({...t,maxLength:e}))),style:{marginBottom:"10px"},help:u.maxLength}),(0,c.jsx)(a.TextControl,{label:"Padrão de Validação (Regex)",value:p.pattern,onChange:e=>f((t=>({...t,pattern:e}))),placeholder:"Digite um padrão de validação (Regex)",style:{marginBottom:"10px"},help:u.pattern}),(0,c.jsx)(a.TextareaControl,{label:"Texto de Ajuda",value:p.helpText,onChange:e=>f((t=>({...t,helpText:e}))),placeholder:"Digite um texto de ajuda",style:{marginBottom:"10px"}}),(0,c.jsx)(a.Button,{style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},onClick:()=>{const n=p;rf.validate(n,{abortEarly:!1}).then((()=>{d({}),l(e,t,p)})).catch((e=>{const t={};e.inner&&e.inner.forEach((e=>{t[e.path]=e.message})),d(t)}))},children:"Save"})]})},af=Kp().shape({label:Lp().required("O label é obrigatório"),min:zp().nullable(),max:zp().nullable().test("is-greater","O valor máximo deve ser maior que o valor mínimo",(function(e){const{min:t}=this.parent;return void 0===e||void 0===t||e>=t})),step:zp().nullable(),required:Dp(),helpText:Lp()}),sf=({nodeId:e,fieldId:t,label:n,min:r,max:i,step:s,required:l,helpText:u,config:d})=>{const{updateFieldConfig:p}=tf(),[f,h]=(0,o.useState)({}),[g,m]=(0,o.useState)({label:d?d.label:n||"",min:d?d.min:r||null,max:d?d.max:i||null,step:d?d.step:s||1,required:!!d&&d.required,helpText:d?d.helpText:""});return(0,c.jsxs)("form",{children:[(0,c.jsx)(a.TextControl,{label:"Label",value:g.label,onChange:e=>m((t=>({...t,label:e}))),placeholder:"Digite o label",style:{marginBottom:"10px"},help:f.label}),(0,c.jsx)(a.CheckboxControl,{label:"Obrigatório",checked:g.required,onChange:e=>m((t=>({...t,required:e}))),style:{marginBottom:"10px"}}),(0,c.jsx)(a.__experimentalNumberControl,{label:"Valor Mínimo",value:g.min,onChange:e=>m((t=>({...t,min:e}))),placeholder:"Digite o valor mínimo",style:{marginBottom:"10px"},help:f.min}),(0,c.jsx)(a.__experimentalNumberControl,{label:"Valor Máximo",value:g.max,onChange:e=>m((t=>({...t,max:e}))),placeholder:"Digite o valor máximo",style:{marginBottom:"10px"},help:f.max}),(0,c.jsx)(a.__experimentalNumberControl,{label:"Step (Incremento)",value:g.step,onChange:e=>m((t=>({...t,step:e}))),placeholder:"Digite o incremento",style:{marginBottom:"10px"},help:f.step}),(0,c.jsx)(a.TextareaControl,{label:"Texto de Ajuda",value:g.helpText,onChange:e=>m((t=>({...t,helpText:e}))),placeholder:"Digite um texto de ajuda",style:{marginBottom:"10px"}}),(0,c.jsx)(a.Button,{style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},onClick:()=>{const n=g;af.validate(n,{abortEarly:!1}).then((()=>{h({}),p(e,t,g)})).catch((e=>{const t={};e.inner&&e.inner.forEach((e=>{t[e.path]=e.message})),h(t)}))},children:"Save"})]})},lf=Kp().shape({label:Lp().required("O label é obrigatório"),required:Dp(),dateValue:Gp().required("A data é obrigatória"),helpText:Lp()}),cf=({nodeId:e,fieldId:t,label:n,required:r,dateValue:i,helpText:s,config:l})=>{const{updateFieldConfig:u}=tf(),[d,p]=(0,o.useState)({}),[f,h]=(0,o.useState)({label:l?l.label:n||"",required:!!l&&l.required,dateValue:l?l.dateValue:i||new Date,helpText:l?l.helpText:""});return(0,c.jsxs)("form",{children:[(0,c.jsx)(a.TextControl,{label:"Label",value:f.label,onChange:e=>{h((t=>({...t,label:e})))},placeholder:"Digite o label",style:{marginBottom:"10px"},help:d.label}),(0,c.jsx)(a.CheckboxControl,{label:"Obrigatório",checked:f.required,onChange:e=>h((t=>({...t,required:e}))),style:{marginBottom:"10px"}}),(0,c.jsx)("label",{children:"Selecionar Data:"}),(0,c.jsx)(a.DateTimePicker,{currentDate:f.dateValue,onChange:e=>{h((t=>({...t,dateValue:e})))},is12Hour:!1,style:{marginBottom:"10px"},help:d.dateValue}),(0,c.jsx)(a.TextareaControl,{label:"Texto de Ajuda",value:f.helpText,onChange:e=>h((t=>({...t,helpText:e}))),placeholder:"Digite um texto de ajuda",style:{marginBottom:"10px"}}),(0,c.jsx)(a.Button,{style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},onClick:()=>{const n=f;lf.validate(n,{abortEarly:!1}).then((()=>{p({}),u(e,t,f)})).catch((e=>{const t={};e.inner&&e.inner.forEach((e=>{t[e.path]=e.message})),p(t)}))},children:"Save"})]})},uf=Kp().shape({label:Lp().required("O label é obrigatório"),required:Dp(),helpText:Lp()}),df=({nodeId:e,fieldId:t,label:n,required:r,helpText:i,config:s})=>{const{updateFieldConfig:l}=tf(),[u,d]=(0,o.useState)({}),[p,f]=(0,o.useState)({label:s?s.label:n||"",required:!!s&&s.required,helpText:s?s.helpText:""});return(0,c.jsxs)("form",{children:[(0,c.jsx)(a.TextControl,{label:"Label",value:p.label,onChange:e=>{f((t=>({...t,label:e})))},placeholder:"Digite o label",style:{marginBottom:"10px"},help:u.label}),(0,c.jsx)(a.CheckboxControl,{label:"Obrigatório",checked:p.required,onChange:e=>f((t=>({...t,required:e}))),style:{marginBottom:"10px"}}),(0,c.jsx)(a.TextareaControl,{label:"Texto de Ajuda",value:p.helpText,onChange:e=>f((t=>({...t,helpText:e}))),placeholder:"Digite um texto de ajuda",style:{marginBottom:"10px"}}),(0,c.jsx)(a.Button,{style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},onClick:()=>{const n=p;uf.validate(n,{abortEarly:!1}).then((()=>{d({}),l(e,t,p)})).catch((e=>{const t={};e.inner&&e.inner.forEach((e=>{t[e.path]=e.message})),d(t)}))},children:"Save"})]})},pf=Kp().shape({label:Lp().required("O label é obrigatório"),options:Lp().required("As opções são obrigatórias"),required:Dp(),helpText:Lp()}),ff=({nodeId:e,fieldId:t,label:n,options:r,required:i,helpText:s,config:l})=>{const{updateFieldConfig:u}=tf(),[d,p]=(0,o.useState)({}),[f,h]=(0,o.useState)({label:l?l.label:n||"",options:l?l.options:r||"",required:!!l&&l.required,helpText:l?l.helpText:""}),g=f.options.split(",").map((e=>e.trim()));return(0,c.jsxs)("form",{children:[(0,c.jsx)(a.TextControl,{label:"Label",value:f.label,onChange:e=>h((t=>({...t,label:e}))),placeholder:"Digite o label",style:{marginBottom:"10px"},help:d.label}),(0,c.jsx)(a.CheckboxControl,{label:"Obrigatório",checked:f.required,onChange:e=>h((t=>({...t,required:e}))),style:{marginBottom:"10px"}}),(0,c.jsx)(a.TextControl,{label:"Opções (separadas por vírgula)",value:f.options,onChange:e=>h((t=>({...t,options:e}))),placeholder:"Opções, separadas por vírgula",style:{marginBottom:"10px"},help:d.options}),(0,c.jsx)(a.RadioControl,{label:"Pré-visualização das opções",options:g.map((e=>({label:e,value:e}))),selected:null,onChange:e=>h((t=>({...t,selectedOption:e})))}),(0,c.jsx)(a.TextareaControl,{label:"Texto de Ajuda",value:f.helpText,onChange:e=>h((t=>({...t,helpText:e}))),placeholder:"Digite um texto de ajuda",style:{marginBottom:"10px"}}),(0,c.jsx)(a.Button,{style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},onClick:()=>{const n=f;pf.validate(n,{abortEarly:!1}).then((()=>{p({}),u(e,t,f)})).catch((e=>{const t={};e.inner&&e.inner.forEach((e=>{t[e.path]=e.message})),p(t)}))},children:"Save"})]})},hf=(0,o.createContext)(null),gf=({children:e})=>{const[t,n]=(0,o.useState)(!1),[r,i]=(0,o.useState)(null);return(0,c.jsx)(hf.Provider,{value:{isOpen:t,toggleDrawer:(e=null)=>{n(!t),i(e)},content:r},children:e})},mf=()=>{const e=(0,o.useContext)(hf);if(!e)throw new Error("useDrawer must be used within a DrawerProvider");return e},vf=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})}),yf=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),bf=(0,c.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})}),xf=(0,c.jsxs)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,c.jsx)(d.Path,{d:"m16 15.5h-8v-1.5h8zm-7.5-2.5h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm-9-3h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2z"}),(0,c.jsx)(d.Path,{d:"m18.5 6.5h-13a.5.5 0 0 0 -.5.5v9.5a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9.5a.5.5 0 0 0 -.5-.5zm-13-1.5h13a2 2 0 0 1 2 2v9.5a2 2 0 0 1 -2 2h-13a2 2 0 0 1 -2-2v-9.5a2 2 0 0 1 2-2z"})]}),wf=(0,c.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),Sf=(0,c.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"})}),Cf=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),Ef=(0,c.jsx)(d.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{d:"m6.249 11.065.44-.44h3.186l-1.5 1.5H7.31l-1.957 1.96A.792.792 0 0 1 4 13.524V5a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v1.5L12.5 8V5.5h-7v6.315l.749-.75ZM20 19.75H7v-1.5h13v1.5Zm0-12.653-8.967 9.064L8 17l.867-2.935L17.833 5 20 7.097Z"})}),Pf=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),Rf=(0,c.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z"})}),Df=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z"})}),Nf=({type:e})=>{const t={text:vf,edit:h,checkbox:yf,radio:bf,select:bf,number:xf,datepicker:wf,email:Sf,url:Cf,textarea:Ef,password:f,phone:Pf,upload:Rf,address:Df}[e];return t?(0,c.jsx)(a.Icon,{icon:t,size:12}):null},If=({label:e,type:t})=>(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)("div",{className:"step-icon",children:(0,c.jsx)(Nf,{type:t})}),(0,c.jsx)("div",{className:"step-label",children:e})]}),kf=({id:e,nodeId:t,title:n,type:r,config:i})=>{const{attributes:s,listeners:l,setNodeRef:u,transform:d,transition:p,isDragging:f}=qd({id:e}),{removeFieldFromNode:g}=tf(),[m,v]=(0,o.useState)(n),{toggleDrawer:y}=mf(),b={transform:Uc.Transform.toString(d),transition:p||"transform 250ms ease",padding:"2px",margin:"4px 0",backgroundColor:f?"#e0f7fa":"#f9f9f9",border:"1px solid #ddd",fontSize:"10px",borderRadius:"3px",opacity:f?.8:1,cursor:f?"grabbing":"pointer",boxShadow:f?"0 4px 8px rgba(0, 0, 0, 0.1)":"none"};return(0,c.jsx)("li",{ref:u,style:b,...s,children:(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center",alignItems:"center"},children:[(0,c.jsx)(If,{label:i?i.label:m,type:r}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"end",alignContent:"center",alignItems:"center"},children:[(0,c.jsx)(a.Icon,{icon:h,size:16,onClick:()=>y((()=>{switch(r){case"text":case"email":case"phone":case"address":return(0,c.jsx)(of,{nodeId:t,fieldId:e,fieldType:r,label:m,setLabel:v,config:i});case"number":return(0,c.jsx)(sf,{nodeId:t,fieldId:e,fieldType:r,label:m,setLabel:v,config:i});case"datepicker":return(0,c.jsx)(cf,{nodeId:t,fieldId:e,fieldType:r,label:m,setLabel:v,config:i});case"upload":return(0,c.jsx)(df,{nodeId:t,fieldId:e,fieldType:r,label:m,setLabel:v,config:i});case"select":case"radio":return(0,c.jsx)(ff,{nodeId:t,fieldId:e,fieldType:r,label:m,setLabel:v,config:i});default:return null}})())}),(0,c.jsx)(a.Icon,{icon:w,size:16,onClick:()=>g(t,e)})]}),(0,c.jsx)("div",{...l,style:{cursor:"grab",backgroundColor:"#ccc",borderRadius:"4px",padding:"4px",marginLeft:"10px"},onClick:e=>e.stopPropagation(),children:(0,c.jsx)("span",{role:"img","aria-label":"drag",children:"⠿"})})]})})},_f=({nodeId:e,fields:t=[],updateFields:n})=>(console.log(t),(0,c.jsx)(Rd,{collisionDetection:du,onDragEnd:e=>{const{active:r,over:o}=e;if(!o||r.id===o.id)return;const i=t.findIndex((e=>e.id===r.id)),a=t.findIndex((e=>e.id===o.id));if(-1!==i&&-1!==a){const e=_d(t,i,a);n(e)}},children:(0,c.jsx)(Fd,{items:t.map((e=>e.id)),strategy:Td,children:(0,c.jsx)("ul",{style:{listStyle:"none",padding:0},children:t.map((({id:r,title:o,type:i,config:a})=>(console.log(o,"title"),(0,c.jsx)(kf,{nodeId:e,id:r,title:o,config:a,type:i,updateField:(e,r)=>{const o=t.map((t=>t.id===e?{...t,value:r}:t));n(o)}},r))))})})})),Mf=e=>{const{removeNode:t}=tf();return(0,c.jsxs)("div",{className:"custom-drag-handle",children:[(0,c.jsx)("span",{role:"img","aria-label":"drag",children:"⠿"}),(0,c.jsx)("div",{className:"btn close-btn",onClick:()=>t(e.nodeId)})]})},jf={border:"1px solid #ddd",backgroundColor:"white",borderRadius:"4px",position:"relative",fontSize:"10px",minWidth:"100px"},Of=[{id:"text",label:"Texto"},{id:"email",label:"Email"},{id:"phone",label:"Telefone"},{id:"address",label:"Endereço"},{id:"number",label:"Número"},{id:"datepicker",label:"Date Picker"},{id:"upload",label:"Upload de Arquivo"},{id:"select",label:"Select (Múltiplas Opções)"},{id:"radio",label:"Radio (Opções de Seleção)"}],Af=()=>{const{addNewNode:e,onExport:t,onImport:n}=tf(),r=(0,o.useRef)(null);return(0,c.jsxs)("div",{style:{position:"absolute",top:10,right:10,zIndex:1e3},children:[(0,c.jsx)("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},children:"Adicionar Etapa"}),(0,c.jsx)("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"10px",display:"block"},children:"Exportar JSON"}),(0,c.jsx)("button",{onClick:()=>{r.current.click()},style:{padding:"10px 20px",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Importar JSON"}),(0,c.jsx)("input",{type:"file",accept:".json",ref:r,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{const t=JSON.parse(e.target.result);n(t)},e.readAsText(t)}},style:{display:"none"}})]})},Tf=window.wp.element,Bf=(0,Tf.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,Tf.cloneElement)(e,{width:t,height:t,...n,ref:r})})),Lf=(0,c.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(d.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),Ff=()=>{const{isOpen:e,toggleDrawer:t,content:n}=mf();return(0,c.jsx)(c.Fragment,{children:e&&(0,c.jsxs)("div",{className:"wp-drawer",style:{position:"absolute",left:0,top:0,height:"100%",width:"33%",padding:"50px 20px",zIndex:1100,backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",overflowY:"auto"},children:[(0,c.jsx)(a.Button,{style:{position:"absolute",top:0,right:0},icon:(0,c.jsx)(Bf,{icon:Lf,size:24,onClick:t})}),(0,c.jsx)("div",{children:n})]})})},zf={customNode:({id:e,data:t={}})=>{const{fields:n=[],updateFields:r=()=>{}}=t,{selectedNodes:i}=ys(),[s,l]=(0,o.useState)(!1),{updateNodeName:u}=tf(),d=i?.some((t=>t.id===e)),[p,f]=(0,o.useState)(t?.stageName||"");return(0,c.jsxs)("div",{style:jf,children:[(0,c.jsx)(Mf,{nodeId:e}),(0,c.jsx)(Ls,{type:"target",position:Ro.Left}),(0,c.jsx)(Ls,{type:"source",position:Ro.Right}),(0,c.jsx)("div",{style:{padding:"2px"},children:(0,c.jsx)(a.TextControl,{value:p,onChange:t=>{f(t),u(e,t)},placeholder:"Digite o nome da etapa",style:{width:"100%",padding:"5px",marginBottom:"10px",fontSize:"10px",border:"none",borderBottom:"1px solid #ccc",outline:"none",borderRadius:0,WebkitBorderRadius:0}})}),(0,c.jsx)("div",{style:{padding:"10px",backgroundColor:"#fff",borderRadius:"4px"},children:(0,c.jsx)(_f,{nodeId:e,fields:n,updateFields:r})}),(0,c.jsx)(Dc,{isVisible:d,position:"right",children:(0,c.jsx)("div",{style:{backgroundColor:"#fff",padding:"10px",borderRadius:"4px",border:"1px solid #ddd"},children:s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h4",{children:"Adicionar Campo"}),(0,c.jsx)("ul",{style:{listStyle:"none",padding:0},children:Of.map((e=>(0,c.jsx)("li",{className:"node-meta-list",onClick:()=>(e=>{const t={id:`${e}-${n.length+1}`,type:e,title:"Campo sem título"};r([...n,t]),l(!1)})(e.id),style:{padding:"5px",cursor:"pointer"},children:e.label},e.id)))}),(0,c.jsx)("button",{onClick:()=>l(!1),style:{marginTop:"10px",backgroundColor:"#ddd",color:"#333",border:"none",borderRadius:"4px",padding:"5px 10px",cursor:"pointer"},children:"Cancelar"})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{style:{width:"20px",height:"20px"},onClick:()=>l(!0),className:"btn max-btn"})})})})]})}},$f={buttonedge:function({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:i,targetPosition:a,style:s={color:"red"},markerEnd:l}){const{setEdges:u}=ys(),[d,p,f]=Di({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:a});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ol,{path:d,markerEnd:l,style:s}),(0,c.jsx)(Kl,{children:(0,c.jsx)("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${p}px,${f}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:(0,c.jsx)("div",{className:"btn close-btn",onClick:()=>{u((t=>t.filter((t=>t.id!==e))))}})})})]})}},Hf=(0,o.forwardRef)((({initialData:e},t)=>{const{nodes:n,edges:r,onNodesChangeHandler:i,onEdgesChangeHandler:a,onConnect:s,initializeData:l}=tf(),[u,d]=(0,o.useState)([]),[p,f]=(0,o.useState)(!1);return(0,o.useImperativeHandle)(t,(()=>({getFlowData:()=>({nodes:n,edges:r}),getNodesData:()=>n,getEdgesData:()=>r}))),(0,o.useEffect)((()=>{e&&l(e)}),[e]),(0,o.useEffect)((()=>{console.log("Nodes:",n,"Edges:",r)}),[n,r]),(0,c.jsxs)("div",{style:{width:"100%",height:"650px",position:"relative"},children:[u.length>0&&(0,c.jsxs)("div",{style:{color:"red",padding:"10px"},children:[(0,c.jsx)("strong",{children:"Validation Errors:"}),(0,c.jsx)("ul",{children:u.map(((e,t)=>(0,c.jsx)("li",{children:e},t)))})]}),(0,c.jsxs)(gf,{children:[(0,c.jsxs)(Ul,{nodes:n.map((e=>({...e,data:{...e.data}}))),edges:r,onNodesChange:i,onEdgesChange:a,onConnect:s,nodeTypes:zf,edgeTypes:$f,fitView:!0,proOptions:{hideAttribution:!0},children:[(0,c.jsx)(Ff,{toggleDrawer:()=>{f(!p)}}),(0,c.jsx)(fc,{}),(0,c.jsx)(wc,{}),(0,c.jsx)(oc,{})]}),(0,c.jsx)(Af,{})]})]})})),Gf=()=>{const e=new URLSearchParams(window.location.search).get("process_type_id"),[t,n]=(0,o.useState)(null),[r,i]=(0,o.useState)(null),[s,u]=(0,o.useState)(!0),d=(0,o.useRef)(null),[p,f]=(0,o.useState)({nodes:[],edges:[]}),[h,g]=(0,o.useState)("");return(0,o.useEffect)((()=>{u(!0),l()({path:`/obatala/v1/process_type/${e}`}).then((e=>{console.log("Process model data:",e),n(e),g(e.title.rendered);const t=e.meta.flowData||{nodes:[],edges:[]};f(t),u(!1)})).catch((e=>{console.error("Error fetching data:",e),i({status:"error",message:"Error fetching process type."}),u(!1)}))}),[e]),s?(0,c.jsx)(a.Spinner,{}):t?(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsx)("h2",{children:"Edit Process Model"}),(0,c.jsx)("div",{className:"panel-container",children:(0,c.jsx)("main",{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)(a.TextControl,{value:h,placeholder:"Digite o placeholder",onChange:e=>g(e)}),(0,c.jsx)(a.Button,{variant:"primary",type:"submit",style:{margin:0},onClick:async()=>{try{const r=d.current.getFlowData(),o={...t,title:h,meta:{flowData:r}};console.log("Updated data:",o),await l()({path:`/obatala/v1/process_type/${e}`,method:"PUT",data:o}),await l()({path:`/obatala/v1/process_type/${e}/meta`,method:"PUT",data:o.meta}),n({...t,meta:o.meta}),i({status:"success",message:"Process type and meta updated successfully."})}catch(e){console.error(e),i({status:"error",message:`Error updating process type and meta: ${e}`})}finally{u(!1)}},children:"Save"})]}),(0,c.jsxs)(a.PanelRow,{children:[r&&(0,c.jsx)(a.Notice,{status:r.status,isDismissible:!0,onRemove:()=>i(null),children:r.message}),(0,c.jsx)(nf,{children:(0,c.jsx)(Hf,{ref:d,initialData:p})})]})]})})})]}):(0,c.jsx)("div",{children:"Loading..."})},Vf=({stepId:e,onMetaFieldAdded:t})=>{const[n,r]=(0,o.useState)(""),[i,s]=(0,o.useState)("text"),[u,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[h,g]=(0,o.useState)(null),[m,v]=(0,o.useState)(null),[y,b]=(0,o.useState)(null),[x,w]=(0,o.useState)([]);(0,o.useEffect)((()=>{S()}),[]);const S=()=>{l()({path:`/obatala/v1/process_step/${e}/meta`}).then((e=>{w(Array.isArray(e)?e:[])})).catch((e=>{console.error("Error fetching current metadata:",e)}))};return(0,c.jsxs)(a.PanelBody,{title:"Add Metadata Field",children:[y&&(0,c.jsx)(a.Notice,{status:y.status,isDismissible:!0,onRemove:()=>b(null),children:y.message}),(0,c.jsxs)(a.PanelRow,{children:[(0,c.jsx)(a.TextControl,{label:"Field Title",value:n,onChange:e=>r(e)}),(0,c.jsx)(a.SelectControl,{label:"Field Type",value:i,options:[{label:"Text",value:"text"},{label:"Date Picker",value:"datepicker"},{label:"Upload",value:"upload"},{label:"Number",value:"number"},{label:"Text Field",value:"textfield"},{label:"Select",value:"select"},{label:"Radio",value:"radio"}],onChange:e=>s(e)}),(()=>{switch(i){case"datepicker":return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.TextControl,{label:"Date Format",value:p,onChange:e=>f(e),help:"Enter the date format (e.g., YYYY-MM-DD)"}),(0,c.jsx)(a.DateTimePicker,{currentDate:h,onChange:e=>g(e),is24Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0}),(0,c.jsx)(a.DateTimePicker,{currentDate:m,onChange:e=>v(e),is24Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})]});case"upload":return(0,c.jsx)(a.TextControl,{label:"File URL",value:u,onChange:e=>d(e),help:"Enter the URL of the file"});case"number":return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.TextControl,{label:"Min Value",type:"number",value:u,onChange:e=>d(e)}),(0,c.jsx)(a.TextControl,{label:"Max Value",type:"number",value:u,onChange:e=>d(e)})]});case"select":case"radio":return(0,c.jsx)(a.TextControl,{label:"Options",value:u,onChange:e=>d(e),help:"Enter the options separated by commas"});default:return null}})(),(0,c.jsx)(a.Button,{variant:"primary",onClick:()=>{if(!n)return void b({status:"error",message:"Field title cannot be empty."});const o={title:n,type:i,value:u,..."datepicker"===i&&{dateFormat:p,startDate:h,endDate:m}},a=[...x,o];l()({path:`/obatala/v1/process_step/${e}/meta`,method:"POST",data:{meta_fields:a}}).then((()=>{t(o),r(""),s("text"),d(""),f(""),g(null),v(null),b({status:"success",message:"Field added successfully."}),w(a)})).catch((e=>{console.error("Error adding field:",e),b({status:"error",message:"Error adding field."})}))},children:"Save"})]})]})};function Wf(e,t){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wf(e,t)}function qf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wf(e,t)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(null,arguments)}function Xf(e){return Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(e)}function Uf(e,t,n){return(t=function(e){var t=function(e){if("object"!=Xf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(n),!0).forEach((function(t){Uf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jf(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Qf="function"==typeof Symbol&&Symbol.observable||"@@observable",eh=function(){return Math.random().toString(36).substring(7).split("").join(".")},th={INIT:"@@redux/INIT"+eh(),REPLACE:"@@redux/REPLACE"+eh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+eh()}};function nh(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Jf(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Jf(1));return n(nh)(e,t)}if("function"!=typeof e)throw new Error(Jf(2));var o=e,i=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Jf(3));return i}function d(e){if("function"!=typeof e)throw new Error(Jf(4));if(l)throw new Error(Jf(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Jf(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(Jf(7));if(void 0===e.type)throw new Error(Jf(8));if(l)throw new Error(Jf(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return p({type:th.INIT}),(r={dispatch:p,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Jf(10));o=e,p({type:th.REPLACE})}})[Qf]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Jf(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Qf]=function(){return this},e},r}function rh(e,t){return function(){return t(e.apply(this,arguments))}}function oh(e,t){if("function"==typeof e)return rh(e,t);if("object"!=typeof e||null===e)throw new Error(Jf(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=rh(o,t))}return n}function ih(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ah=i().createContext(null),sh=function(e){e()},lh=function(){return sh},ch={notify:function(){},get:function(){return[]}};function uh(e,t){var n,r=ch;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=lh(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ch)},getListeners:function(){return r}};return a}var dh="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;const ph=function(e){var t=e.store,n=e.context,r=e.children,a=(0,o.useMemo)((function(){var e=uh(t);return{store:t,subscription:e}}),[t]),s=(0,o.useMemo)((function(){return t.getState()}),[t]);dh((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var l=n||ah;return i().createElement(l.Provider,{value:a},r)};function fh(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var hh=n(146),gh=n.n(hh),mh=n(737),vh=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],yh=["reactReduxForwardedRef"],bh=[],xh=[null,null];function wh(e,t){var n=e[1];return[t.payload,n+1]}function Sh(e,t,n){dh((function(){return e.apply(void 0,t)}),n)}function Ch(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function Eh(e,t,n,r,o,i,a,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Ph=function(){return[null,0]};function Rh(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,l=void 0===s?"connectAdvanced":s,c=n.renderCountProp,u=void 0===c?void 0:c,d=n.shouldHandleStateChanges,p=void 0===d||d,f=n.storeKey,h=void 0===f?"store":f,g=(n.withRef,n.forwardRef),m=void 0!==g&&g,v=n.context,y=void 0===v?ah:v,b=fh(n,vh),x=y;return function(t){var n=t.displayName||t.name||"Component",r=a(n),s=Yf({},b,{getDisplayName:a,methodName:l,renderCountProp:u,shouldHandleStateChanges:p,storeKey:h,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=b.pure,d=c?o.useMemo:function(e){return e()};function f(n){var r=(0,o.useMemo)((function(){var e=n.reactReduxForwardedRef,t=fh(n,yh);return[n.context,e,t]}),[n]),a=r[0],l=r[1],c=r[2],u=(0,o.useMemo)((function(){return a&&a.Consumer&&(0,mh.isContextConsumer)(i().createElement(a.Consumer,null))?a:x}),[a,x]),f=(0,o.useContext)(u),h=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var g=h?n.store:f.store,m=(0,o.useMemo)((function(){return function(t){return e(t.dispatch,s)}(g)}),[g]),v=(0,o.useMemo)((function(){if(!p)return xh;var e=uh(g,h?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,h,f]),y=v[0],b=v[1],w=(0,o.useMemo)((function(){return h?f:Yf({},f,{subscription:y})}),[h,f,y]),S=(0,o.useReducer)(wh,bh,Ph),C=S[0][0],E=S[1];if(C&&C.error)throw C.error;var P=(0,o.useRef)(),R=(0,o.useRef)(c),D=(0,o.useRef)(),N=(0,o.useRef)(!1),I=d((function(){return D.current&&c===R.current?D.current:m(g.getState(),c)}),[g,C,c]);Sh(Ch,[R,P,N,c,I,D,b]),Sh(Eh,[p,g,y,m,R,P,N,D,b,E],[g,y,m]);var k=(0,o.useMemo)((function(){return i().createElement(t,Yf({},I,{ref:l}))}),[l,t,I]);return(0,o.useMemo)((function(){return p?i().createElement(u.Provider,{value:w},k):k}),[u,k,w])}var g=c?i().memo(f):f;if(g.WrappedComponent=t,g.displayName=f.displayName=r,m){var v=i().forwardRef((function(e,t){return i().createElement(g,Yf({},e,{reactReduxForwardedRef:t}))}));return v.displayName=r,v.WrappedComponent=t,gh()(v,t)}return gh()(g,t)}}function Dh(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Nh(e,t){if(Dh(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Dh(e[n[o]],t[n[o]]))return!1;return!0}function Ih(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function kh(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _h(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=kh(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=kh(o),o=r(t,n)),o},r}}const Mh=[function(e){return"function"==typeof e?_h(e):void 0},function(e){return e?void 0:Ih((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Ih((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"==typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}],jh=[function(e){return"function"==typeof e?_h(e):void 0},function(e){return e?void 0:Ih((function(){return{}}))}];function Oh(e,t,n){return Yf({},n,e,t)}const Ah=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Oh}}];var Th=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Bh(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Lh(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;return function(o,h){return f?function(o,f){var h,g,m=!d(f,a),v=!u(o,i,f,a);return i=o,a=f,m&&v?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):v?(h=e(i,a),g=!p(h,s),s=h,g&&(c=n(s,l,a)),c):c}(o,h):(s=e(i=o,a=h),l=t(r,a),c=n(s,l,a),f=!0,c)}}function Fh(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=fh(t,Th),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?Lh:Bh)(a,s,l,e,i)}var zh=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function $h(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Hh(e,t){return e===t}function Gh(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Rh:n,o=t.mapStateToPropsFactories,i=void 0===o?jh:o,a=t.mapDispatchToPropsFactories,s=void 0===a?Mh:a,l=t.mergePropsFactories,c=void 0===l?Ah:l,u=t.selectorFactory,d=void 0===u?Fh:u;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,u=void 0===l||l,p=a.areStatesEqual,f=void 0===p?Hh:p,h=a.areOwnPropsEqual,g=void 0===h?Nh:h,m=a.areStatePropsEqual,v=void 0===m?Nh:m,y=a.areMergedPropsEqual,b=void 0===y?Nh:y,x=fh(a,zh),w=$h(e,i,"mapStateToProps"),S=$h(t,s,"mapDispatchToProps"),C=$h(n,c,"mergeProps");return r(d,Yf({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:C,pure:u,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},x))}}const Vh=Gh();var Wh;function qh(e,t){var n=(0,o.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,o.useRef)(!0),i=(0,o.useRef)(n),a=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,o.useEffect)((function(){r.current=!1,i.current=a}),[a]),a.result}Wh=xa.unstable_batchedUpdates,sh=Wh;var Yh=qh,Xh=function(e,t){return qh((function(){return e}),t)},Uh=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},Zh=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Kh=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Jh={top:0,right:0,bottom:0,left:0},Qh=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Jh:n,o=e.border,i=void 0===o?Jh:o,a=e.padding,s=void 0===a?Jh:a,l=Uh(Zh(t,r)),c=Uh(Kh(t,i)),u=Uh(Kh(c,s));return{marginBox:l,borderBox:Uh(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},eg=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},tg=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Qh({borderBox:l,border:i,margin:a,padding:s})},ng=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),tg(e,t)},rg=function(e,t){var n={top:eg(t.marginTop),right:eg(t.marginRight),bottom:eg(t.marginBottom),left:eg(t.marginLeft)},r={top:eg(t.paddingTop),right:eg(t.paddingRight),bottom:eg(t.paddingBottom),left:eg(t.paddingLeft)},o={top:eg(t.borderTopWidth),right:eg(t.borderRightWidth),bottom:eg(t.borderBottomWidth),left:eg(t.borderLeftWidth)};return Qh({borderBox:e,margin:n,padding:r,border:o})},og=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return rg(t,n)},ig=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function ag(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(o=t[n])||ig(r)&&ig(o)))return!1;var r,o;return!0}const sg=function(e,t){var n;void 0===t&&(t=ag);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},lg=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function cg(e,t){}function ug(){}function dg(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,Yf({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}cg.bind(null,"warn"),cg.bind(null,"error");var pg=!0,fg="Invariant failed";function hg(e){this.message=e}function gg(e,t){if(!e)throw new hg(pg?fg:fg+": "+(t||""))}hg.prototype.toString=function(){return this.message};var mg=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=ug,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof hg&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}qf(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=dg(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof hg))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i().Component),vg=function(e){return e+1},yg=function(e,t){var n=e.droppableId===t.droppableId,r=vg(e.index),o=vg(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},bg=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},xg=function(e){return"\n  The item has returned to its starting position\n  of "+vg(e.index)+"\n"},wg=function(e){return"\n  You have lifted an item in position "+vg(e.source.index)+"\n"},Sg=function(e){var t=e.destination;if(t)return yg(e.source,t);var n=e.combine;return n?bg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Cg=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+xg(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+yg(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+bg(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+xg(e.source)+"\n  "},Eg={x:0,y:0},Pg=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Rg=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Dg=function(e,t){return e.x===t.x&&e.y===t.y},Ng=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Ig=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},kg=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_g=function(e,t){return Math.min.apply(Math,t.map((function(t){return kg(e,t)})))},Mg=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},jg=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Og=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ag=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Uh({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Uh(e)},Tg=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?jg(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?Yf({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Ag(a,o)}},Bg=function(e,t){e.frame||gg(!1);var n=e.frame,r=Rg(t,n.scroll.initial),o=Ng(r),i=Yf({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return Yf({},e,{frame:i,subject:Tg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Lg(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Fg(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function zg(e,t){if(e.find)return e.find(t);var n=Fg(e,t);return-1!==n?e[n]:void 0}function $g(e){return Array.prototype.slice.call(e)}var Hg=sg((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Gg=sg((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Vg=sg((function(e){return Lg(e)})),Wg=sg((function(e){return Lg(e)})),qg=sg((function(e,t){var n=Wg(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Yg(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Xg(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ug=sg((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Zg=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Kg={point:Eg,value:0},Jg={invisible:{},visible:{},all:[]},Qg={displaced:Jg,displacedBy:Kg,at:null},em=function(e,t){return function(n){return e<=n&&n<=t}},tm=function(e){var t=em(e.top,e.bottom),n=em(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||a&&i||s&&o}},nm=function(e){var t=em(e.top,e.bottom),n=em(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},rm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},om={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},im=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Eg;return jg(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},am=function(e){return im(Yf({},e,{isVisibleThroughFrameFn:tm}))},sm=function(e){return im(Yf({},e,{isVisibleThroughFrameFn:nm}))},lm=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate};function cm(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Uh(Zh(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!am({target:s,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:lm(l,a,i)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function um(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Jg,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function dm(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=Zg(t,r);if(null==s)return um({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=zg(n,(function(e){return e.descriptor.index===s}));if(!u)return um({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=Ug(t,n),p=n.indexOf(u);return{displaced:cm({afterDragging:d.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function pm(e,t){return Boolean(t.effected[e])}var fm=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},hm=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},gm=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Ig(t.line,n.marginBox[t.end]+fm(t,r),hm(t,n.marginBox,r))},mm=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Ig(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),hm(t,n.marginBox,r))},vm=function(e,t){var n=e.frame;return n?Pg(t,n.scroll.diff.displacement):t},ym=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=qg(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Ig(t.line,n.contentBox[t.start]+fm(t,r),hm(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=r[d];if(pm(d,i))return mm({axis:l,moveRelativeTo:p.page,isMoving:s});var f=tg(p.page,u.point);return mm({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(pm(h.descriptor.id,i)){var g=tg(h.page,Ng(i.displacedBy.point));return gm({axis:l,moveRelativeTo:g,isMoving:s})}return gm({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=Xg(n);o||gg(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return pm(r,n)?i?Eg:Ng(o.point):i?o.point:Eg}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return Pg(a,s)}({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?vm(n,t):t},bm=function(e,t){var n=Rg(t,e.scroll.initial),r=Ng(n);return{frame:Uh({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function xm(e,t){return e.map((function(e){return t[e]}))}var wm=function(e){var t,n,r=e.pageBorderBoxCenter,o=e.draggable,i=(t=e.viewport,n=r,Pg(t.scroll.diff.displacement,n)),a=Rg(i,o.page.borderBox.center);return Pg(o.client.borderBox.center,a)},Sm=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=Rg(r,t.page.borderBox.center),c={target:jg(t.page.borderBox,l),destination:n,withDroppableDisplacement:i,viewport:o};return s?function(e){return im(Yf({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=em(e.top,e.bottom),r=em(e.left,e.right);return function(e){return t===rm?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):sm(c)},Cm=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=qg(r.descriptor.id,o),d=Zg(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Yg(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Yf({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=Ug(n,o);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=Fg(c,(function(e){return e.descriptor.id===l}));-1===u&&gg(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||gg(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:dm({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,a=n[i].descriptor.index;return pm(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:dm({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}({isMovingForward:t,isInHomeList:d,draggable:n,draggables:o,destination:r,insideDestination:u,previousImpact:i,viewport:a,afterCritical:c});if(!p)return null;var f=ym({impact:p,draggable:n,droppable:r,draggables:o,afterCritical:c});if(Sm({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wm({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:p,scrollJumpRequest:null};var h=Rg(f,s),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=bm(n,Pg(n.scroll.current,i)),s=r.frame?Bg(r,Pg(r.frame.scroll.current,i)):r,l=t.displaced,c=cm({afterDragging:xm(l.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=cm({afterDragging:xm(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},p={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?p[e]=t:d[e]=!0})),Yf({},t,{displaced:{all:l.all,invisible:d,visible:p}})}({impact:p,viewport:a,destination:r,draggables:o,maxScrollChange:h});return{clientSelection:l,impact:g,scrollJumpRequest:h}},Em=function(e){var t=e.subject.active;return t||gg(!1),t},Pm=function(e,t){var n=e.page.borderBox.center;return pm(e.descriptor.id,t)?Rg(n,t.displacedBy.point):n},Rm=function(e,t){var n=e.page.borderBox;return pm(e.descriptor.id,t)?jg(n,Ng(t.displacedBy.point)):n},Dm=sg((function(e,t){var n=t[e.line];return{value:n,point:Ig(e.line,n)}})),Nm=function(e,t){return Yf({},e,{scroll:Yf({},e.scroll,{max:t})})},Im=function(e,t,n){var r=e.frame;Zg(t,e)&&gg(!1),e.subject.withPlaceholder&&gg(!1);var o=Dm(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Ig(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=qg(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:Ig(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return Yf({},e,{subject:Tg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=i?Pg(r.scroll.max,i):r.scroll.max,l=Nm(r,s);return Yf({},e,{subject:Tg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},km=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},_m=function(e){var t=e.state,n=e.type,r=function(e,t){var n=km(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?Cm({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=em(a[s.start],a[s.end]),c=Vg(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return tm(i.frame)(Em(e))})).filter((function(e){var n=Em(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Em(e),n=em(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Em(e)[s.crossAxisStart],o=Em(n)[s.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Em(e)[s.crossAxisStart]===Em(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return em(Em(e)[s.start],Em(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Em(e)[s.start]-Em(t)[s.start]}))[0]:c.sort((function(e,t){var r=_g(n,Og(Em(e))),o=_g(n,Og(Em(t)));return r!==o?r-o:Em(e)[s.start]-Em(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=qg(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.afterCritical,i=e.insideDestination.filter((function(e){return sm({target:Rm(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=kg(t,vm(r,Pm(e,o))),a=kg(t,vm(r,Pm(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:Jg,displacedBy:Kg,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=ym({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=Zg(o,a)?a:Im(a,o,i);return Sm({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?p:p+1);return dm({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:Dm(a.axis,o.displaceBy),last:Jg,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=ym({impact:p,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:wm({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:p,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Mm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function jm(e){var t=em(e.top,e.bottom),n=em(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var Om=function(e,t){return Uh(jg(e,t))};function Am(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Tm=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Om(n.page.borderBox,t),c=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=Vg(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(jm(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=em(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,o=n.map((function(e){var n=e.axis,o=Ig(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:kg(r,o)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}({pageBorderBox:l,draggable:n,droppables:o});if(!c)return Qg;var u=o[c],d=qg(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?Om(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=Dm(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],p=zg(Ug(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=pm(t,a),l=Am({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o}));return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Dm(r.axis,n.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=zg(Ug(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=pm(t,s),o=Am({displaced:i,id:t});return r?o?p<=n:d<n-u:o?p<=n+u:d<n})),h=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:Zg(n,r)});return dm({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:h})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},Bm=function(e,t){var n;return Yf({},e,((n={})[t.descriptor.id]=t,n))},Lm=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,s=o||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Rg(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Pg(t.initial.client.borderBoxCenter,u)},p={selection:Pg(d.selection,s.scroll.current),borderBoxCenter:Pg(d.borderBoxCenter,s.scroll.current),offset:Pg(d.offset,s.scroll.diff.value)},f={client:d,page:p};if("COLLECTING"===t.phase)return Yf({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var h=l.draggables[t.critical.draggable.id],g=i||Tm({pageOffset:p.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=km(t),i=km(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||gg(!1);var n=e.frame;if(!n)return Yf({},e,{subject:Tg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||gg(!1);var o=Nm(n,r);return Yf({},e,{subject:Tg({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return Bm(r,s)}({previousImpact:e.previousImpact,impact:o,droppables:r}),a=km(o);if(!a)return i;var s=r[a];if(Zg(t,s))return i;if(s.subject.withPlaceholder)return i;var l=Im(s,t,n);return Bm(i,l)}({draggable:h,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Yf({},t,{current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},Fm=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return Yf({},t,{displaced:cm({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a})})},zm=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=ym({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return wm({pageBorderBoxCenter:s,draggable:n,viewport:i})},$m=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&gg(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=km(o);u||gg(!1);var d=l[u],p=Fm({impact:o,viewport:i,destination:d,draggables:s}),f=zm({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Lm({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},Hm=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Dm(n.axis,t.displaceBy),a=qg(n.descriptor.id,r),s=a.indexOf(t);-1===s&&gg(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:cm({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},Gm=function(e){return"SNAP"===e.movementMode},Vm=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Bm(e.droppables,t)}}(e.dimensions,t);return!Gm(e)||n?Lm({state:e,dimensions:r}):$m({state:e,dimensions:r})};function Wm(e){return e.isDragging&&"SNAP"===e.movementMode?Yf({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var qm={phase:"IDLE",completed:null,shouldFlush:!1},Ym=function(e,t){if(void 0===e&&(e=qm),"FLUSH"===t.type)return Yf({},qm,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&gg(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:o,borderBoxCenter:l.client.borderBox.center,offset:Eg},d={client:u,page:{selection:Pg(u.selection,i.scroll.initial),borderBoxCenter:Pg(u.selection,i.scroll.initial),offset:Pg(u.selection,i.scroll.diff.value)}},p=Vg(a.droppables).every((function(e){return!e.isFixedOnPage})),f=Hm({draggable:l,home:c,draggables:a.draggables,viewport:i}),h=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&gg(!1),Yf({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&gg(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Bg(n,e.scroll)})),o=Yf({},t.dimensions.droppables,{},Hg(r)),i=Gg(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||gg(!1),t}(n[t]),a=i.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=tg(t.client,n),i=ng(o,r);return Yf({},t,{placeholder:Yf({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:Pg(o,a),initialWindowScroll:r.scroll.initial});return s}))}({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=Yf({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var s={droppables:o,draggables:a},l=km(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=Hm({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=p.impact,h=p.afterCritical,g=c&&c.isCombineEnabled?t.impact:f,m=Tm({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:h}),v=Yf({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:Yf({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Mm(e)||gg(!1);var g=t.payload.client;return Dg(g,e.current.client.selection)?e:Lm({state:e,clientSelection:g,impact:Gm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Wm(e);if("COLLECTING"===e.phase)return Wm(e);Mm(e)||gg(!1);var m=t.payload,v=m.id,y=m.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var x=Bg(b,y);return Vm(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Mm(e)||gg(!1);var w=t.payload,S=w.id,C=w.isEnabled,E=e.dimensions.droppables[S];E||gg(!1),E.isEnabled===C&&gg(!1);var P=Yf({},E,{isEnabled:C});return Vm(e,P,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Mm(e)||gg(!1);var R=t.payload,D=R.id,N=R.isCombineEnabled,I=e.dimensions.droppables[D];I||gg(!1),I.isCombineEnabled===N&&gg(!1);var k=Yf({},I,{isCombineEnabled:N});return Vm(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Mm(e)||gg(!1),e.isWindowScrollAllowed||gg(!1);var _=t.payload.newScroll;if(Dg(e.viewport.scroll.current,_))return Wm(e);var M=bm(e.viewport,_);return Gm(e)?$m({state:e,viewport:M}):Lm({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Mm(e))return e;var j=t.payload.maxScroll;if(Dg(j,e.viewport.scroll.max))return e;var O=Yf({},e.viewport,{scroll:Yf({},e.viewport.scroll,{max:j})});return Yf({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&gg(!1);var A=_m({state:e,type:t.type});return A?Lm({state:e,impact:A.impact,clientSelection:A.clientSelection,scrollJumpRequest:A.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var T=t.payload.reason;return"COLLECTING"!==e.phase&&gg(!1),Yf({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:T})}if("DROP_ANIMATE"===t.type){var B=t.payload,L=B.completed,F=B.dropDuration,z=B.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&gg(!1),{phase:"DROP_ANIMATING",completed:L,dropDuration:F,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Xm=function(e){return{type:"LIFT",payload:e}},Um=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Zm=function(){return{type:"COLLECTION_STARTING",payload:null}},Km=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Jm=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Qm=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},ev=function(e){return{type:"MOVE",payload:e}},tv=function(){return{type:"MOVE_UP",payload:null}},nv=function(){return{type:"MOVE_DOWN",payload:null}},rv=function(){return{type:"MOVE_RIGHT",payload:null}},ov=function(){return{type:"MOVE_LEFT",payload:null}},iv=function(){return{type:"FLUSH",payload:null}},av=function(e){return{type:"DROP_COMPLETE",payload:e}},sv=function(e){return{type:"DROP",payload:e}},lv="cubic-bezier(.2,1,.1,1)",cv=0,uv=.7,dv=.75,pv="0.2s cubic-bezier(0.2, 0, 0, 1)",fv={fluid:"opacity "+pv,snap:"transform "+pv+", opacity "+pv,drop:function(e){var t=e+"s "+lv;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+pv,placeholder:"height "+pv+", width "+pv+", margin "+pv},hv=function(e){return Dg(e,Eg)?null:"translate("+e.x+"px, "+e.y+"px)"},gv=hv,mv=function(e,t){var n=hv(e);return n?t?n+" scale("+dv+")":n:null},vv=.33,yv=.55-vv,bv=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&gg(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&gg(!1);var a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Yf({},r,{displaced:Jg}),didDropInsideDroppable:!0}:{impact:Fm({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,p=d?Yg(u):null,f=d?Xg(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:i,mode:o.movementMode,destination:p,combine:f},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=km(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=zm({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return Rg(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:u};if(!Dg(o.current.client.offset,m)||Boolean(g.combine)){var y=function(e){var t=e.reason,n=kg(e.current,e.destination);if(n<=0)return vv;if(n>=1500)return.55;var r=vv+yv*(n/1500);return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:o.current.client.offset,destination:m,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:v}))}else n(av({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},xv=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var wv=function(e){var t=function(e){var t=e.onWindowScroll,n=lg((function(){t(xv())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=ug;function i(){return o!==ug}return{start:function(){i()&&gg(!1),o=dg(window,[r])},stop:function(){i()||gg(!1),n.cancel(),o(),o=ug},isActive:i}}({onWindowScroll:function(t){e.dispatch(function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}}({newScroll:t}))}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Sv=function(e,t){t()},Cv=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ev=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Pv=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=Fg(n,(function(t){return t.timerId===e}));-1===t&&gg(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),o=null,i=function(n){o||gg(!1),o=null,Sv(0,(function(){return Ev(e().onDragEnd,n,t,Cg)}))};return{beforeCapture:function(t,n){o&&gg(!1),Sv(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){o&&gg(!1),Sv(0,(function(){var r=e().onBeforeDragStart;r&&r(Cv(t,n))}))},start:function(n,i){o&&gg(!1);var a=Cv(n,i);o={mode:i,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add((function(){Sv(0,(function(){return Ev(e().onDragStart,a,t,wg)}))}))},update:function(n,i){var a=Yg(i),s=Xg(i);o||gg(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,o.lastCritical);l&&(o.lastCritical=n);var c,u,d=(u=a,!(null==(c=o.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(o.lastLocation=a);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,s);if(p&&(o.lastCombine=s),l||d||p){var f=Yf({},Cv(n,o.mode),{combine:s,destination:a});r.add((function(){Sv(0,(function(){return Ev(e().onDragUpdate,f,t,Sg)}))}))}},flush:function(){o||gg(!1),r.flush()},drop:i,abort:function(){if(o){var e=Yf({},Cv(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Rv=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&gg(!1),e.dispatch(av({completed:r.completed}))}else t(n)}}},Dv=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=dg(window,[i])}))}}}},Nv=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(sv({reason:r.reason})))}}}},Iv=ih,kv=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return nh(Ym,Iv(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Jf(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=ih.apply(void 0,i)(n.dispatch),Kf(Kf({},n),{},{dispatch:r})}}}((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(av({completed:c.completed})),"IDLE"!==n().phase&&gg(!1),r(iv()),r(function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}}({draggableId:a,movementMode:l}));var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}))}else t(o)}}}}(n),bv,Rv,Dv,Nv,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&gg(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),wv,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Pv(i,a))))},_v=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Rg({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Mv=function(){var e=document.documentElement;return e||gg(!1),e},jv=function(){var e=Mv();return _v({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Ov(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Av,Tv,Bv=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Eg)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||gg(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Ov(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ov(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||gg(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||gg(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||gg(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&gg(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},function(e){var t,n,r,o,i,a,s,l=e.critical,c=e.scrollOptions,u=e.registry,d=(t=xv(),n=jv(),r=t.y,o=t.x,a=(i=Mv()).clientWidth,s=i.clientHeight,{frame:Uh({top:r,left:o,right:o+a,bottom:r+s}),scroll:{initial:t,current:t,max:n,diff:{value:Eg,displacement:Eg}}}),p=d.scroll.current,f=l.droppable,h=u.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(p,c)})),g=u.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(p)}));return{dimensions:{draggables:Gg(g),droppables:Hg(h)},critical:l,viewport:d}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return i},Lv=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Fv=function(e){window.scrollBy(e.x,e.y)},zv=sg((function(e){return Vg(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),$v=function(e){return Math.pow(e,2)},Hv=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},Gv=360,Vv=1200,Wv=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Hv({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*$v(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=Vv,o=Date.now()-n;if(o>=Vv)return e;if(o<Gv)return 1;var i=Hv({startOfRange:Gv,endOfRange:r,current:o}),a=e*$v(i);return Math.ceil(a)}(i,r),1):i},qv=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return n[o.end]<n[o.start]?Wv({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*Wv({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},Yv=Mg((function(e){return 0===e?0:e})),Xv=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=qv({container:n,distanceToEdges:a,dragStartTime:t,axis:rm,shouldUseTimeDampening:i}),l=qv({container:n,distanceToEdges:a,dragStartTime:t,axis:om,shouldUseTimeDampening:i}),c=Yv({x:l,y:s});if(Dg(c,Eg))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Dg(u,Eg)?null:u:null},Uv=Mg((function(e){return 0===e?0:e>0?1:-1})),Zv=(Av=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=Pg(t,r),i={x:Av(o.x,n.x),y:Av(o.y,n.y)};return Dg(i,Eg)?null:i}),Kv=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Uv(r),a=Zv({max:o,current:n,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},Jv=function(e,t){return Kv({current:e.scroll.current,max:e.scroll.max,change:t})},Qv=function(e,t){var n=e.frame;return!!n&&Kv({current:n.scroll.current,max:n.scroll.max,change:t})},ey=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.shouldUseTimeDampening,i=Xv({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&Jv(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=zg(zv(t),(function(t){return t.frame||gg(!1),jm(t.frame.pageMarginBox)(e)}));return n}(t,r);return i}({center:a,destination:km(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=Xv({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&Qv(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},ty=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=km(e.impact);i||gg(!1);var a=function(e,t){if(!Qv(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Qv(e,t)?Zv({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Rg(t,r);return n(e.descriptor.id,o),Rg(t,o)}(e.dimensions.droppables[i],o);if(a){var s=e.viewport,l=function(e,t,n){if(!e)return n;if(!Jv(t,n))return n;var o=function(e,t){if(!Jv(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Zv({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Rg(n,o);return r(i),Rg(n,i)}(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=Pg(e.current.client.selection,n);t({client:r})}(e,l)}}}},ny=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollDroppable,n=lg(e.scrollWindow),r=lg(t),o=null,i=function(e){o||gg(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;ey({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&gg(!1);var t=Date.now(),n=!1,r=function(){n=!0};ey({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){o&&(n.cancel(),r.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=ty({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},ry="data-rbd",oy={base:Tv=ry+"-drag-handle",draggableId:Tv+"-draggable-id",contextId:Tv+"-context-id"},iy=function(){var e=ry+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ay=function(){var e=ry+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),sy={contextId:ry+"-scroll-container-context-id"},ly=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},cy=function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(oy.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+fv.outOfTheWay+";\n    ",{selector:o(iy.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(ay.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ly(a,"always"),resting:ly(a,"resting"),dragging:ly(a,"dragging"),dropAnimating:ly(a,"dropAnimating"),userCancel:ly(a,"userCancel")}},uy="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,dy=function(){var e=document.querySelector("head");return e||gg(!1),e},py=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},fy=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function hy(e){return e instanceof fy(e).HTMLElement}function gy(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var o={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||gg(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Lg(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function i(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||gg(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return Lg(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:o,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var my=i().createContext(null),vy=function(){var e=document.body;return e||gg(!1),e},yy={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},by=function(e){return"rbd-announcement-"+e},xy=0,wy={separator:"::"};function Sy(e,t){return void 0===t&&(t=wy),Yh((function(){return""+e+t.separator+xy++}),[t.separator,e])}var Cy=i().createContext(null);function Ey(e){var t=(0,o.useRef)(e);return(0,o.useEffect)((function(){t.current=e})),t}var Py,Ry,Dy=((Py={})[13]=!0,Py[9]=!0,Py),Ny=function(e){Dy[e.keyCode]&&e.preventDefault()},Iy=function(){var e="visibilitychange";return"undefined"==typeof document?e:zg([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),ky={type:"IDLE"};function _y(){}var My=((Ry={})[34]=!0,Ry[33]=!0,Ry[36]=!0,Ry[35]=!0,Ry);var jy={type:"IDLE"},Oy={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Ay(e,t){if(null==t)return!1;if(Boolean(Oy[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Ay(e,t.parentElement)}function Ty(e,t){var n=t.target;return!!hy(n)&&Ay(e,n)}var By=function(e){return Uh(e.getBoundingClientRect()).center},Ly=function(){var e="matches";return"undefined"==typeof document?e:zg([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Fy(e,t){return null==e?null:e[Ly](t)?e:Fy(e.parentElement,t)}function zy(e,t){return e.closest?e.closest(t):Fy(e,t)}function $y(e){e.preventDefault()}function Hy(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function Gy(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!Lv(n.getState(),o)}var Vy=[function(e){var t=(0,o.useRef)(ky),n=(0,o.useRef)(ug),r=Yh((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}}),[e]),i=Yh((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=Xh((function(){n.current=dg(window,[i,r],{passive:!1,capture:!0})}),[i,r]),s=Xh((function(){"IDLE"!==t.current.type&&(t.current=ky,n.current(),a())}),[a]),l=Xh((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=Xh((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);if("PENDING"!==s.type&&gg(!1),l=s.point,c=a,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var u=s.actions.fluidLift(a);o({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ny(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&gg(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Iy,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=dg(window,e,{capture:!0,passive:!1})}),[l,s]),u=Xh((function(e,n){"IDLE"!==t.current.type&&gg(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);uy((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,o.useRef)(_y),n=Yh((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=dg(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(My[r.keyCode]?r.preventDefault():Ny(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Iy,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||gg(!1),a=!1,t.current(),r()}}}}),[e]),r=Xh((function(){t.current=dg(window,[n],{passive:!1,capture:!0})}),[n]);uy((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,o.useRef)(jy),n=(0,o.useRef)(ug),r=Xh((function(){return t.current}),[]),i=Xh((function(e){t.current=e}),[]),a=Yh((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),p(o,a)}}}}}}),[e]),s=Xh((function(){n.current=dg(window,[a],{capture:!0,passive:!1})}),[a]),l=Xh((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(jy),n.current(),s())}),[s,i]),c=Xh((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=Xh((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},o=dg(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&gg(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Iy,fn:t}]}(t),e),i=dg(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Iy,fn:t}]}(t),e);n.current=function(){o(),i()}}),[c,r,l]),d=Xh((function(){var e=r();"PENDING"!==e.type&&gg(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),p=Xh((function(e,t){"IDLE"!==r().type&&gg(!1);var n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,i,d]);uy((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(jy))}}),[r,s,i]),uy((function(){return dg(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Wy(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?Vy:[],i||[]),l=(0,o.useState)((function(){return function(){var e=null;function t(){e||gg(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&gg(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=Xh((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);uy((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),uy((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=Xh((function(e){return Gy({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=Xh((function(e,o,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!Gy({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var l=o.draggable.getById(i),c=function(e,t){var n="["+iy.contextId+'="'+e+'"]',r=zg($g(document.querySelectorAll(n)),(function(e){return e.getAttribute(iy.id)===t}));return r&&hy(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&Ty(c,s))return null;var u=t.claim(a||ug),d="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var h=function(e,t){Hy({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=dg(window,[{eventName:"click",fn:$y,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(sv({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&gg(!1)),r.dispatch(Xm(e.liftActionArgs)),d="DRAGGING",Yf({isActive:function(){return Hy({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}var m={isActive:function(){return Hy({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=lg((function(e){h((function(){return ev({client:e})}))}));return Yf({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(tv)},moveRight:function(){return h(rv)},moveDown:function(){return h(nv)},moveLeft:function(){return h(ov)}};return g({liftActionArgs:{id:i,clientSelection:By(c),movementMode:"SNAP"},cleanup:ug,actions:e})},abort:function(){Hy({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),p=Xh((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof fy(n).Element))return null;var o=function(e){return"["+oy.contextId+'="'+e+'"]'}(e),i=zy(r,o);return i&&hy(i)?i:null}(e,t);return n?n.getAttribute(oy.draggableId):null}(t,e)}),[t]),f=Xh((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),h=Xh((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(iv()))}),[l,n]),g=Xh(l.isClaimed,[l]),m=Yh((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:g}}),[u,d,p,f,h,g]),v=0;v<s.length;v++)s[v](m)}var qy=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Yy(e){return e.current||gg(!1),e.current}function Xy(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,l=(0,o.useRef)(null),c=Ey(e),u=Xh((function(){return qy(c.current)}),[c]),d=function(e){var t=Yh((function(){return by(e)}),[e]),n=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Yf(e.style,yy),vy().appendChild(e),function(){setTimeout((function(){var t=vy();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),Xh((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,r=Sy("hidden-text",{separator:"-"}),i=Yh((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,o.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",vy().appendChild(e),function(){var t=vy();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:s}),f=function(e,t){var n=Yh((function(){return cy(e)}),[e]),r=(0,o.useRef)(null),i=(0,o.useRef)(null),a=Xh(sg((function(e){var t=i.current;t||gg(!1),t.textContent=e})),[]),s=Xh((function(e){var t=r.current;t||gg(!1),t.textContent=e}),[]);uy((function(){(r.current||i.current)&&gg(!1);var o=py(t),l=py(t);return r.current=o,i.current=l,o.setAttribute(ry+"-always",e),l.setAttribute(ry+"-dynamic",e),dy().appendChild(o),dy().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||gg(!1),dy().removeChild(t),e.current=null};e(r),e(i)}}),[t,s,a,n.always,n.resting,e]);var l=Xh((function(){return a(n.dragging)}),[a,n.dragging]),c=Xh((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=Xh((function(){i.current&&a(n.resting)}),[a,n.resting]);return Yh((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,a),h=Xh((function(e){Yy(l).dispatch(e)}),[]),g=Yh((function(){return oh({publishWhileDragging:Um,updateDroppableScroll:Km,updateDroppableIsEnabled:Jm,updateDroppableIsCombineEnabled:Qm,collectionStarting:Zm},h)}),[h]),m=function(){var e=Yh(gy,[]);return(0,o.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),v=Yh((function(){return Bv(m,g)}),[m,g]),y=Yh((function(){return ny(Yf({scrollWindow:Fv,scrollDroppable:v.scrollDroppable},oh({move:ev},h)))}),[v.scrollDroppable,h]),b=function(e){var t=(0,o.useRef)({}),n=(0,o.useRef)(null),r=(0,o.useRef)(null),i=(0,o.useRef)(!1),a=Xh((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=Xh((function(t){var n=function(e,t){var n="["+oy.contextId+'="'+e+'"]',r=$g(document.querySelectorAll(n));if(!r.length)return null;var o=zg(r,(function(e){return e.getAttribute(oy.draggableId)===t}));return o&&hy(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=Xh((function(e,t){n.current===e&&(n.current=t)}),[]),c=Xh((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=Xh((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(oy.draggableId)===e&&(n.current=e)}),[]);return uy((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Yh((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),x=Yh((function(){return kv({announce:d,autoScroller:y,dimensionMarshal:v,focusMarshal:b,getResponders:u,styleMarshal:f})}),[d,y,v,b,u,f]);l.current=x;var w=Xh((function(){var e=Yy(l);"IDLE"!==e.getState().phase&&e.dispatch(iv())}),[]),S=Xh((function(){var e=Yy(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Yh((function(){return{isDragging:S,tryAbort:w}}),[S,w]));var C=Xh((function(e){return Lv(Yy(l).getState(),e)}),[]),E=Xh((function(){return Mm(Yy(l).getState())}),[]),P=Yh((function(){return{marshal:v,focus:b,contextId:t,canLift:C,isMovementAllowed:E,dragHandleUsageInstructionsId:p,registry:m}}),[t,v,p,b,C,E,m]);return Wy({contextId:t,store:x,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,o.useEffect)((function(){return w}),[w]),i().createElement(Cy.Provider,{value:P},i().createElement(ph,{context:my,store:x},e.children))}var Uy=0;function Zy(e){var t=Yh((function(){return""+Uy++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return i().createElement(mg,null,(function(r){return i().createElement(Xy,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ky=function(e){return function(t){return e===t}},Jy=Ky("scroll"),Qy=Ky("auto"),eb=(Ky("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),tb=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return eb(n,Jy)||eb(n,Qy)}(t)?t:e(t.parentElement)},nb=function(e){return{x:e.scrollLeft,y:e.scrollTop}},rb=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},ob={passive:!1},ib={passive:!0},ab=function(e){return e.shouldPublishImmediately?ob:ib};function sb(e){var t=(0,o.useContext)(e);return t||gg(!1),t}var lb=function(e){return e&&e.env.closestScrollable||null};function cb(){}var ub={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},db=i().memo((function(e){var t=(0,o.useRef)(null),n=Xh((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=(0,o.useState)("open"===e.animate),u=c[0],d=c[1];(0,o.useEffect)((function(){return u?"open"!==r?(n(),d(!1),cb):t.current?cb:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):cb}),[r,u,n]);var p=Xh((function(e){"height"===e.propertyName&&(a(),"close"===r&&s())}),[r,s,a]),f=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?ub:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?fv.placeholder:null}}({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return i().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),pb=i().createContext(null),fb=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return qf(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i().PureComponent),hb=5e3,gb=4500,mb=function(e,t){return t?fv.drop(t.duration):e?fv.snap:fv.fluid},vb=function(e,t){return e?t?cv:uv:null};function yb(e){e.preventDefault()}var bb=function(e,t){return e===t},xb=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function wb(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Sb={mapped:{type:"SECONDARY",offset:Eg,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wb(null)}},Cb=Vh((function(){var e,t,n,r=(e=sg((function(e,t){return{x:e,y:t}})),t=sg((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=sg((function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=km(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=d.result,g=h.mode,m=xb(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),y={duration:r.dropDuration,curve:lv,moveTo:r.newHomeClientOffset,opacity:v?cv:null,scale:v?dv:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:y,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,p,m,v,y)}}}return null}),o=function(){var e=sg((function(e,t){return{x:e,y:t}})),t=sg(wb),n=sg((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Eg,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Xg(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=Ng(a.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(l)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||Sb}}),{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:my,pure:!0,areStatePropsEqual:bb})((function(e){var t=(0,o.useRef)(null),n=Xh((function(e){t.current=e}),[]),r=Xh((function(){return t.current}),[]),i=sb(Cy),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=sb(pb),u=c.type,d=c.droppableId,p=Yh((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,g=e.isEnabled,m=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,x=e.dropAnimationFinished;y||function(e){var t=Sy("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=Yh((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=Xh((function(e){var t=i();return t||gg(!1),function(e,t,n){void 0===n&&(n=Eg);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=rg(o,r),a=ng(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),d=Yh((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),p=(0,o.useRef)(d),f=(0,o.useRef)(!0);uy((function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}}),[r.draggable]),uy((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}(Yh((function(){return{descriptor:p,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[p,l,r,v,m,g]));var w=Yh((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:yb}:null}),[a,s,h,g]),S=Xh((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&x()}),[x,b]),C=Yh((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?mv(n,i):gv(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:mb(a,o),transform:l,opacity:vb(i,s),zIndex:s?gb:hb,pointerEvents:"none"}}(e):{transform:gv((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(b),t="DRAGGING"===b.type&&b.dropping?S:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,h,b,S,n]),E=Yh((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(C,b.snapshot,E)}));function Eb(e){return sb(pb).isUsingCloneFor!==e.draggableId||e.isClone?i().createElement(Cb,e):null}function Pb(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i().createElement(Eb,Yf({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Rb=function(e,t){return e===t.droppable.type},Db=function(e,t){return t.draggables[e.draggable.id]},Nb={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||gg(!1),document.body}},Ib=Vh((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Yf({},e,{shouldAnimatePlaceholder:!1}),n=sg((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=sg((function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!Rb(a,c))return t;var u=Db(c,n.dimensions),d=km(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!Rb(a,p.critical))return t;var f=Db(p.critical,n.dimensions);return r(i,s,xb(p.result)===i,km(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!Rb(a,h.critical))return t;var g=km(h.impact)===i,m=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===i;return g?m?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:my,pure:!0,areStatePropsEqual:bb})((function(e){var t=(0,o.useContext)(Cy);t||gg(!1);var n=t.contextId,r=t.isMovementAllowed,a=(0,o.useRef)(null),s=(0,o.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,g=e.isCombineEnabled,m=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,x=Xh((function(){return a.current}),[]),w=Xh((function(e){a.current=e}),[]),S=(Xh((function(){return s.current}),[]),Xh((function(e){s.current=e}),[])),C=Xh((function(){r()&&y({maxScroll:jv()})}),[r,y]);!function(e){var t=(0,o.useRef)(null),n=sb(Cy),r=Sy("droppable"),i=n.registry,a=n.marshal,s=Ey(e),l=Yh((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,o.useRef)(l),u=Yh((function(){return sg((function(e,n){t.current||gg(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),d=Xh((function(){var e=t.current;return e&&e.env.closestScrollable?nb(e.env.closestScrollable):Eg}),[]),p=Xh((function(){var e=d();u(e.x,e.y)}),[d,u]),f=Yh((function(){return lg(p)}),[p]),h=Xh((function(){var e=t.current,n=lb(e);e&&n||gg(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),g=Xh((function(e,r){t.current&&gg(!1);var o=s.current,i=o.getDroppableRef();i||gg(!1);var a,c={closestScrollable:tb(a=i),isFixedOnPage:rb(a)},u={ref:i,descriptor:l,env:c,scrollOptions:r};t.current=u;var d=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=og(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=Zh({top:r,right:a,bottom:i,left:o},n.border);return Qh({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=ng(u,o),p=function(){if(!c)return null;var e=og(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:ng(e,o),scroll:nb(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=_v({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Eg,displacement:Eg}}}}(),u="vertical"===i?rm:om;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Tg({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:p});return f}({ref:i,descriptor:l,env:c,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),p=c.closestScrollable;return p&&(p.setAttribute(sy.contextId,n.contextId),p.addEventListener("scroll",h,ab(u.scrollOptions))),d}),[n.contextId,l,h,s]),m=Xh((function(){var e=t.current,n=lb(e);return e&&n||gg(!1),nb(n)}),[]),v=Xh((function(){var e=t.current;e||gg(!1);var n=lb(e);t.current=null,n&&(f.cancel(),n.removeAttribute(sy.contextId),n.removeEventListener("scroll",h,ab(e.scrollOptions)))}),[h,f]),y=Xh((function(e){var n=t.current;n||gg(!1);var r=lb(n);r||gg(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=Yh((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y}}),[v,g,m,y]),x=Yh((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);uy((function(){return c.current=x.descriptor,i.droppable.register(x),function(){t.current&&v(),i.droppable.unregister(x)}}),[b,l,v,x,a,i.droppable]),uy((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),uy((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:x});var E=i().createElement(fb,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i().createElement(db,{placeholder:r,onClose:t,innerRef:S,animate:o,contextId:n,onTransitionEnd:C})})),P=Yh((function(){return{innerRef:w,placeholder:E,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,E,w]),R=v?v.dragging.draggableId:null,D=Yh((function(){return{droppableId:c,type:u,isUsingCloneFor:R}}),[c,R,u]);return i().createElement(pb.Provider,{value:D},l(P,m),function(){if(!v)return null;var e=v.dragging,t=v.render,n=i().createElement(Eb,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return wa().createPortal(n,b())}())}));Ib.defaultProps=Nb;const kb=({stepId:e,onNotice:t})=>{const[n,r]=(0,o.useState)([]),[i,s]=(0,o.useState)(!0);(0,o.useEffect)((()=>{u()}),[]);const u=()=>{s(!0),l()({path:`/obatala/v1/process_step/${e}/meta`}).then((e=>{const t=Array.isArray(e)?e:[e];r(t),s(!1)})).catch((e=>{console.error("Error fetching metadata:",e),t({status:"error",message:"Error fetching metadata."}),s(!1)}))};return i?(0,c.jsx)(a.Spinner,{}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:"Metadata fields"}),(0,c.jsx)("span",{className:"badge",children:n.length})]}),(0,c.jsx)(a.PanelRow,{children:(0,c.jsx)(Zy,{onDragEnd:async o=>{if(!o.destination)return;const i=Array.from(n),[a]=i.splice(o.source.index,1);i.splice(o.destination.index,0,a),r(i);try{await l()({path:`/obatala/v1/process_step/${e}/meta`,method:"POST",data:{meta_fields:i}}),t({status:"success",message:"Metadata order updated successfully."})}catch(e){console.error("Error updating metadata order:",e),t({status:"error",message:"Error updating metadata order."})}},children:(0,c.jsx)(Ib,{droppableId:"meta-fields-list",children:o=>(0,c.jsxs)("ul",{className:"steps-list",...o.droppableProps,ref:o.innerRef,children:[n.length>0?n.map(((o,i)=>(0,c.jsx)(Pb,{draggableId:`${o.title}-${i}`,index:i,children:s=>(0,c.jsxs)("li",{className:"step-item",ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,children:[(0,c.jsx)("span",{className:"step-number",children:i+1}),(0,c.jsx)("h4",{children:o.title}),(0,c.jsxs)("dl",{className:"description-list",children:[(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:"Type:"}),(0,c.jsx)("dd",{children:o.type})]}),o.value&&(0,c.jsxs)("div",{className:"list-item",children:[(0,c.jsx)("dt",{children:"Value:"}),(0,c.jsx)("dd",{children:o.value})]})]}),(0,c.jsx)(a.ButtonGroup,{children:(0,c.jsx)(a.Tooltip,{text:"Delete Field",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:w}),onClick:()=>(async o=>{const i=n.filter(((e,t)=>t!==o));try{await l()({path:`/obatala/v1/process_step/${e}/meta`,method:"POST",data:{meta_fields:i}}),r(i),t({status:"success",message:"Field removed successfully."})}catch(e){console.error("Error removing field:",e),t({status:"error",message:"Error removing field."})}})(i)})})})]})},`${o.title}-${i}`))):(0,c.jsx)(a.Notice,{status:"warning",children:"No metadata fields found."}),o.placeholder]})})})})]})})},_b=()=>{const e=new URLSearchParams(window.location.search).get("step_id"),[t,n]=(0,o.useState)(""),[r,i]=(0,o.useState)(null),[s,u]=(0,o.useState)(!0);(0,o.useEffect)((()=>{d()}),[]);const d=()=>{u(!0),l()({path:`/obatala/v1/process_step/${e}`}).then((e=>{n(e.title.rendered||""),u(!1)})).catch((e=>{console.error("Error fetching step data:",e),i({status:"error",message:"Error fetching step data."}),u(!1)}))};return s?(0,c.jsx)(a.Spinner,{}):(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsxs)("h2",{children:["Edit Process Step: ",t]}),(0,c.jsxs)("div",{className:"panel-container",children:[(0,c.jsxs)("main",{children:[r&&(0,c.jsx)(a.Notice,{status:r.status,isDismissible:!0,onRemove:()=>i(null),children:r.message}),(0,c.jsx)(kb,{stepId:e,onNotice:i})]}),(0,c.jsx)("aside",{children:(0,c.jsxs)(a.Panel,{children:[(0,c.jsx)(a.PanelHeader,{children:(0,c.jsx)("h3",{children:"Manage data"})}),(0,c.jsx)(a.PanelBody,{title:"Edit main data",initialOpen:!1,children:(0,c.jsxs)(a.PanelRow,{children:[(0,c.jsx)(a.TextControl,{label:"Step Title",value:t,onChange:e=>n(e)}),(0,c.jsx)(a.Button,{variant:"primary",onClick:()=>{if(!t)return void i({status:"error",message:"Step Title field cannot be empty."});const n={title:t};l()({path:`/obatala/v1/process_step/${e}`,method:"PUT",data:n}).then((()=>{i({status:"success",message:"Step updated successfully."})})).catch((e=>{console.error("Error updating process step:",e),i({status:"error",message:"Error updating process step."})}))},children:"Save"})]})}),(0,c.jsx)(Vf,{stepId:e,onMetaFieldAdded:e=>{i({status:"success",message:"Metadata field added successfully."}),d()}})]})})]})]})},Mb=({onSave:e,editingSector:t,onCancel:n})=>{const[r,i]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[u,d]=(0,o.useState)(null);return(0,o.useEffect)((()=>{t&&(i(t.title.rendered),l(Array.isArray(t.meta.sector_description)?t.meta.sector_description[0]:t.meta.sector_description||""))}),[t]),(0,c.jsxs)(c.Fragment,{children:[u&&(0,c.jsx)(a.Notice,{status:u.status,isDismissible:!0,onRemove:()=>d(null),children:u.message}),(0,c.jsx)(a.TextControl,{label:"Title",value:r,onChange:e=>i(e)}),(0,c.jsx)(a.TextControl,{label:"Description",value:s,onChange:e=>l(e)}),(0,c.jsxs)(a.ButtonGroup,{children:[(0,c.jsx)(a.Button,{variant:"link",onClick:()=>{n(),i(""),l("")},children:"Cancel"}),(0,c.jsx)(a.Button,{variant:"primary",onClick:async t=>{if(t.preventDefault(),!r)return void d({status:"error",message:"Title is required."});const n={title:r,status:"publish",meta:{description:s}};try{await e(n),d({status:"success",message:"Sector saved successfully."})}catch(e){console.log(e),d({status:"error",message:"Error saving sector."})}},children:"Save"})]})]})},jb=({sectors:e,onEdit:t})=>{const n=(0,o.useMemo)((()=>e),[e]);return(0,c.jsxs)(a.Panel,{children:[(0,c.jsxs)(a.PanelHeader,{children:[(0,c.jsx)("h3",{children:"Existing sectors"}),(0,c.jsx)("span",{className:"badge",children:n.length})]}),(0,c.jsx)(a.PanelRow,{children:n.length>0?(0,c.jsxs)("table",{className:"wp-list-table widefat fixed striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Title"}),(0,c.jsx)("th",{children:"Description"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:n.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.title.rendered}),(0,c.jsx)("td",{children:e.meta.sector_description}),(0,c.jsx)("td",{children:(0,c.jsx)(a.ButtonGroup,{children:(0,c.jsx)(a.Tooltip,{text:"Edit",children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(a.Icon,{icon:h}),onClick:()=>t(e)})})})})]},e.id)))})]}):(0,c.jsx)(a.Notice,{isDismissible:!1,status:"warning",children:"No existing sectors."})})]})},Ob=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[i,s]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)(null);(0,o.useEffect)((()=>{g()}),[]);const g=()=>{d(!0),l()({path:"/obatala/v1/sector_obatala?per_page=100"}).then((e=>{const n=e.sort(((e,t)=>e.title.rendered.localeCompare(t.title.rendered)));t(n),d(!1)})).catch((e=>{console.error("Error fetching sectors:",e),d(!1)}))},m=async e=>{d(!0);try{let t;t=n?await y(e,n):await y(e);const o={description:e.meta.description||""};await((e,t)=>l()({path:`/obatala/v1/sector_obatala/${e}/meta`,method:"POST",data:t}))(t.id,o),h({status:"success",message:"Sector saved successfully."}),r(null),s(null),g()}catch(e){console.error("Error saving sector:",e),h({status:"error",message:"Error saving sector."}),d(!1)}},v=()=>{r(null),s(null)};return u?(0,c.jsx)(a.Spinner,{}):(0,c.jsxs)("main",{children:[(0,c.jsxs)("span",{className:"brand",children:[(0,c.jsx)("strong",{children:"Obatala"})," Curatorial Process Management"]}),(0,c.jsxs)("div",{className:"title-container",children:[(0,c.jsx)("h2",{children:"Sector manager"}),(0,c.jsx)(a.ButtonGroup,{children:(0,c.jsx)(a.Button,{variant:"primary",icon:(0,c.jsx)(a.Icon,{icon:p}),onClick:()=>{s(!0)},children:"Add new"})})]}),f&&(0,c.jsx)("div",{className:"notice-container",children:(0,c.jsx)(a.Notice,{status:f.status,isDismissible:!0,onRemove:()=>h(null),children:f.message})}),(0,c.jsx)(jb,{sectors:e,onEdit:e=>{r(e)}}),n&&(0,c.jsx)(a.Modal,{title:"Edit Sector",onRequestClose:v,isDismissible:!0,children:(0,c.jsx)(Mb,{onSave:m,editingSector:n,onCancel:v})}),i&&(0,c.jsx)(a.Modal,{title:"Add sector",onRequestClose:v,isDismissible:!0,children:(0,c.jsx)(Mb,{onSave:m,onCancel:v})})]})},Ab=e=>{window.location.href=`?page=process-viewer&process_id=${e}`};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("process-manager"),t=document.getElementById("process-type-manager"),n=document.getElementById("process-step-manager"),o=document.getElementById("process-viewer"),i=document.getElementById("process-type-editor"),a=document.getElementById("process-step-editor"),s=document.getElementById("sector-manager");e&&(0,r.H)(e).render((0,c.jsx)(g,{onSelectProcess:Ab})),t&&(0,r.H)(t).render((0,c.jsx)(fe,{})),n&&(0,r.H)(n).render((0,c.jsx)(me,{})),o&&(0,r.H)(o).render((0,c.jsx)(xe,{})),i&&(0,r.H)(i).render((0,c.jsx)(Gf,{})),a&&(0,r.H)(a).render((0,c.jsx)(_b,{})),s&&(0,r.H)(s).render((0,c.jsx)(Ob,{}))}))},146:(e,t,n)=>{"use strict";var r=n(404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(e){}}}}return t}},72:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case m:case g:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},404:(e,t,n)=>{"use strict";e.exports=n(72)},668:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,o=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),c=new t(512);function u(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(a,"$2")})))}function d(e){return e.match(n)||[""]}function p(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function f(e){return!p(e)&&(function(e){return e.match(o)&&!e.match(r)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,o=t.length,i=e;r<o-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[r++]]}i[t[r]]=n}))},getter:function(e,t){var n=u(e);return c.get(e)||c.set(e,(function(e){for(var r=0,o=n.length;r<o;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(p(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,o,i,a,s=e.length;for(o=0;o<s;o++)(r=e[o])&&(f(r)&&(r='"'+r+'"'),i=!(a=p(r))&&/^\d+$/.test(r),t.call(n,r,a,i,o,e))}(Array.isArray(e)?e:d(e),t,n)}}},338:(e,t,n)=>{"use strict";var r=n(795);t.H=r.createRoot,r.hydrateRoot},989:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,p=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;n=h("react.element"),r=h("react.portal"),o=h("react.fragment"),i=h("react.strict_mode"),a=h("react.profiler"),s=h("react.provider"),l=h("react.context"),c=h("react.forward_ref"),u=h("react.suspense"),d=h("react.suspense_list"),p=h("react.memo"),f=h("react.lazy"),h("react.block"),h("react.server.block"),h("react.fundamental"),h("react.debug_trace_mode"),h("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case p:case s:return e;default:return t}}case r:return t}}}(e)===l}},737:(e,t,n)=>{"use strict";e.exports=n(989)},829:function(e,t,n){!function(e,t){"use strict";function n(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,l,"next",e)}function l(e){n(a,o,i,s,l,"throw",e)}s(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s={init:"init"},l=function(e){var t=e.value;return void 0===t?"":t},c=function(){return t.createElement(t.Fragment,null," ")},u={Cell:l,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=o({},e,{},i(t,["style","className"])),n&&(e.style=e.style?o({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?d.apply(void 0,[t].concat(n)):d(t,n)}(e,r,o({},t,{userProps:n}))}),{})}},f=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},h=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function g(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function m(e,t){return"function"==typeof e?e(t):e}function v(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var y="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function b(e,n){var r=t.useRef(!1);y((function(){r.current&&e(),r.current=!0}),n)}function x(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var a="string"==typeof r?t[r]:r;if(void 0===a)throw console.info(t),new Error("Renderer Error ☝️");return w(a,o({},e,{column:t},n,{},i))}}function w(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function S(e,t,n){return void 0===n&&(n=0),e.map((function(e){return E(e=o({},e,{parent:t,depth:n})),e.columns&&(e.columns=S(e.columns,e,n+1)),e}))}function C(e){return I(e,"columns")}function E(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var o=n.split(".");n=function(e){return function(e,t){if(!t)return e;var n,r="function"==typeof t?t:JSON.stringify(t),o=R.get(r)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(A,".").replace(T,"").split(".")}(t);return R.set(r,e),e}();try{n=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==n?n:void 0}(e,o)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function P(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:c,Footer:c},u,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}var R=new Map;function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function N(e){if("function"==typeof e)return e}function I(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function k(e,t){var n=t.manualExpandedKey,r=t.expanded,o=t.expandSubRows,i=void 0===o||o,a=[];return e.forEach((function(e){return function e(t,o){void 0===o&&(o=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,o&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,i)}))}(e)})),a}function _(e,t,n){return N(e)||t[e]||n[e]||n.text}function M(e,t,n){return e?e(t,n):void 0===t}function j(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var O=null,A=/\[/g,T=/\]/g,B=function(e){return o({role:"table"},e)},L=function(e){return o({role:"rowgroup"},e)},F=function(e,t){var n=t.column;return o({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},z=function(e,t){var n=t.column;return o({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},$=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},H=function(e,t){return o({key:"footerGroup_"+t.index},e)},G=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},V=function(e,t){var n=t.cell;return o({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function W(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[B],getTableBodyProps:[L],getHeaderGroupProps:[$],getFooterGroupProps:[H],getHeaderProps:[F],getFooterProps:[z],getRowProps:[G],getCellProps:[V],useFinalInstance:[]}}s.resetHiddenColumns="resetHiddenColumns",s.toggleHideColumn="toggleHideColumn",s.setHiddenColumns="setHiddenColumns",s.toggleHideAllColumns="toggleHideAllColumns";var q=function(e){e.getToggleHiddenProps=[Y],e.getToggleHideAllColumnsProps=[X],e.stateReducers.push(U),e.useInstanceBeforeDimensions.push(Z),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(K)};q.pluginName="useColumnVisibility";var Y=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},X=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function U(e,t,n,r){if(t.type===s.init)return o({hiddenColumns:[]},e);if(t.type===s.resetHiddenColumns)return o({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===s.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===s.setHiddenColumns?o({},e,{hiddenColumns:m(t.value,e.hiddenColumns)}):t.type===s.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function Z(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var o=0;n.forEach((function(e){return o+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var o=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return o+=e(n,t.isVisible)})):o=t.isVisible?1:0,t.totalVisibleHeaderCount=o,o}(e,!0)}))}function K(e){var n=e.columns,r=e.flatHeaders,o=e.dispatch,i=e.allColumns,a=e.getHooks,l=e.state.hiddenColumns,c=e.autoResetHiddenColumns,u=void 0===c||c,d=v(e),f=i.length===l.length,h=t.useCallback((function(e,t){return o({type:s.toggleHideColumn,columnId:e,value:t})}),[o]),g=t.useCallback((function(e){return o({type:s.setHiddenColumns,value:e})}),[o]),m=t.useCallback((function(e){return o({type:s.toggleHideAllColumns,value:e})}),[o]),y=p(a().getToggleHideAllColumnsProps,{instance:d()});r.forEach((function(e){e.toggleHidden=function(t){o({type:s.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(a().getToggleHiddenProps,{instance:d(),column:e})}));var x=v(u);b((function(){x()&&o({type:s.resetHiddenColumns})}),[o,n]),Object.assign(e,{allColumnsHidden:f,toggleHideColumn:h,setHiddenColumns:g,toggleHideAllColumns:m,getToggleHideAllColumnsProps:y})}var J={},Q={},ee=function(e,t,n){return e},te=function(e,t){return e.subRows||[]},ne=function(e,t,n){return""+(n?[n.id,t].join("."):t)},re=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?J:t,r=e.defaultColumn,a=void 0===r?Q:r,s=e.getSubRows,l=void 0===s?te:s,c=e.getRowId,u=void 0===c?ne:c,d=e.stateReducer,p=void 0===d?ee:d,f=e.useControlledState,h=void 0===f?re:f;return o({},i(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:a,getSubRows:l,getRowId:u,stateReducer:p,useControlledState:h})}function ie(e,t){void 0===t&&(t=0);var n=0,r=0,o=0,i=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var s=ie(a,t),l=s[0],c=s[1],u=s[2],d=s[3];e.totalMinWidth=l,e.totalWidth=c,e.totalMaxWidth=u,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,o+=e.totalMaxWidth,i+=e.totalFlexWidth)})),[n,r,o,i]}function ae(e){var t=e.data,n=e.rows,r=e.flatRows,o=e.rowsById,i=e.column,a=e.getRowId,s=e.getSubRows,l=e.accessValueHooks,c=e.getInstance;t.forEach((function(e,u){return function e(n,u,d,p,h){void 0===d&&(d=0);var g=n,m=a(n,u,p),v=o[m];if(v)v.subRows&&v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v)}));else if((v={id:m,original:g,index:u,depth:d,cells:[{}]}).cells.map=j,v.cells.filter=j,v.cells.forEach=j,v.cells[0].getCellProps=j,v.values={},h.push(v),r.push(v),o[m]=v,v.originalSubRows=s(n,u),v.originalSubRows){var y=[];v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v,y)})),v.subRows=y}i.accessor&&(v.values[i.id]=i.accessor(n,u,v,h,t)),v.values[i.id]=f(l,v.values[i.id],{row:v,column:i,instance:c()})}(e,u,0,void 0,n)}))}s.resetExpanded="resetExpanded",s.toggleRowExpanded="toggleRowExpanded",s.toggleAllRowsExpanded="toggleAllRowsExpanded";var se=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[ce],e.stateReducers.push(ue),e.useInstance.push(de),e.prepareRow.push(pe)};se.pluginName="useExpanded";var le=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ce=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function ue(e,t,n,r){if(t.type===s.init)return o({expanded:{}},e);if(t.type===s.resetExpanded)return o({},e,{expanded:r.initialState.expanded||{}});if(t.type===s.toggleAllRowsExpanded){var l=t.value,c=r.rowsById,u=Object.keys(c).length===Object.keys(e.expanded).length;if(void 0!==l?l:!u){var d={};return Object.keys(c).forEach((function(e){d[e]=!0})),o({},e,{expanded:d})}return o({},e,{expanded:{}})}if(t.type===s.toggleRowExpanded){var p,f=t.id,h=t.value,g=e.expanded[f],m=void 0!==h?h:!g;if(!g&&m)return o({},e,{expanded:o({},e.expanded,(p={},p[f]=!0,p))});if(g&&!m){var v=e.expanded;return v[f],o({},e,{expanded:i(v,[f].map(a))})}return e}}function de(e){var n=e.data,r=e.rows,o=e.rowsById,i=e.manualExpandedKey,a=void 0===i?"expanded":i,l=e.paginateExpandedRows,c=void 0===l||l,u=e.expandSubRows,d=void 0===u||u,f=e.autoResetExpanded,h=void 0===f||f,m=e.getHooks,y=e.plugins,x=e.state.expanded,w=e.dispatch;g(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var S=v(h),C=Boolean(Object.keys(o).length&&Object.keys(x).length);C&&Object.keys(o).some((function(e){return!x[e]}))&&(C=!1),b((function(){S()&&w({type:s.resetExpanded})}),[w,n]);var E=t.useCallback((function(e,t){w({type:s.toggleRowExpanded,id:e,value:t})}),[w]),P=t.useCallback((function(e){return w({type:s.toggleAllRowsExpanded,value:e})}),[w]),R=t.useMemo((function(){return c?k(r,{manualExpandedKey:a,expanded:x,expandSubRows:d}):r}),[c,r,a,x,d]),D=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(x)}),[x]),N=v(e),I=p(m().getToggleAllRowsExpandedProps,{instance:N()});Object.assign(e,{preExpandedRows:r,expandedRows:R,rows:R,expandedDepth:D,isAllRowsExpanded:C,toggleRowExpanded:E,toggleAllRowsExpanded:P,getToggleAllRowsExpandedProps:I})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(n().getToggleRowExpandedProps,{instance:r,row:e})}var fe=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};fe.autoRemove=function(e){return!e};var he=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};he.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ge.autoRemove=function(e){return!e};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};me.autoRemove=function(e){return!e||!e.length};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};ve.autoRemove=function(e){return!e||!e.length};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};ye.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};be.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};xe.autoRemove=function(e){return void 0===e};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};we.autoRemove=function(e){return null==e};var Se=function(e,t,n){var r=n||[],o=r[0],i=r[1];if((o="number"==typeof o?o:-1/0)>(i="number"==typeof i?i:1/0)){var a=o;o=i,i=a}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=o&&n<=i}))}))};Se.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Ce=Object.freeze({__proto__:null,text:fe,exactText:he,exactTextCase:ge,includes:me,includesAll:ve,includesSome:ye,includesValue:be,exact:xe,equals:we,between:Se});s.resetFilters="resetFilters",s.setFilter="setFilter",s.setAllFilters="setAllFilters";var Ee=function(e){e.stateReducers.push(Pe),e.useInstance.push(Re)};function Pe(e,t,n,r){if(t.type===s.init)return o({filters:[]},e);if(t.type===s.resetFilters)return o({},e,{filters:r.initialState.filters||[]});if(t.type===s.setFilter){var i=t.columnId,a=t.filterValue,l=r.allColumns,c=r.filterTypes,u=l.find((function(e){return e.id===i}));if(!u)throw new Error("React-Table: Could not find a column with id: "+i);var d=_(u.filter,c||{},Ce),p=e.filters.find((function(e){return e.id===i})),f=m(a,p&&p.value);return M(d.autoRemove,f,u)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,p?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:f}:e}))}:{filters:[].concat(e.filters,[{id:i,value:f}])})}if(t.type===s.setAllFilters){var h=t.filters,g=r.allColumns,v=r.filterTypes;return o({},e,{filters:m(h,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!M(_(t.filter,v||{},Ce).autoRemove,e.value,t)}))})}}function Re(e){var n=e.data,r=e.rows,o=e.flatRows,i=e.rowsById,a=e.allColumns,l=e.filterTypes,c=e.manualFilters,u=e.defaultCanFilter,d=void 0!==u&&u,p=e.disableFilters,f=e.state.filters,h=e.dispatch,g=e.autoResetFilters,m=void 0===g||g,y=t.useCallback((function(e,t){h({type:s.setFilter,columnId:e,filterValue:t})}),[h]),x=t.useCallback((function(e){h({type:s.setAllFilters,filters:e})}),[h]);a.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,o=e.disableFilters;e.canFilter=n?D(!0!==o&&void 0,!0!==p&&void 0,!0):D(r,d,!1),e.setFilter=function(t){return y(e.id,t)};var i=f.find((function(e){return e.id===t}));e.filterValue=i&&i.value}));var w=t.useMemo((function(){if(c||!f.length)return[r,o,i];var e=[],t={};return[function n(r,o){void 0===o&&(o=0);var i=r;return(i=f.reduce((function(e,t){var n=t.id,r=t.value,i=a.find((function(e){return e.id===n}));if(!i)return e;0===o&&(i.preFilteredRows=e);var s=_(i.filter,l||{},Ce);return s?(i.filteredRows=s(e,[n],r),i.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+i.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,o+1):r.subRows)})),i}(r),e,t]}),[c,f,r,o,i,a,l]),S=w[0],C=w[1],E=w[2];t.useMemo((function(){a.filter((function(e){return!f.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=S,e.filteredRows=S}))}),[S,f,a]);var P=v(m);b((function(){P()&&h({type:s.resetFilters})}),[h,c?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:o,preFilteredRowsById:i,filteredRows:S,filteredFlatRows:C,filteredRowsById:E,rows:S,flatRows:C,rowsById:E,setFilter:y,setAllFilters:x})}Ee.pluginName="useFilters",s.resetGlobalFilter="resetGlobalFilter",s.setGlobalFilter="setGlobalFilter";var De=function(e){e.stateReducers.push(Ne),e.useInstance.push(Ie)};function Ne(e,t,n,r){if(t.type===s.resetGlobalFilter)return o({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===s.setGlobalFilter){var a=t.filterValue,l=r.userFilterTypes,c=_(r.globalFilter,l||{},Ce),u=m(a,e.globalFilter);return M(c.autoRemove,u)?(e.globalFilter,i(e,["globalFilter"])):o({},e,{globalFilter:u})}}function Ie(e){var n=e.data,r=e.rows,o=e.flatRows,i=e.rowsById,a=e.allColumns,l=e.filterTypes,c=e.globalFilter,u=e.manualGlobalFilter,d=e.state.globalFilter,p=e.dispatch,f=e.autoResetGlobalFilter,h=void 0===f||f,g=e.disableGlobalFilter,m=t.useCallback((function(e){p({type:s.setGlobalFilter,filterValue:e})}),[p]),y=t.useMemo((function(){if(u||void 0===d)return[r,o,i];var e=[],t={},n=_(c,l||{},Ce);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=D(!0!==t&&void 0,!0!==g&&void 0,!0)}));var s=a.filter((function(e){return!0===e.canFilter}));return[function r(o){return(o=n(o,s.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),o}(r),e,t]}),[u,d,c,l,a,r,o,i,g]),x=y[0],w=y[1],S=y[2],C=v(h);b((function(){C()&&p({type:s.resetGlobalFilter})}),[p,u?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:o,preGlobalFilteredRowsById:i,globalFilteredRows:x,globalFilteredFlatRows:w,globalFilteredRowsById:S,rows:x,flatRows:w,rowsById:S,setGlobalFilter:m,disableGlobalFilter:g})}function ke(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}De.pluginName="useGlobalFilter";var _e=Object.freeze({__proto__:null,sum:ke,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return ke(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Me=[],je={};s.resetGroupBy="resetGroupBy",s.setGroupBy="setGroupBy",s.toggleGroupBy="toggleGroupBy";var Oe=function(e){e.getGroupByToggleProps=[Ae],e.stateReducers.push(Te),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Be),e.useInstance.push(Fe),e.prepareRow.push(ze)};Oe.pluginName="useGroupBy";var Ae=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Te(e,t,n,r){if(t.type===s.init)return o({groupBy:[]},e);if(t.type===s.resetGroupBy)return o({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===s.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===s.toggleGroupBy){var i=t.columnId,a=t.value,l=void 0!==a?a:!e.groupBy.includes(i);return o({},e,l?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Be(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),o=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,o)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Le={};function Fe(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.rowsById,l=e.allColumns,c=e.flatHeaders,u=e.groupByFn,d=void 0===u?$e:u,f=e.manualGroupBy,h=e.aggregations,m=void 0===h?Le:h,y=e.plugins,x=e.state.groupBy,w=e.dispatch,S=e.autoResetGroupBy,C=void 0===S||S,E=e.disableGroupBy,P=e.defaultCanGroupBy,R=e.getHooks;g(y,["useColumnOrder","useFilters"],"useGroupBy");var N=v(e);l.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,o=t.disableGroupBy;t.canGroupBy=n?D(t.canGroupBy,!0!==o&&void 0,!0!==E&&void 0,!0):D(t.canGroupBy,r,P,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var k=t.useCallback((function(e,t){w({type:s.toggleGroupBy,columnId:e,value:t})}),[w]),_=t.useCallback((function(e){w({type:s.setGroupBy,value:e})}),[w]);c.forEach((function(e){e.getGroupByToggleProps=p(R().getGroupByToggleProps,{instance:N(),header:e})}));var M=t.useMemo((function(){if(f||!x.length)return[r,i,a,Me,je,i,a];var e=x.filter((function(e){return l.find((function(t){return t.id===e}))})),t=[],n={},s=[],c={},u=[],p={},h=function r(i,a,f){if(void 0===a&&(a=0),a===e.length)return i.map((function(e){return o({},e,{depth:a})}));var h=e[a],g=d(i,h);return Object.entries(g).map((function(o,i){var d=o[0],g=o[1],v=h+":"+d,y=r(g,a+1,v=f?f+">"+v:v),b=a?I(g,"leafRows"):g,x=function(t,n,r){var o={};return l.forEach((function(i){if(e.includes(i.id))o[i.id]=n[0]?n[0].values[i.id]:null;else{var a="function"==typeof i.aggregate?i.aggregate:m[i.aggregate]||_e[i.aggregate];if(a){var s=n.map((function(e){return e.values[i.id]})),l=t.map((function(e){var t=e.values[i.id];if(!r&&i.aggregateValue){var n="function"==typeof i.aggregateValue?i.aggregateValue:m[i.aggregateValue]||_e[i.aggregateValue];if(!n)throw console.info({column:i}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,i)}return t}));o[i.id]=a(l,s)}else{if(i.aggregate)throw console.info({column:i}),new Error("React Table: Invalid column.aggregate option for column listed above");o[i.id]=null}}})),o}(b,g,a),w={id:v,isGrouped:!0,groupByID:h,groupByVal:d,values:x,subRows:y,leafRows:b,depth:a,index:i};return y.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),c[e.id]=e):(u.push(e),p[e.id]=e)})),w}))}(r);return h.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(s.push(e),c[e.id]=e):(u.push(e),p[e.id]=e)})),[h,t,n,s,c,u,p]}),[f,x,r,i,a,l,m,d]),j=M[0],O=M[1],A=M[2],T=M[3],B=M[4],L=M[5],F=M[6],z=v(C);b((function(){z()&&w({type:s.resetGroupBy})}),[w,f?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:a,groupedRows:j,groupedFlatRows:O,groupedRowsById:A,onlyGroupedFlatRows:T,onlyGroupedRowsById:B,nonGroupedFlatRows:L,nonGroupedRowsById:F,rows:j,flatRows:O,rowsById:A,toggleGroupBy:k,setGroupBy:_})}function ze(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function $e(e,t){return e.reduce((function(e,n,r){var o=""+n.values[t];return e[o]=Array.isArray(e[o])?e[o]:[],e[o].push(n),e}),{})}var He=/([0-9]+)/gm;function Ge(e,t){return e===t?0:e>t?1:-1}function Ve(e,t,n){return[e.values[n],t.values[n]]}function We(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ve(e,t,n),o=r[0],i=r[1];for(o=We(o),i=We(i),o=o.split(He).filter(Boolean),i=i.split(He).filter(Boolean);o.length&&i.length;){var a=o.shift(),s=i.shift(),l=parseInt(a,10),c=parseInt(s,10),u=[l,c].sort();if(isNaN(u[0])){if(a>s)return 1;if(s>a)return-1}else{if(isNaN(u[1]))return isNaN(l)?-1:1;if(l>c)return 1;if(c>l)return-1}}return o.length-i.length},datetime:function(e,t,n){var r=Ve(e,t,n),o=r[0],i=r[1];return Ge(o=o.getTime(),i=i.getTime())},basic:function(e,t,n){var r=Ve(e,t,n);return Ge(r[0],r[1])},string:function(e,t,n){var r=Ve(e,t,n),o=r[0],i=r[1];for(o=o.split("").filter(Boolean),i=i.split("").filter(Boolean);o.length&&i.length;){var a=o.shift(),s=i.shift(),l=a.toLowerCase(),c=s.toLowerCase();if(l>c)return 1;if(c>l)return-1;if(a>s)return 1;if(s>a)return-1}return o.length-i.length},number:function(e,t,n){var r=Ve(e,t,n),o=r[0],i=r[1],a=/[^0-9.]/gi;return Ge(o=Number(String(o).replace(a,"")),i=Number(String(i).replace(a,"")))}});s.resetSortBy="resetSortBy",s.setSortBy="setSortBy",s.toggleSortBy="toggleSortBy",s.clearSortBy="clearSortBy",u.sortType="alphanumeric",u.sortDescFirst=!1;var Ye=function(e){e.getSortByToggleProps=[Xe],e.stateReducers.push(Ue),e.useInstance.push(Ze)};Ye.pluginName="useSortBy";var Xe=function(e,t){var n=t.instance,r=t.column,o=n.isMultiSortEvent,i=void 0===o?function(e){return e.shiftKey}:o;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&i(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Ue(e,t,n,r){if(t.type===s.init)return o({sortBy:[]},e);if(t.type===s.resetSortBy)return o({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===s.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===s.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===s.toggleSortBy){var i,a=t.columnId,l=t.desc,c=t.multi,u=r.allColumns,d=r.disableMultiSort,p=r.disableSortRemove,f=r.disableMultiRemove,h=r.maxMultiSortColCount,g=void 0===h?Number.MAX_SAFE_INTEGER:h,m=e.sortBy,v=u.find((function(e){return e.id===a})).sortDescFirst,y=m.find((function(e){return e.id===a})),b=m.findIndex((function(e){return e.id===a})),x=null!=l,w=[];return"toggle"!=(i=!d&&c?y?"toggle":"add":b!==m.length-1||1!==m.length?"replace":y?"toggle":"replace")||p||x||c&&f||!(y&&y.desc&&!v||!y.desc&&v)||(i="remove"),"replace"===i?w=[{id:a,desc:x?l:v}]:"add"===i?(w=[].concat(m,[{id:a,desc:x?l:v}])).splice(0,w.length-g):"toggle"===i?w=m.map((function(e){return e.id===a?o({},e,{desc:x?l:!y.desc}):e})):"remove"===i&&(w=m.filter((function(e){return e.id!==a}))),o({},e,{sortBy:w})}}function Ze(e){var n=e.data,r=e.rows,o=e.flatRows,i=e.allColumns,a=e.orderByFn,l=void 0===a?Ke:a,c=e.sortTypes,u=e.manualSortBy,d=e.defaultCanSort,f=e.disableSortBy,h=e.flatHeaders,m=e.state.sortBy,y=e.dispatch,x=e.plugins,w=e.getHooks,S=e.autoResetSortBy,C=void 0===S||S;g(x,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var E=t.useCallback((function(e){y({type:s.setSortBy,sortBy:e})}),[y]),P=t.useCallback((function(e,t,n){y({type:s.toggleSortBy,columnId:e,desc:t,multi:n})}),[y]),R=v(e);h.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,o=e.id,i=t?D(!0!==r&&void 0,!0!==f&&void 0,!0):D(d,n,!1);e.canSort=i,e.canSort&&(e.toggleSortBy=function(t,n){return P(e.id,t,n)},e.clearSortBy=function(){y({type:s.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(w().getSortByToggleProps,{instance:R(),column:e});var a=m.find((function(e){return e.id===o}));e.isSorted=!!a,e.sortedIndex=m.findIndex((function(e){return e.id===o})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var I=t.useMemo((function(){if(u||!m.length)return[r,o];var e=[],t=m.filter((function(e){return i.find((function(t){return t.id===e.id}))}));return[function n(r){var o=l(r,t.map((function(e){var t=i.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=N(n)||(c||{})[n]||qe[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=i.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return o.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),o}(r),e]}),[u,m,r,o,i,l,c]),k=I[0],_=I[1],M=v(C);b((function(){M()&&y({type:s.resetSortBy})}),[u?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:o,sortedRows:k,sortedFlatRows:_,rows:k,flatRows:_,setSortBy:E,toggleSortBy:P})}function Ke(e,t,n){return[].concat(e).sort((function(e,r){for(var o=0;o<t.length;o+=1){var i=t[o],a=!1===n[o]||"desc"===n[o],s=i(e,r);if(0!==s)return a?-s:s}return n[0]?e.index-r.index:r.index-e.index}))}s.resetPage="resetPage",s.gotoPage="gotoPage",s.setPageSize="setPageSize";var Je=function(e){e.stateReducers.push(Qe),e.useInstance.push(et)};function Qe(e,t,n,r){if(t.type===s.init)return o({pageSize:10,pageIndex:0},e);if(t.type===s.resetPage)return o({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===s.gotoPage){var i=r.pageCount,a=r.page,l=m(t.pageIndex,e.pageIndex),c=!1;return l>e.pageIndex?c=-1===i?a.length>=e.pageSize:l<i:l<e.pageIndex&&(c=l>-1),c?o({},e,{pageIndex:l}):e}if(t.type===s.setPageSize){var u=t.pageSize,d=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(d/u),pageSize:u})}}function et(e){var n=e.rows,r=e.autoResetPage,o=void 0===r||r,i=e.manualExpandedKey,a=void 0===i?"expanded":i,l=e.plugins,c=e.pageCount,u=e.paginateExpandedRows,d=void 0===u||u,p=e.expandSubRows,f=void 0===p||p,h=e.state,m=h.pageSize,y=h.pageIndex,x=h.expanded,w=h.globalFilter,S=h.filters,C=h.groupBy,E=h.sortBy,P=e.dispatch,R=e.data,D=e.manualPagination;g(l,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var N=v(o);b((function(){N()&&P({type:s.resetPage})}),[P,D?null:R,w,S,C,E]);var I=D?c:Math.ceil(n.length/m),_=t.useMemo((function(){return I>0?[].concat(new Array(I)).fill(null).map((function(e,t){return t})):[]}),[I]),M=t.useMemo((function(){var e;if(D)e=n;else{var t=m*y,r=t+m;e=n.slice(t,r)}return d?e:k(e,{manualExpandedKey:a,expanded:x,expandSubRows:f})}),[f,x,a,D,y,m,d,n]),j=y>0,O=-1===I?M.length>=m:y<I-1,A=t.useCallback((function(e){P({type:s.gotoPage,pageIndex:e})}),[P]),T=t.useCallback((function(){return A((function(e){return e-1}))}),[A]),B=t.useCallback((function(){return A((function(e){return e+1}))}),[A]),L=t.useCallback((function(e){P({type:s.setPageSize,pageSize:e})}),[P]);Object.assign(e,{pageOptions:_,pageCount:I,page:M,canPreviousPage:j,canNextPage:O,gotoPage:A,previousPage:T,nextPage:B,setPageSize:L})}Je.pluginName="usePagination",s.resetPivot="resetPivot",s.togglePivot="togglePivot";var tt=function(e){e.getPivotToggleProps=[rt],e.stateReducers.push(ot),e.useInstanceAfterData.push(it),e.allColumns.push(at),e.accessValue.push(st),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(ct),e.visibleColumns.push(ut),e.visibleColumnsDeps.push(dt),e.useInstance.push(pt),e.prepareRow.push(ft)};tt.pluginName="usePivotColumns";var nt=[],rt=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,r){if(t.type===s.init)return o({pivotColumns:nt},e);if(t.type===s.resetPivot)return o({},e,{pivotColumns:r.initialState.pivotColumns||nt});if(t.type===s.togglePivot){var i=t.columnId,a=t.value,l=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,l?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function it(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function at(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function st(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function lt(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),s=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),l=C(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=e(t+1,s,[].concat(r,[function(e){return e.values[i.id]===a}])),s})):s.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,o){if(r.every((function(e){return e(o)})))return o.values[e.id]}})}))}());return[].concat(e,l)}function ct(e,t){var n=t.instance.state,r=n.pivotColumns,o=n.groupBy;return[].concat(e,[r,o])}function ut(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function dt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,o=e.getHooks,i=e.plugins,a=e.dispatch,l=e.autoResetPivot,c=void 0===l||l,u=e.manaulPivot,d=e.disablePivot,f=e.defaultCanPivot;g(i,["useGroupBy"],"usePivotColumns");var h=v(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,o=t.disablePivot;t.canPivot=n?D(t.canPivot,!0!==o&&void 0,!0!==d&&void 0,!0):D(t.canPivot,r,f,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=p(o().getPivotToggleProps,{instance:h(),header:e})}));var m=v(c);b((function(){m()&&a({type:s.resetPivot})}),[a,u?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:s.togglePivot,columnId:e,value:t})}})}function ft(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}s.resetSelectedRows="resetSelectedRows",s.toggleAllRowsSelected="toggleAllRowsSelected",s.toggleRowSelected="toggleRowSelected",s.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ht=function(e){e.getToggleRowSelectedProps=[gt],e.getToggleAllRowsSelectedProps=[mt],e.getToggleAllPageRowsSelectedProps=[vt],e.stateReducers.push(yt),e.useInstance.push(bt),e.prepareRow.push(xt)};ht.pluginName="useRowSelect";var gt=function(e,t){var n=t.instance,r=t.row,o=n.manualRowSelectedKey,i=void 0===o?"isSelected":o;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},mt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},vt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function yt(e,t,n,r){if(t.type===s.init)return o({selectedRowIds:{}},e);if(t.type===s.resetSelectedRows)return o({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===s.toggleAllRowsSelected){var i=t.value,a=r.isAllRowsSelected,l=r.rowsById,c=r.nonGroupedRowsById,u=void 0===c?l:c,d=void 0!==i?i:!a,p=Object.assign({},e.selectedRowIds);return d?Object.keys(u).forEach((function(e){p[e]=!0})):Object.keys(u).forEach((function(e){delete p[e]})),o({},e,{selectedRowIds:p})}if(t.type===s.toggleRowSelected){var f=t.id,h=t.value,g=r.rowsById,m=r.selectSubRows,v=void 0===m||m,y=r.getSubRows,b=e.selectedRowIds[f],x=void 0!==h?h:!b;if(b===x)return e;var w=o({},e.selectedRowIds);return function e(t){var n=g[t];if(n&&(n.isGrouped||(x?w[t]=!0:delete w[t]),v&&y(n)))return y(n).forEach((function(t){return e(t.id)}))}(f),o({},e,{selectedRowIds:w})}if(t.type===s.toggleAllPageRowsSelected){var S=t.value,C=r.page,E=r.rowsById,P=r.selectSubRows,R=void 0===P||P,D=r.isAllPageRowsSelected,N=r.getSubRows,I=void 0!==S?S:!D,k=o({},e.selectedRowIds);return C.forEach((function(e){return function e(t){var n=E[t];if(n.isGrouped||(I?k[t]=!0:delete k[t]),R&&N(n))return N(n).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:k})}return e}function bt(e){var n=e.data,r=e.rows,o=e.getHooks,i=e.plugins,a=e.rowsById,l=e.nonGroupedRowsById,c=void 0===l?a:l,u=e.autoResetSelectedRows,d=void 0===u||u,f=e.state.selectedRowIds,h=e.selectSubRows,m=void 0===h||h,y=e.dispatch,x=e.page,w=e.getSubRows;g(i,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var S=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=m?function e(t,n,r){if(n[t.id])return!0;var o=r(t);if(o&&o.length){var i=!0,a=!1;return o.forEach((function(t){a&&!i||(e(t,n,r)?a=!0:i=!1)})),!!i||!!a&&null}return!1}(t,f,w):!!f[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,m,f,w]),C=Boolean(Object.keys(c).length&&Object.keys(f).length),E=C;C&&Object.keys(c).some((function(e){return!f[e]}))&&(C=!1),C||x&&x.length&&x.some((function(e){var t=e.id;return!f[t]}))&&(E=!1);var P=v(d);b((function(){P()&&y({type:s.resetSelectedRows})}),[y,n]);var R=t.useCallback((function(e){return y({type:s.toggleAllRowsSelected,value:e})}),[y]),D=t.useCallback((function(e){return y({type:s.toggleAllPageRowsSelected,value:e})}),[y]),N=t.useCallback((function(e,t){return y({type:s.toggleRowSelected,id:e,value:t})}),[y]),I=v(e),k=p(o().getToggleAllRowsSelectedProps,{instance:I()}),_=p(o().getToggleAllPageRowsSelectedProps,{instance:I()});Object.assign(e,{selectedFlatRows:S,isAllRowsSelected:C,isAllPageRowsSelected:E,toggleRowSelected:N,toggleAllRowsSelected:R,getToggleAllRowsSelectedProps:k,getToggleAllPageRowsSelectedProps:_,toggleAllPageRowsSelected:D})}function xt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var wt=function(e){return{}},St=function(e){return{}};s.setRowState="setRowState",s.setCellState="setCellState",s.resetRowState="resetRowState";var Ct=function(e){e.stateReducers.push(Et),e.useInstance.push(Pt),e.prepareRow.push(Rt)};function Et(e,t,n,r){var i=r.initialRowStateAccessor,a=void 0===i?wt:i,l=r.initialCellStateAccessor,c=void 0===l?St:l,u=r.rowsById;if(t.type===s.init)return o({rowState:{}},e);if(t.type===s.resetRowState)return o({},e,{rowState:r.initialState.rowState||{}});if(t.type===s.setRowState){var d,p=t.rowId,f=t.value,h=void 0!==e.rowState[p]?e.rowState[p]:a(u[p]);return o({},e,{rowState:o({},e.rowState,(d={},d[p]=m(f,h),d))})}if(t.type===s.setCellState){var g,v,y,b,x,w=t.rowId,S=t.columnId,C=t.value,E=void 0!==e.rowState[w]?e.rowState[w]:a(u[w]),P=void 0!==(null==E||null==(g=E.cellState)?void 0:g[S])?E.cellState[S]:c(null==(v=u[w])||null==(y=v.cells)?void 0:y.find((function(e){return e.column.id===S})));return o({},e,{rowState:o({},e.rowState,(x={},x[w]=o({},E,{cellState:o({},E.cellState||{},(b={},b[S]=m(C,P),b))}),x))})}}function Pt(e){var n=e.autoResetRowState,r=void 0===n||n,o=e.data,i=e.dispatch,a=t.useCallback((function(e,t){return i({type:s.setRowState,rowId:e,value:t})}),[i]),l=t.useCallback((function(e,t,n){return i({type:s.setCellState,rowId:e,columnId:t,value:n})}),[i]),c=v(r);b((function(){c()&&i({type:s.resetRowState})}),[o]),Object.assign(e,{setRowState:a,setCellState:l})}function Rt(e,t){var n=t.instance,r=n.initialRowStateAccessor,o=void 0===r?wt:r,i=n.initialCellStateAccessor,a=void 0===i?St:i,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:o(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}Ct.pluginName="useRowState",s.resetColumnOrder="resetColumnOrder",s.setColumnOrder="setColumnOrder";var Dt=function(e){e.stateReducers.push(Nt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(It),e.useInstance.push(kt)};function Nt(e,t,n,r){return t.type===s.init?o({columnOrder:[]},e):t.type===s.resetColumnOrder?o({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===s.setColumnOrder?o({},e,{columnOrder:m(t.columnOrder,e.columnOrder)}):void 0}function It(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),o=[].concat(e),i=[],a=function(){var e=r.shift(),t=o.findIndex((function(t){return t.id===e}));t>-1&&i.push(o.splice(t,1)[0])};o.length&&r.length;)a();return[].concat(i,o)}function kt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:s.setColumnOrder,columnOrder:e})}),[n])}Dt.pluginName="useColumnOrder",u.canResize=!0,s.columnStartResizing="columnStartResizing",s.columnResizing="columnResizing",s.columnDoneResizing="columnDoneResizing",s.resetResize="resetResize";var _t=function(e){e.getResizerProps=[Mt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(jt),e.useInstance.push(At),e.useInstanceBeforeDimensions.push(Ot)},Mt=function(e,t){var n=t.instance,r=t.header,o=n.dispatch,i=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r,i,a=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),l=n?Math.round(e.touches[0].clientX):e.clientX,c=function(){window.cancelAnimationFrame(r),r=null,o({type:s.columnDoneResizing})},u=function(){window.cancelAnimationFrame(r),r=null,o({type:s.columnResizing,clientX:i})},d=function(e){i=e,r||(r=window.requestAnimationFrame(u))},p={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",p.mouse.moveHandler),document.removeEventListener("mouseup",p.mouse.upHandler),c()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(p.touch.moveEvent,p.touch.moveHandler),document.removeEventListener(p.touch.upEvent,p.touch.moveHandler),c()}}},f=n?p.touch:p.mouse,h=!!function(){if("boolean"==typeof O)return O;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return O=e}()&&{passive:!1};document.addEventListener(f.moveEvent,f.moveHandler,h),document.addEventListener(f.upEvent,f.upHandler,h),o({type:s.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:a,clientX:l})};return[e,{onMouseDown:function(e){return e.persist()||i(e,r)},onTouchStart:function(e){return e.persist()||i(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function jt(e,t){if(t.type===s.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===s.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===s.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:n,headerIdWidths:a,columnWidth:i,isResizingColumn:r})})}if(t.type===s.columnResizing){var l=t.clientX,c=e.columnResizing,u=c.startX,d=c.columnWidth,p=c.headerIdWidths,f=(l-u)/d,h={};return(void 0===p?[]:p).forEach((function(e){var t=e[0],n=e[1];h[t]=Math.max(n+n*f,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},h)})})}return t.type===s.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}_t.pluginName="useResizeColumns";var Ot=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,o=e.state.columnResizing,i=v(e);t.forEach((function(e){var t=D(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=o.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=o.isResizingColumn===e.id,t&&(e.getResizerProps=p(r().getResizerProps,{instance:i(),header:e}))}))};function At(e){var n=e.plugins,r=e.dispatch,o=e.autoResetResize,i=void 0===o||o,a=e.columns;g(n,["useAbsoluteLayout"],"useResizeColumns");var l=v(i);b((function(){l()&&r({type:s.resetResize})}),[a]);var c=t.useCallback((function(){return r({type:s.resetResize})}),[r]);Object.assign(e,{resetResizing:c})}var Tt={position:"absolute",top:0},Bt=function(e){e.getTableBodyProps.push(Lt),e.getRowProps.push(Lt),e.getHeaderGroupProps.push(Lt),e.getFooterGroupProps.push(Lt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Tt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Tt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Tt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Bt.pluginName="useAbsoluteLayout";var Lt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ft={display:"inline-block",boxSizing:"border-box"},zt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},$t=function(e){e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ft,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Ft,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ft,{width:n.totalWidth+"px"})}]}))};function Ht(e){e.getTableProps.push(Gt),e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push(Wt),e.getCellProps.push(qt),e.getFooterProps.push(Yt)}$t.pluginName="useBlockLayout",Ht.pluginName="useFlexLayout";var Gt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Vt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Wt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Yt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Xt(e){e.stateReducers.push(Jt),e.getTableProps.push(Ut),e.getHeaderProps.push(Zt),e.getRowProps.push(Kt)}s.columnStartResizing="columnStartResizing",s.columnResizing="columnResizing",s.columnDoneResizing="columnDoneResizing",s.resetResize="resetResize",Xt.pluginName="useGridLayout";var Ut=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Zt=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Kt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function Jt(e,t,n,r){if(t.type===s.init)return o({gridLayout:{columnWidths:{}}},e);if(t.type===s.resetResize)return o({},e,{gridLayout:{columnWidths:{}}});if(t.type===s.columnStartResizing){var i=t.columnId,a=t.headerIdWidths,l=Qt(i);if(void 0!==l){var c=r.visibleColumns.reduce((function(e,t){var n;return o({},e,((n={})[t.id]=Qt(t.id),n))}),{}),u=r.visibleColumns.reduce((function(e,t){var n;return o({},e,((n={})[t.id]=t.minWidth,n))}),{}),d=r.visibleColumns.reduce((function(e,t){var n;return o({},e,((n={})[t.id]=t.maxWidth,n))}),{}),p=a.map((function(e){var t=e[0];return[t,Qt(t)]}));return o({},e,{gridLayout:o({},e.gridLayout,{startWidths:c,minWidths:u,maxWidths:d,headerIdGridWidths:p,columnWidth:l})})}return e}if(t.type===s.columnResizing){var f=t.clientX,h=e.columnResizing.startX,g=e.gridLayout,m=g.columnWidth,v=g.minWidths,y=g.maxWidths,b=g.headerIdGridWidths,x=(f-h)/m,w={};return(void 0===b?[]:b).forEach((function(e){var t=e[0],n=e[1];w[t]=Math.min(Math.max(v[t],n+n*x),y[t])})),o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:o({},e.gridLayout.columnWidths,{},w)})})}return t.type===s.columnDoneResizing?o({},e,{gridLayout:o({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function Qt(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=tt,e.actions=s,e.defaultColumn=u,e.defaultGroupByFn=$e,e.defaultOrderByFn=Ke,e.defaultRenderer=l,e.emptyRenderer=c,e.ensurePluginOrder=g,e.flexRender=w,e.functionalUpdate=m,e.loopHooks=h,e.makePropGetter=p,e.makeRenderer=x,e.reduceHooks=f,e.safeUseLayoutEffect=y,e.useAbsoluteLayout=Bt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var o=t.useRef({}),i=v(e),a=v(n);return t.useCallback(function(){var e=r(regeneratorRuntime.mark((function e(){var t,n,s,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,n=new Array(t),s=0;s<t;s++)n[s]=l[s];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,i().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),a()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[i,a])},e.useBlockLayout=$t,e.useColumnOrder=Dt,e.useExpanded=se,e.useFilters=Ee,e.useFlexLayout=Ht,e.useGetLatest=v,e.useGlobalFilter=De,e.useGridLayout=Xt,e.useGroupBy=Oe,e.useMountedLayoutEffect=b,e.usePagination=Je,e.useResizeColumns=_t,e.useRowSelect=ht,e.useRowState=Ct,e.useSortBy=Ye,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=oe(e),r=[q].concat(r);var a=v(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:r,hooks:W()})),r.filter(Boolean).forEach((function(e){e(a().hooks)}));var l=v(a().hooks);a().getHooks=l,delete a().hooks,Object.assign(a(),f(l().useOptions,oe(e)));var c=a(),u=c.data,d=c.columns,g=c.initialState,m=c.defaultColumn,y=c.getSubRows,b=c.getRowId,w=c.stateReducer,R=c.useControlledState,D=v(w),N=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action 👆");return[].concat(l().stateReducers,Array.isArray(D())?D():[D()]).reduce((function(n,r){return r(n,t,e,a())||n}),e)}),[l,D,a]),I=t.useReducer(N,void 0,(function(){return N(g,{type:s.init})})),k=I[0],_=I[1],M=f([].concat(l().useControlledState,[R]),k,{instance:a()});Object.assign(a(),{state:M,dispatch:_});var j=t.useMemo((function(){return S(f(l().columns,d,{instance:a()}))}),[l,a,d].concat(f(l().columnsDeps,[],{instance:a()})));a().columns=j;var O=t.useMemo((function(){return f(l().allColumns,C(j),{instance:a()}).map(E)}),[j,l,a].concat(f(l().allColumnsDeps,[],{instance:a()})));a().allColumns=O;var A=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(O);r.length;){var o=r.shift();ae({data:u,rows:e,flatRows:t,rowsById:n,column:o,getRowId:b,getSubRows:y,accessValueHooks:l().accessValue,getInstance:a})}return[e,t,n]}),[O,u,b,y,l,a]),T=A[0],B=A[1],L=A[2];Object.assign(a(),{rows:T,initialRows:[].concat(T),flatRows:B,rowsById:L}),h(l().useInstanceAfterData,a());var F=t.useMemo((function(){return f(l().visibleColumns,O,{instance:a()}).map((function(e){return P(e,m)}))}),[l,O,a,m].concat(f(l().visibleColumnsDeps,[],{instance:a()})));O=t.useMemo((function(){var e=[].concat(F);return O.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[O,F]),a().allColumns=O;var z=t.useMemo((function(){return f(l().headerGroups,function(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,a=0,s=function(){return a++},l=function(){var e={headers:[]},a=[],l=i.some((function(e){return e.parent}));i.forEach((function(r){var i,c=[].concat(a).reverse()[0];l&&(i=r.parent?o({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):P(o({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),t),c&&c.originalId===i.originalId?c.headers.push(r):a.push(i)),e.headers.push(r)})),r.push(e),i=a};i.length;)l();return r.reverse()}(F,m),a())}),[l,F,m,a].concat(f(l().headerGroupsDeps,[],{instance:a()})));a().headerGroups=z;var $=t.useMemo((function(){return z.length?z[0].headers:[]}),[z]);a().headers=$,a().flatHeaders=z.reduce((function(e,t){return[].concat(e,t.headers)}),[]),h(l().useInstanceBeforeDimensions,a());var H=F.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");F=t.useMemo((function(){return F.filter((function(e){return e.isVisible}))}),[F,H]),a().visibleColumns=F;var G=ie($),V=G[0],Y=G[1],X=G[2];return a().totalColumnsMinWidth=V,a().totalColumnsWidth=Y,a().totalColumnsMaxWidth=X,h(l().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=x(a(),e),e.getHeaderProps=p(l().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=p(l().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return z.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(l().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=p(l().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[z,a,l]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=p(l().getRowProps,{instance:a(),row:e}),e.allCells=O.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=p(l().getCellProps,{instance:a(),cell:r}),r.render=x(a(),t,{row:e,cell:r,value:n}),r})),e.cells=F.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),h(l().prepareRow,e,{instance:a()})}),[l,a,O,F]),a().getTableProps=p(l().getTableProps,{instance:a()}),a().getTableBodyProps=p(l().getTableBodyProps,{instance:a()}),h(l().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(609))},885:(e,t,n)=>{e.exports=n(829)},714:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],r=e=>e[0].toUpperCase()+e.slice(1),o=(e,t)=>n(e).join(t).toLowerCase(),i=e=>n(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:n,upperFirst:r,camelCase:i,pascalCase:e=>r(i(e)),snakeCase:e=>o(e,"_"),kebabCase:e=>o(e,"-"),sentenceCase:e=>r(o(e," ")),titleCase:e=>n(e).map(r).join(" ")}},981:e=>{function t(e,t){var n=e.length,r=new Array(n),o={},i=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||l(e[i],i,new Set);return r;function l(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var u=a.get(e)||new Set;if(t=(u=Array.from(u)).length){i.add(e);do{var d=u[--t];l(d,s.get(d),i)}while(t);i.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)},e.exports.array=t},63:(e,t,n)=>{"use strict";var r=n(609),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},940:(e,t,n)=>{"use strict";var r=n(609),o=n(888),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var f=a(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=f}),[f]),u(f),f}},888:(e,t,n)=>{"use strict";e.exports=n(63)},242:(e,t,n)=>{"use strict";e.exports=n(940)},609:e=>{"use strict";e.exports=window.React},795:e=>{"use strict";e.exports=window.ReactDOM}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],i=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,a=n[0],s=n[1],l=n[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunknocs_obatala=self.webpackChunknocs_obatala||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[350],(()=>r(907)));o=r.O(o)})();